/*! For license information please see main.5c61536e.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))n.call(o,c)&&(u[c]=o[c]);if(t){s=t(o);for(var f=0;f<s.length;f++)r.call(o,s[f])&&(u[s[f]]=o[s[f]])}}return u}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,E=60106,S=60107,_=60108,C=60114,I=60109,T=60110,N=60112,A=60113,O=60120,L=60115,D=60116,R=60121,P=60128,M=60129,j=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),E=U("react.portal"),S=U("react.fragment"),_=U("react.strict_mode"),C=U("react.profiler"),I=U("react.provider"),T=U("react.context"),N=U("react.forward_ref"),A=U("react.suspense"),O=U("react.suspense_list"),L=U("react.memo"),D=U("react.lazy"),R=U("react.block"),U("react.scope"),P=U("react.opaque.id"),M=U("react.debug_trace_mode"),j=U("react.offscreen"),F=U("react.legacy_hidden")}var V,z="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var H=!1;function W(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function K(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case C:return"Profiler";case _:return"StrictMode";case A:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case L:return G(e.type);case R:return G(e._render);case D:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function le(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ce(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Te=null,Ne=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Ie)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Ie(e.stateNode,e.type,t))}}function Oe(e){Te?Ne?Ne.push(e):Ne=[e]:Te=e}function Le(){if(Te){var e=Te,t=Ne;if(Ne=Te=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function De(e,t){return e(t)}function Re(e,t,n,r,i){return e(t,n,r,i)}function Pe(){}var Me=De,je=!1,Fe=!1;function Ue(){null===Te&&null===Ne||(Pe(),Le())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(me){ze=!1}function qe(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var He=!1,We=null,Ke=!1,Ge=null,Qe={onError:function(e){He=!0,We=e}};function Ye(e,t,n,r,i,a,o,s,u){He=!1,We=null,qe.apply(Qe,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Xe(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return $e(i),e;if(a===r)return $e(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,lt=null,ct=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function wt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&gt(st)&&(st=null),null!==ut&&gt(ut)&&(ut=null),null!==lt&&gt(lt)&&(lt=null),ct.forEach(kt),ft.forEach(kt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,wt)))}function xt(e){function t(t){return bt(t,e)}if(0<ot.length){bt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&bt(st,e),null!==ut&&bt(ut,e),null!==lt&&bt(lt,e),ct.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var St={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},_t={},Ct={};function It(e){if(_t[e])return _t[e];if(!St[e])return e;var t,n=St[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ct)return _t[e]=n[t];return e}f&&(Ct=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var Tt=It("animationend"),Nt=It("animationiteration"),At=It("animationstart"),Ot=It("transitionend"),Lt=new Map,Dt=new Map,Rt=["abort","abort",Tt,"animationEnd",Nt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Pt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Dt.set(r,t),Lt.set(r,i),l(i,[r])}}(0,a.unstable_now)();var Mt=8;function jt(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=jt(u),i=Mt):0!==(s&=a)&&(r=jt(s),i=Mt)}else 0!==(a=n&~o)?(r=jt(a),i=Mt):0!==s&&(r=jt(s),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(jt(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Vt(10,t):e;case 10:return 0===(e=zt(192&~t))?Vt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function zt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Kt|0)|0},Wt=Math.log,Kt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,Yt=!0;function Xt(e,t,n,r){je||Pe();var i=$t,a=je;je=!0;try{Re(i,e,t,n,r)}finally{(je=a)||Ue()}}function Jt(e,t,n,r){Qt(Gt,$t.bind(null,e,t,n,r))}function $t(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ut=mt(ut,e,t,n,r,i),!0;case"mouseover":return lt=mt(lt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ct.set(a,mt(ct.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Pr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Ce(r);if(null!==(i=ni(i))){var a=Xe(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Je(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Pr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var ln,cn,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(ln=e.screenX-fn.screenX,cn=e.screenY-fn.screenY):cn=ln=0,fn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),yn=un(mn),gn=un(i({},mn,{dataTransfer:0})),kn=un(i({},pn,{relatedTarget:0})),wn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=un(bn),En=un(i({},hn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function Tn(){return In}var Nn=i({},pn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=un(Nn),On=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ln=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Dn=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=un(Rn),Mn=[9,13,27,32],jn=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var Un=f&&"TextEvent"in window&&!Fn,Vn=f&&(!jn||Fn&&8<Fn&&11>=Fn),zn=String.fromCharCode(32),Bn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Qn(e,t,n,r){Oe(r),0<(t=jr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Xn=null;function Jn(e){Nr(e,0)}function $n(e){if(J(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Yn&&(Yn.detachEvent("onpropertychange",ar),Xn=Yn=null)}function ar(e){if("value"===e.propertyName&&$n(Xn)){var t=[];if(Qn(t,Xn,e,Ce(e)),e=Jn,je)e(t);else{je=!0;try{De(e,t)}finally{je=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),Xn=n,(Yn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Xn)}function ur(e,t){if("click"===e)return $n(t)}function lr(e,t){if("input"===e||"change"===e)return $n(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,wr=null,br=null,xr=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==$(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&hr(br,r)||(br=r,0<(r=jr(wr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Pt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Pt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Pt(Rt,2);for(var Sr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),_r=0;_r<Sr.length;_r++)Dt.set(Sr[_r],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cr));function Tr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,l){if(Ye.apply(this,arguments),He){if(!He)throw Error(o(198));var c=We;He=!1,We=null,Ke||(Ke=!0,Ge=c)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Tr(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Tr(i,s,l),a=u}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function Ar(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Rr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Lr(e){e[Or]||(e[Or]=!0,s.forEach((function(t){Ir.has(t)||Dr(t,!1,e,null),Dr(t,!0,e,null)})))}function Dr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Ir.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Rr(a,e,i,t),o.add(s))}function Rr(e,t,n,r){var i=Dt.get(t);switch(void 0===i?2:i){case 0:i=Xt;break;case 1:i=Jt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Pr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Me(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=a,i=Ce(n),o=[];e:{var s=Lt.get(e);if(void 0!==s){var u=dn,l=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=An;break;case"focusin":l="focus",u=kn;break;case"focusout":l="blur",u=kn;break;case"beforeblur":case"afterblur":u=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Ln;break;case Tt:case Nt:case At:u=wn;break;case Ot:u=Dn;break;case"scroll":u=vn;break;case"wheel":u=Pn;break;case"copy":case"cut":case"paste":u=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=On}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&c.push(Mr(p,v,d)))),f)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(l=n.relatedTarget||n.fromElement)||!ni(l)&&!l[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?ni(l):null)&&(l!==(f=Xe(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=On,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==l?s:ii(l),(s=new c(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ni(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=d,c.relatedTarget=f,v=c),f=v,u&&l)e:{for(h=l,p=0,d=c=u;d;d=Fr(d))p++;for(d=0,v=h;v;v=Fr(v))d++;for(;0<p-d;)c=Fr(c),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Fr(c),h=Fr(h)}c=null}else c=null;null!==u&&Ur(o,s,u,c,!1),null!==l&&null!==f&&Ur(o,f,l,c,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Zn;else if(Gn(s))if(er)m=lr;else{m=sr;var y=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(kr=y,wr=r,br=null);break;case"focusout":br=wr=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Er(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Er(o,n,i)}var g;if(jn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Wn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Wn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(y=jr(r,k)).length&&(k=new En(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Hn(n))&&(k.data=g))),(g=Un?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Bn=!0,zn);case"textInput":return(e=t.data)===zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!jn&&qn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=jr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Nr(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Ve(n,a))&&o.unshift(Mr(n,u,s)):i||null!=(u=Ve(n,a))&&o.push(Mr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var zr=null,Br=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Xr=0;var Jr=Math.random().toString(36).slice(2),$r="__reactFiber$"+Jr,Zr="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[$r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[$r])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[$r]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function li(e){return{current:e}}function ci(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=li(hi),pi=li(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){ci(pi),ci(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=wi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,ci(pi),ci(di),fi(di,e)):ci(pi),fi(pi,n)}var Ei=null,Si=null,_i=a.unstable_runWithPriority,Ci=a.unstable_scheduleCallback,Ii=a.unstable_cancelCallback,Ti=a.unstable_shouldYield,Ni=a.unstable_requestPaint,Ai=a.unstable_now,Oi=a.unstable_getCurrentPriorityLevel,Li=a.unstable_ImmediatePriority,Di=a.unstable_UserBlockingPriority,Ri=a.unstable_NormalPriority,Pi=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,ji={},Fi=void 0!==Ni?Ni:function(){},Ui=null,Vi=null,zi=!1,Bi=Ai(),qi=1e4>Bi?Ai:function(){return Ai()-Bi};function Hi(){switch(Oi()){case Li:return 99;case Di:return 98;case Ri:return 97;case Pi:return 96;case Mi:return 95;default:throw Error(o(332))}}function Wi(e){switch(e){case 99:return Li;case 98:return Di;case 97:return Ri;case 96:return Pi;case 95:return Mi;default:throw Error(o(332))}}function Ki(e,t){return e=Wi(e),_i(e,t)}function Gi(e,t,n){return e=Wi(e),Ci(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Ii(e)}Yi()}function Yi(){if(!zi&&null!==Ui){zi=!0;var e=0;try{var t=Ui;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ci(Li,Qi),n}finally{zi=!1}}}var Xi=b.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $i=li(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=$i.current;ci($i),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(jo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function la(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ca(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var l=u,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=c:h.next=c,f.lastBaseUpdate=l)}}if(null!==o){for(h=a.baseState,s=0,f=c=l=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(c=f=d,l=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(l=h),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=f,zs|=s,e.lanes=s,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=ca(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=ca(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=ca(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),pu(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function Ea(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Sa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function _a(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ku(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ea(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=Ea(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ju(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=Ea(e,null,t),n.return=e,n;case E:return(t=Ju(t,e.mode,n)).return=e,t}if(xa(t)||B(t))return(t=Qu(t,e.mode,n,null)).return=e,t;Sa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===S?f(e,t,n.props.children,r,i):l(e,t,n,r):null;case E:return n.key===i?c(e,t,n,r):null}if(xa(n)||B(n))return null!==i?null:f(e,t,n,r,null);Sa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===S?f(t,e,r.props.children,i,r.key):l(t,e,r,i);case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);Sa(t,r)}return null}function v(i,o,s,u){for(var l=null,c=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===c?l=y:c.sibling=y,c=y,f=m}if(v===s.length)return n(i,f),l;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===c?l=f:c.sibling=f,c=f);return l}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===c?l=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(i,e)})),l}function m(i,s,u,l){var c=B(u);if("function"!==typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var f=c=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,l);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,m),null===f?c=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),c;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,l))&&(s=a(g,s,m),null===f?c=g:f.sibling=g,f=g);return c}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,l))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=a(g,s,m),null===f?c=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),c}return function(e,r,a,u){var l="object"===typeof a&&null!==a&&a.type===S&&null===a.key;l&&(a=a.props.children);var c="object"===typeof a&&null!==a;if(c)switch(a.$$typeof){case x:e:{for(c=a.key,l=r;null!==l;){if(l.key===c){if(7===l.tag){if(a.type===S){n(e,l.sibling),(r=i(l,a.props.children)).return=e,e=r;break e}}else if(l.elementType===a.type){n(e,l.sibling),(r=i(l,a.props)).ref=Ea(e,l,a),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}a.type===S?((r=Qu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=Ea(e,r,a),u.return=e,e=u)}return s(e);case E:e:{for(l=a.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ju(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Xu(a,e.mode,u)).return=e,e=r),s(e);if(xa(a))return v(e,r,a,u);if(B(a))return m(e,r,a,u);if(c&&Sa(e,a),"undefined"===typeof a&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ca=_a(!0),Ia=_a(!1),Ta={},Na=li(Ta),Aa=li(Ta),Oa=li(Ta);function La(e){if(e===Ta)throw Error(o(174));return e}function Da(e,t){switch(fi(Oa,t),fi(Aa,e),fi(Na,Ta),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(Na),fi(Na,t)}function Ra(){ci(Na),ci(Aa),ci(Oa)}function Pa(e){La(Oa.current);var t=La(Na.current),n=pe(t,e.type);t!==n&&(fi(Aa,e),fi(Na,n))}function Ma(e){Aa.current===e&&(ci(Na),ci(Aa))}var ja=li(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,Va=null,za=!1;function Ba(e,t){var n=Hu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ha(e){if(za){var t=Va;if(t){var n=t;if(!qa(e,t)){if(!(t=Qr(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,za=!1,void(Ua=e);Ba(Ua,n)}Ua=e,Va=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,za=!1,Ua=e}}function Wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Ka(e){if(e!==Ua)return!1;if(!za)return Wa(e),za=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=Va;t;)Ba(e,t),t=Qr(t.nextSibling);if(Wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Ua?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){Va=Ua=null,za=!1}var Qa=[];function Ya(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Xa=b.ReactCurrentDispatcher,Ja=b.ReactCurrentBatchConfig,$a=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if($a=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xa.current=null===e||null===e.memoizedState?Do:Ro,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Xa.current=Po,e=n(r,i)}while(ro)}if(Xa.current=Lo,t=null!==eo&&null!==eo.next,$a=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function lo(e,t){return"function"===typeof t?t(e):t}function co(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,l=i;do{var c=l.lane;if(($a&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,Za.lanes|=c,zs|=c}l=l.next}while(null!==l&&l!==i);null===u?a=r:u.next=s,cr(r,t.memoizedState)||(jo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);cr(a,t.memoizedState)||(jo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=($a&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Ds;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Xa.current,l=u.useState((function(){return ho(i,t,n)})),c=l[1],f=l[0];l=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=c;var e=a(t._source);if(!cr(s,e)){e=n(t._source),cr(f,e)||(c(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Ht(o),l=1<<u;r[u]|=e,o&=~l}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),cr(p,n)&&cr(v,t)&&cr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:lo,lastRenderedState:f}).dispatch=c=Oo.bind(null,Za,e),l.queue=e,l.baseQueue=null,f=ho(i,t,n),l.memoizedState=l.baseState=f),f}function vo(e,t,n){return po(uo(),e,t,n)}function mo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:lo,lastRenderedState:e}).dispatch=Oo.bind(null,Za,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},so().memoizedState=e}function ko(){return uo().memoizedState}function wo(e,t,n,r){var i=so();Za.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Za.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function xo(e,t){return wo(516,4,e,t)}function Eo(e,t){return bo(516,4,e,t)}function So(e,t){return bo(4,2,e,t)}function _o(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Co(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,_o.bind(null,t,e),n)}function Io(){}function To(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=Hi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Ja.transition;Ja.transition=1;try{e(!1),t()}finally{Ja.transition=n}}))}function Oo(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,cr(u,s))return}catch(l){}pu(e,i,r)}}var Lo={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,_o.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oo.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:Io,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(za){var e=!1,t=function(e){return{$$typeof:P,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Xr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,yo(5,(function(){n("r:"+(Xr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Xr++).toString(36)),t},unstable_isNewReconciler:!1},Ro={readContext:oa,useCallback:To,useContext:oa,useEffect:Eo,useImperativeHandle:Co,useLayoutEffect:So,useMemo:No,useReducer:co,useRef:ko,useState:function(){return co(lo)},useDebugValue:Io,useDeferredValue:function(e){var t=co(lo),n=t[0],r=t[1];return Eo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=co(lo)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return co(lo)[0]},unstable_isNewReconciler:!1},Po={readContext:oa,useCallback:To,useContext:oa,useEffect:Eo,useImperativeHandle:Co,useLayoutEffect:So,useMemo:No,useReducer:fo,useRef:ko,useState:function(){return fo(lo)},useDebugValue:Io,useDeferredValue:function(e){var t=fo(lo),n=t[0],r=t[1];return Eo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=fo(lo)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(lo)[0]},unstable_isNewReconciler:!1},Mo=b.ReactCurrentOwner,jo=!1;function Fo(e,t,n,r){t.child=null===e?Ia(t,null,n,r):Ca(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Wu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,zo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Ku(o,r)).ref=t.ref,e.return=t,t.child=e)}function zo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(jo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(jo=!0)}return Ho(e,t,n,r,a)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xu(t,e),null;t.memoizedState={baseLanes:0},xu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xu(t,r);return Fo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ho(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Wo(e,t,n,r,i){if(yi(n)){var a=!0;bi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=oa(l):l=mi(t,l=yi(n)?vi:di.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&wa(t,o,r,l),sa=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),u=t.memoizedState,s!==r||h!==u||pi.current||sa?("function"===typeof c&&(ma(t,n,c,r),u=t.memoizedState),(s=sa||ga(t,n,s,r,h,u,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,la(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Ji(t.type,s),o.props=l,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=mi(t,u=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&wa(t,o,r,u),sa=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||pi.current||sa?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(l=sa||ga(t,n,l,r,h,p,u))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),as(e,t,a);r=t.stateNode,Mo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ca(t,e.child,null,a),t.child=Ca(t,null,s,a)):Fo(e,t,s,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Da(e,t.containerInfo)}var Qo,Yo,Xo,Jo={dehydrated:null,retryLane:0};function $o(e,t,n){var r,i=t.pendingProps,a=ja.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(ja,1&a),null===e?(void 0!==i.fallback&&Ha(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=Yu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Yu(t,i,0,null),n=Qu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Ku(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ku(o,s),null!==e?r=Ku(e,r):(r=Qu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=ja.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(ja,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ku(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ku(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!za)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Ra(),ci(pi),ci(di),Ya(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=La(Oa.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=La(Na.current),Ka(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[$r]=t,r[Zr]=s,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Cr.length;e++)Ar(Cr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,s),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ar("invalid",r);break;case"textarea":ue(r,s),Ar("invalid",r)}for(var l in Se(n,s),e=null,s)s.hasOwnProperty(l)&&(a=s[l],"children"===l?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(l)&&null!=a&&"onScroll"===l&&Ar("scroll",r));switch(n){case"input":X(r),re(r,s,!0);break;case"textarea":X(r),ce(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(l=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[$r]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,l=_e(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<Cr.length;a++)Ar(Cr[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Ar("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Ar("invalid",e);break;default:a=r}Se(n,a);var c=a;for(s in c)if(c.hasOwnProperty(s)){var f=c[s];"style"===s?xe(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Ar("scroll",e):null!=f&&w(e,s,f,l))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=La(Oa.current),La(Na.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[$r]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=t,t.stateNode=r)}return null;case 13:return ci(ja),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&ja.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===Ds||0===(134217727&zs)&&0===(134217727&Bs)||gu(Ds,Ps))),(r||n)&&(t.flags|=4),null);case 4:return Ra(),null===e&&Lr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(ci(ja),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(l=r.rendering))if(s)os(r,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=Fa(e))){for(t.flags|=64,os(r,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(ja,1&ja.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Ks&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fa(l))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!za)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Ks&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=ja.current,fi(ja,s?1&t|2:1&t),n):null;case 23:case 24:return Eu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ra(),ci(pi),ci(di),Ya(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return ci(ja),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(ja),null;case 4:return Ra(),null;case 10:return ra(e),null;case 23:case 24:return Eu(),null;default:return null}}function ls(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function cs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,La(Na.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Se(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var l=a[f];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var c=r[f];if(l=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&c!==l&&(null!=c||null!=l))if("style"===f)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(f,n)),n=c;else"dangerouslySetInnerHTML"===f?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(f,c)):"children"===f?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(f,""+c):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=c&&"onScroll"===f&&Ar("scroll",e),s||l===c||(s=[])):"object"===typeof c&&null!==c&&c.$$typeof===P?c.toString():(s=s||[]).push(f,c))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Xo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=ca(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xs||(Xs=!0,Js=r),cs(0,t)},n}function ds(e,t,n){(n=ca(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return cs(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===$s?$s=new Set([this]):$s.add(this),cs(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function ys(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(ju(n,e),Mu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(Si&&"function"===typeof Si.onCommitFiberUnmount)try{Si.onCommitFiberUnmount(Ei,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))ju(t,n);else{r=t;try{i()}catch(a){Vu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vu(t,a)}break;case 5:vs(t);break;case 4:_s(e,t)}}function ws(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function bs(e){return 5===e.tag||3===e.tag||4===e.tag}function xs(e){e:{for(var t=e.return;null!==t;){if(bs(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||bs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Es(e,n,t):Ss(e,n,t)}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function Ss(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ss(e,t,n),e=e.sibling;null!==e;)Ss(e,t,n),e=e.sibling}function _s(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,l=u;;)if(ks(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===u)break e;for(;null===l.sibling;){if(null===l.return||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Cs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),_e(e,i),t=_e(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?xe(n,u):"dangerouslySetInnerHTML"===s?ye(n,u):"children"===s?ge(n,u):w(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ws=qi(),gs(t.child,!0)),void Is(t);case 19:return void Is(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(o(163))}function Is(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Bu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ts(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ns=Math.ceil,As=b.ReactCurrentDispatcher,Os=b.ReactCurrentOwner,Ls=0,Ds=null,Rs=null,Ps=0,Ms=0,js=li(0),Fs=0,Us=null,Vs=0,zs=0,Bs=0,qs=0,Hs=null,Ws=0,Ks=1/0;function Gs(){Ks=qi()+500}var Qs,Ys=null,Xs=!1,Js=null,$s=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,lu=0,cu=null,fu=!1;function hu(){return 0!==(48&Ls)?qi():-1!==su?su:su=qi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Hi()?1:2;if(0===uu&&(uu=Vs),0!==Xi.transition){0!==lu&&(lu=null!==Hs?Hs.pendingLanes:0),e=uu;var t=4186112&~lu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hi(),0!==(4&Ls)&&98===e?e=Vt(12,uu):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;qt(e,t,n),e===Ds&&(Bs|=t,4===Fs&&gu(e,Ps));var r=Hi();1===t?0!==(8&Ls)&&0===(48&Ls)?ku(e):(mu(e,n),0===Ls&&(Gs(),Qi())):(0===(4&Ls)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),Hs=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Ht(s),l=1<<u,c=a[u];if(-1===c){if(0===(l&r)||0!==(l&i)){c=t,jt(l);var f=Mt;a[u]=10<=f?c+250:6<=f?c+5e3:-1}}else c<=t&&(e.expiredLanes|=l);s&=~l}if(r=Ft(e,e===Ds?Ps:0),t=Mt,0===r)null!==n&&(n!==ji&&Ii(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==ji&&Ii(n)}15===t?(n=ku.bind(null,e),null===Ui?(Ui=[n],Vi=Ci(Li,Yi)):Ui.push(n),n=ji):14===t?n=Gi(99,ku.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,yu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yu(e){if(su=-1,lu=uu=0,0!==(48&Ls))throw Error(o(327));var t=e.callbackNode;if(Pu()&&e.callbackNode!==t)return null;var n=Ft(e,e===Ds?Ps:0);if(0===n)return null;var r=n,i=Ls;Ls|=16;var a=Cu();for(Ds===e&&Ps===r||(Gs(),Su(e,r));;)try{Nu();break}catch(u){_u(e,u)}if(na(),As.current=a,Ls=i,null!==Rs?r=0:(Ds=null,Ps=0,r=Fs),0!==(Vs&Bs))Su(e,0);else if(0!==r){if(2===r&&(Ls|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=Iu(e,n))),1===r)throw t=Us,Su(e,0),gu(e,n),mu(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Lu(e);break;case 3:if(gu(e,n),(62914560&n)===n&&10<(r=Ws+500-qi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Lu.bind(null,e),r);break}Lu(e);break;case 4:if(gu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Ht(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ns(n/1960))-n)){e.timeoutHandle=Wr(Lu.bind(null,e),n);break}Lu(e);break;default:throw Error(o(329))}}return mu(e,qi()),e.callbackNode===t?yu.bind(null,e):null}function gu(e,t){for(t&=~qs,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(0!==(48&Ls))throw Error(o(327));if(Pu(),e===Ds&&0!==(e.expiredLanes&Ps)){var t=Ps,n=Iu(e,t);0!==(Vs&Bs)&&(n=Iu(e,t=Ft(e,t)))}else n=Iu(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Ls|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=Iu(e,t))),1===n)throw n=Us,Su(e,0),gu(e,t),mu(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Lu(e),mu(e,qi()),null}function wu(e,t){var n=Ls;Ls|=1;try{return e(t)}finally{0===(Ls=n)&&(Gs(),Qi())}}function bu(e,t){var n=Ls;Ls&=-2,Ls|=8;try{return e(t)}finally{0===(Ls=n)&&(Gs(),Qi())}}function xu(e,t){fi(js,Ms),Ms|=t,Vs|=t}function Eu(){Ms=js.current,ci(js)}function Su(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Ra(),ci(pi),ci(di),Ya();break;case 5:Ma(r);break;case 4:Ra();break;case 13:case 19:ci(ja);break;case 10:ra(r);break;case 23:case 24:Eu()}n=n.return}Ds=e,Rs=Ku(e.current,null),Ps=Ms=Vs=t,Fs=0,Us=null,qs=Bs=zs=0}function _u(e,t){for(;;){var n=Rs;try{if(na(),Xa.current=Lo,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if($a=0,to=eo=Za=null,ro=!1,Os.current=null,null===n||null===n.return){Fs=1,Us=t,Rs=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ps,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&ja.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(l),h.updateQueue=y}else m.add(l);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=ca(-1,1);g.tag=2,fa(s,g)}s.lanes|=1;break e}u=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fs,u=new Set,k.set(l,u)):void 0===(u=k.get(l))&&(u=new Set,k.set(l,u)),!u.has(s)){u.add(s);var w=zu.bind(null,a,l,s);l.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),u=ls(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hs(0,a,t));break e;case 1:a=u;var b=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof b.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===$s||!$s.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Ou(n)}catch(E){t=E,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function Cu(){var e=As.current;return As.current=Lo,null===e?Lo:e}function Iu(e,t){var n=Ls;Ls|=16;var r=Cu();for(Ds===e&&Ps===t||Su(e,t);;)try{Tu();break}catch(i){_u(e,i)}if(na(),Ls=n,As.current=r,null!==Rs)throw Error(o(261));return Ds=null,Ps=0,Fs}function Tu(){for(;null!==Rs;)Au(Rs)}function Nu(){for(;null!==Rs&&!Ti();)Au(Rs)}function Au(e){var t=Qs(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,null===t?Ou(e):Rs=t,Os.current=null}function Ou(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ms)))return void(Rs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ms)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Rs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Fs&&(Fs=5)}function Lu(e){var t=Hi();return Ki(99,Du.bind(null,e,t)),null}function Du(e,t){do{Pu()}while(null!==eu);if(0!==(48&Ls))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var l=31-Ht(a),c=1<<l;i[l]=0,s[l]=-1,u[l]=-1,a&=~c}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Ds&&(Rs=Ds=null,Ps=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ls,Ls|=32,Os.current=null,zr=Yt,yr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&0!==c.rangeCount){u=c.anchorNode,a=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch(C){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=s,y=null;t:for(;;){for(var g;m!==u||0!==a&&3!==m.nodeType||(h=f+a),m!==l||0!==c&&3!==m.nodeType||(d=f+c),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===s)break t;if(y===u&&++p===a&&(h=f),y===l&&++v===c&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Br={focusedElem:s,selectionRange:u},Yt=!1,cu=null,fu=!1,Ys=r;do{try{Ru()}catch(C){if(null===Ys)throw Error(o(330));Vu(Ys,C),Ys=Ys.nextEffect}}while(null!==Ys);cu=null,Ys=r;do{try{for(s=e;null!==Ys;){var k=Ys.flags;if(16&k&&ge(Ys.stateNode,""),128&k){var w=Ys.alternate;if(null!==w){var b=w.ref;null!==b&&("function"===typeof b?b(null):b.current=null)}}switch(1038&k){case 2:xs(Ys),Ys.flags&=-3;break;case 6:xs(Ys),Ys.flags&=-3,Cs(Ys.alternate,Ys);break;case 1024:Ys.flags&=-1025;break;case 1028:Ys.flags&=-1025,Cs(Ys.alternate,Ys);break;case 4:Cs(Ys.alternate,Ys);break;case 8:_s(s,u=Ys);var x=u.alternate;ws(u),null!==x&&ws(x)}Ys=Ys.nextEffect}}catch(C){if(null===Ys)throw Error(o(330));Vu(Ys,C),Ys=Ys.nextEffect}}while(null!==Ys);if(b=Br,w=mr(),k=b.focusedElem,s=b.selectionRange,w!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==s&&yr(k)&&(w=s.start,void 0===(b=s.end)&&(b=w),"selectionStart"in k?(k.selectionStart=w,k.selectionEnd=Math.min(b,k.value.length)):(b=(w=k.ownerDocument||document)&&w.defaultView||window).getSelection&&(b=b.getSelection(),u=k.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!b.extend&&x>s&&(u=s,s=x,x=u),u=pr(k,x),a=pr(k,s),u&&a&&(1!==b.rangeCount||b.anchorNode!==u.node||b.anchorOffset!==u.offset||b.focusNode!==a.node||b.focusOffset!==a.offset)&&((w=w.createRange()).setStart(u.node,u.offset),b.removeAllRanges(),x>s?(b.addRange(w),b.extend(a.node,a.offset)):(w.setEnd(a.node,a.offset),b.addRange(w))))),w=[];for(b=k;b=b.parentNode;)1===b.nodeType&&w.push({element:b,left:b.scrollLeft,top:b.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<w.length;k++)(b=w[k]).element.scrollLeft=b.left,b.element.scrollTop=b.top}Yt=!!zr,Br=zr=null,e.current=n,Ys=r;do{try{for(k=e;null!==Ys;){var E=Ys.flags;if(36&E&&ys(k,Ys.alternate,Ys),128&E){w=void 0;var S=Ys.ref;if(null!==S){var _=Ys.stateNode;Ys.tag,w=_,"function"===typeof S?S(w):S.current=w}}Ys=Ys.nextEffect}}catch(C){if(null===Ys)throw Error(o(330));Vu(Ys,C),Ys=Ys.nextEffect}}while(null!==Ys);Ys=null,Fi(),Ls=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for(Ys=r;null!==Ys;)t=Ys.nextEffect,Ys.nextEffect=null,8&Ys.flags&&((E=Ys).sibling=null,E.stateNode=null),Ys=t;if(0===(r=e.pendingLanes)&&($s=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,Si&&"function"===typeof Si.onCommitFiberRoot)try{Si.onCommitFiberRoot(Ei,n,void 0,64===(64&n.current.flags))}catch(C){}if(mu(e,qi()),Xs)throw Xs=!1,e=Js,Js=null,e;return 0!==(8&Ls)||Qi(),null}function Ru(){for(;null!==Ys;){var e=Ys.alternate;fu||null===cu||(0!==(8&Ys.flags)?et(Ys,cu)&&(fu=!0):13===Ys.tag&&Ts(e,Ys)&&et(Ys,cu)&&(fu=!0));var t=Ys.flags;0!==(256&t)&&ms(e,Ys),0===(512&t)||Zs||(Zs=!0,Gi(97,(function(){return Pu(),null}))),Ys=Ys.nextEffect}}function Pu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Ki(e,Fu)}return!1}function Mu(e,t){nu.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Pu(),null})))}function ju(e,t){ru.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Pu(),null})))}function Fu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Ls))throw Error(o(331));var t=Ls;Ls|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(l){if(null===a)throw Error(o(330));Vu(a,l)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(l){if(null===a)throw Error(o(330));Vu(a,l)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ls=t,Qi(),!0}function Uu(e,t,n){fa(e,t=hs(0,t=ls(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(qt(e,1,t),mu(e,t))}function Vu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$s||!$s.has(r))){var i=ds(n,e=ls(t,e),1);if(fa(n,i),i=hu(),null!==(n=vu(n,1)))qt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===$s||!$s.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function zu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Ds===e&&(Ps&n)===n&&(4===Fs||3===Fs&&(62914560&Ps)===Ps&&500>qi()-Ws?Su(e,0):qs|=n),mu(e,t)}function Bu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Hi()?1:2:(0===uu&&(uu=Vs),0===(t=zt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(qt(e,t,n),mu(e,n))}function qu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hu(e,t,n,r){return new qu(e,t,n,r)}function Wu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ku(e,t){var n=e.alternate;return null===n?((n=Hu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Wu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Qu(n.children,i,a,t);case M:s=8,i|=16;break;case _:s=8,i|=1;break;case C:return(e=Hu(12,n,t,8|i)).elementType=C,e.type=C,e.lanes=a,e;case A:return(e=Hu(13,n,t,i)).type=A,e.elementType=A,e.lanes=a,e;case O:return(e=Hu(19,n,t,i)).elementType=O,e.lanes=a,e;case j:return Yu(n,i,a,t);case F:return(e=Hu(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case T:s=9;break e;case N:s=11;break e;case L:s=14;break e;case D:s=16,r=null;break e;case R:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Hu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qu(e,t,n,r){return(e=Hu(7,e,r,t)).lanes=n,e}function Yu(e,t,n,r){return(e=Hu(23,e,r,t)).elementType=j,e.lanes=n,e}function Xu(e,t,n){return(e=Hu(6,e,null,t)).lanes=n,e}function Ju(e,t,n){return(t=Hu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $u(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function el(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(yi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var l=n.type;if(yi(l)){n=wi(n,l,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=ca(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),pu(i,s,a),s}function tl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rl(e,t){nl(e,t),(e=e.alternate)&&nl(e,t)}function il(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new $u(e,t,null!=n&&!0===n.hydrate),t=Hu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Lr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function al(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ol(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tl(o);s.call(e)}}el(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new il(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tl(o);u.call(e)}}bu((function(){el(t,o,e,i)}))}return tl(o)}function sl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!al(t))throw Error(o(200));return Zu(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)jo=!0;else{if(0===(n&r)){switch(jo=!1,t.tag){case 3:Go(t),Ga();break;case 5:Pa(t);break;case 1:yi(t.type)&&bi(t);break;case 4:Da(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?$o(e,t,n):(fi(ja,1&ja.current),null!==(t=as(e,t,n))?t.sibling:null);fi(ja,1&ja.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(ja,ja.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return as(e,t,n)}jo=0!==(16384&e.flags)}else jo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ma(t,r,s,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,ba(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Wu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===L)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Ho(null,t,i,e,n);break e;case 1:t=Wo(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,la(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Qr(t.stateNode.containerInfo.firstChild),Ua=t,a=za=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Ia(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Ga();t=t.child}return t;case 5:return Pa(t),null===e&&Ha(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Hr(r,i)?s=null:null!==a&&Hr(r,a)&&(t.flags|=16),qo(e,t),Fo(e,t,s,n),t.child;case 6:return null===e&&Ha(t),null;case 13:return $o(e,t,n);case 4:return Da(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ca(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(fi($i,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=cr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&a)){1===u.tag&&((c=ca(-1,n&-n)).tag=2,fa(u,c)),u.lanes|=n,null!==(c=u.alternate)&&(c.lanes|=n),ia(u.return,n),l.lanes|=n;break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),Vo(e,t,i,a=Ji(i.type,a),r,n);case 15:return zo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,bi(t)):e=!1,aa(t,n),ka(t,r,i),ba(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},il.prototype.render=function(e){el(e,this._internalRoot,null,null)},il.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;el(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rl(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rl(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rl(e,n)}},it=function(e,t){return t()},Ie=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},De=wu,Re=function(e,t,n,r,i){var a=Ls;Ls|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Ls=a)&&(Gs(),Qi())}},Pe=function(){0===(49&Ls)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,qi())}))}Qi()}(),Pu())},Me=function(e,t){var n=Ls;Ls|=2;try{return e(t)}finally{0===(Ls=n)&&(Gs(),Qi())}};var ul={Events:[ri,ii,ai,Oe,Le,Pu,{current:!1}]},ll={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cl={bundleType:ll.bundleType,version:ll.version,rendererPackageName:ll.rendererPackageName,rendererConfig:ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:ll.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fl.isDisabled&&fl.supportsFiber)try{Ei=fl.inject(cl),Si=fl}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ul,t.createPortal=sl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ls;if(0!==(48&n))return e(t);Ls|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Ls=n,Qi()}},t.hydrate=function(e,t,n){if(!al(t))throw Error(o(200));return ol(null,e,t,!0,n)},t.render=function(e,t,n){if(!al(t))throw Error(o(200));return ol(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!al(e))throw Error(o(40));return!!e._reactRootContainer&&(bu((function(){ol(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=wu,t.unstable_createPortal=function(e,t){return sl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!al(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ol(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:o.current}}t.jsx=l,t.jsxs=l},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var l=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),l=f("react.memo"),c=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var w={current:null},b=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)b.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:w.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var _=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+C(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(_,"$&/")+"/"),I(o,t,n,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=r+C(s=e[l],l);u+=I(s,t,n,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=I(s=s.value,t,n,c=r+C(s,l++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function T(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function O(){var e=A.current;if(null===e)throw Error(d(321));return e}var L={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)b.call(t,c)&&!x.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){l=Array(c);for(var f=0;f<c;f++)l[f]=arguments[f+2];a.children=l}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(O){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new T(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};u(k,a,(function(){return this}));var w=Object.getPrototypeOf,b=w&&w(w(N([])));b&&b!==n&&r.call(b,a)&&(k=b);var x=g.prototype=m.prototype=Object.create(k);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,s){var u=c(e[i],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function _(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=g,u(x,"constructor",g),u(g,"constructor",y),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},E(S.prototype),u(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(x),u(x,s,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(u&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,c=null,f=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(f,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,b=w.port2;w.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?b.postMessage(null):(v=!1,m=null)}catch(n){throw b.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,b.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<_(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>_(o,n))void 0!==u&&0>_(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>_(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function _(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],I=[],T=1,N=null,A=3,O=!1,L=!1,D=!1;function R(e){for(var t=E(I);null!==t;){if(null===t.callback)S(I);else{if(!(t.startTime<=e))break;S(I),t.sortIndex=t.expirationTime,x(C,t)}t=E(I)}}function P(e){if(D=!1,R(e),!L)if(null!==E(C))L=!0,n(M);else{var t=E(I);null!==t&&r(P,t.startTime-e)}}function M(e,n){L=!1,D&&(D=!1,i()),O=!0;var a=A;try{for(R(n),N=E(C);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,A=N.priorityLevel;var s=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?N.callback=s:N===E(C)&&S(C),R(n)}else S(C);N=E(C)}if(null!==N)var u=!0;else{var l=E(I);null!==l&&r(P,l.startTime-n),u=!1}return u}finally{N=null,A=a,O=!1}}var j=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){L||O||(L=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return E(C)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:T++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,x(I,e),null===E(C)&&e===E(I)&&(D?i():D=!0,r(P,o-s))):(e.sortIndex=u,x(C,e),L||O||(L=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},469:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABmCAYAAAA9KjRfAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAADZ5JREFUeJztnXtQU2caxt1tZ3ec7nS6l/7R2c7+szOdTndnd2enXe3ai7baIgoKIdwRFKyXCIoIKEVzBBEvVLwgICIiKrfgBVFQUUHHC121td61IBAgQEjOyTkJqUSYb78vFwi5kUBOvhPNM/NMJuiQc87P93nf7ztJnDRpggIA+EMnT/T3eGRDA49Ovam6kvWe+k6Fv/quiG/Nz1saVg2SbZJBRYdmoO1aiq2/6zb+qTJAdSP3b+qm3Lc1HU2/xwpCfbPoHcXJFXFU1eIGsjy8U340GLyKJssjeqiqmPvUCcENsiIqg65Nildd/e7vGvnj37kEBIycX/XfKk6Ul4XJcV8MLlsL6tg3JUw9Eax5epY9OIrq2I/lpaES3CfsNi4L+4WsXHQFpomvqiHjDafCeCH+/l1KFP0E+0m6p4dI0aLrqqs75zkNCHV8WRT8xQMcODn3dWkIgClTqr5V9N7EgRz7pgz7Cb0kJkXR1+kza/41wQpZ+gD3ibxMho1fqf5+n98EKmSJB4izXRamUV5IW+wBwiGTFZFyZUPmIg8QDpksXyBlzq//gwcIh0xVLb6vvLz9LQ8Q7niIPhWfCZ7Tv/EA4YhhdKlU13bP9QDhkGF0XfYA4ZRDXigbM6d4gHDI1ElB/RDdabuXeIC40KWhNHN23V/HAuLZy3Kh6drkNJtAFKdWRcB88+z2usikaNEJm0AGntROpkTR53Af6KtisiJSpr5V9A+bUOi6tVPlZWFi3Af7ajhkiLmYvtomECTlxfT34AKmFf8Bv/xWVMcRYwJB6v/x8GRFdex8qjqugRTFPCArol45w6R4xjYQqirmoF1ADBpkut5UXdvzNn1uwytnRfXKv8jLVyyX7AkZkOzkgZ68YNB3MBzIDoXAixnqrAq57xAQjyZN6tgSduzZOm/QCv1sLXxMmQvahD6gOyccSAshnNLw8VcIXPvhPj+3E1m3W9D6LYSRAq2H8ix5NmhJgk7UWZzhB7r3BgJZiWOVQ1Ut9gBxVNTFAkFr6hyAoLTagNKS6KWtHkk2H8YaAhMyJhDUq3Cfn9tJcalA0LYBAjGBooswCCLZCMoaL9Cc4AVBzQFdWQFoi8QDxNmiEBAh7BvGUEwirMW4WhAU5NVe8M/ngt78YKvV4gEyDikaCgTtG1Ej10NZPwJluFosRJgBirZadvAtQvEAGYcUDfsF7Wk+oJ0wQJmrg5Lqbd5XTCKsWR9hCEzn9kAgPxLiATJRKRohkHQIBFaJtlIIo2oxjrB1NiLMACWLP2oN4wEyDiEg4k0QCIKSNhpKq5UIszSFoWppSfQGPXs9FTIhaYFk+AJxugGKj3mlOAIlyRtGV6gHyHhFX94v6NgMgSAosFLERlDM+4rJesVKhOmiCwKpXOgB4qioms0rOjLngREovqOh2NlXjKsFPUeLR+rYNx4gjkjztO6N7pyw251bIBA9lGEwViLM3r7SnRMIgSzlFhBNx//+rGrI+EB5Mc1PdeU7oW3vMP/ZZZ2Veqsa4WNj1ogbhr2BPpO6kBLFCUmDK6Er9C6PE8qhZWWxQjm07GisUFoUQ/TsDb3WuW0+6NwKbQnKmBHmbSHCdKNx57YAQB1fdgE3A62UV7LeVVTHplBV0c1kWZiULAvth4/Apkt11o2NeqPmeDgUyJBLQnSGUYC2yGXF0Aehi0JAH3Jh8AvpvgAgzQ+Aq2foPB7ozQ2AUw/0Hn/Qs9sfdO/yB5Kd8DHbHy7m/EDXd/NBVxaEsR1aD6bDCIzVCDNAsbDlYqiWNsIXNvVo2290cIV+uVM6hSyPeCA/GgQc9pERyw6j3VW9D+ncV8wHfQf5EAR8XgSfH4DPC/XezwfSAmgDlDwjKDnI5lAkWih+Wihd9kDRrldsT2GGLZe2DRBI1bcEVhjM2ZR3YTU8HBcMC2C0UA6bQtGB0UKB7ivij4AxQCkI0IIxrpReVCk5PG21GKBIdvpZhWKtr4gtjsYWIizFe6i7IGE5NhhggHmdEi3KmDAMW1BKRkMxVEufSbVI95tCgc7lmUMxgMn2G4mw7UYRhqCYVYt9ozGsEFpW7cRP7Toq9e2i92FU9ToNyCgoY0fYKCj7DVBMIswECoowyS6eSV/xc7Cv+IzqK4bRWLw56C4AwP7PizhbitOro+BFHHAqEEt9xSzCLPQVRyLMuK9MMMLajfqKJC92FzYYWiDVKwinw7C7r/Dt6Ct8+/tKtgNQLEUY4TMoE2Xa9zkRtkQdX8ouEEf6SpF5XzGewqz1FV2EGaaw8fcV8Wb/k/Ljm15/+YHYG2HFDozGuUaj8Z7REYYqxXKEWYIyMhr3VaaP//PrzhJcCLoGiKMRVjSO0dgYyk7r6xVLEdaZFSp+IRf/CTePSXRNAkFWRLoOiBmUoDFGY76F0dg0wkz6ym6TvrJDD8UwhW01ijAEJXP+i97ihGW4WWilOBVPoHdhkJVRWKA4bXU/3FeMt1x4w31FYmM07s6NFg2padd8+dlY0gJBd8pKQwBZsQDo7pphgmLPaGz3lgvPri2Xrh2BfdSZnR/i5jCsYSDoxkxZOHB5fI3ZVwJt9xWz1b2t0dgECnRfecos3AxGSVocNas53lv5w6z/gptTPwS3p08BDyNmgq5sPpZqsTQa21zdW+0r5qNxt9FoLMnmaaQlcdtwX38z3Q3yir35yUeDN6d9BIx9+4up4Mmyr+FFwNhXJhphFvuKdttlsDc/citzKWcy7utvprshs4mbn0EIVvzT/E+BtBAnlCDHR+N9+ggz6iu9OSPV0nd4RRZ9LgvvAtCa7oV5E7dm/AfY8l3eZ9oo4FpfGVnd2zMa8+DzUJKq2ZSB+5rb1P2IOcTtmVPBWL4fNgNWSiAmKA7uGluIsL5D0WJFzcY5Q2rKvi+ZwaUHkXOJH77+GNjjh1Ez4QVxYaO3q1ps7xr3FQZrqONJec8fXfgj7mttlx4u8iV+nD0N2OvHMV9xE4rJ6l5WEqFW1KQeUv9YxZ01hj16FONL3Jn7CXDEP8d5Y4ZiHmHavnIouIusWHJVcWZ9ev/NwzMAGOJ2PFnS4yXzibvzPgWOunWdr3Z1jwuK/EgwUJxO1JDHBJeoEytL6PpNQubKrmkAgN/ivqYT0pPlfsQ9OEWNxy1r5gCXLh5HgQkGzNnUW6prOY59ZyLX9XSFP3E/6HMwLgdPB23Cebp/sTiglIYOKk7GVkEo3FvgjVc/r+IRD8Kmg3E7fDro2MzDA0RfKfTpNaL+pvyXA0pzQgDxMHIGmKjFm/3wQUEf9oeV0t+U5/7x1ZzEJx5FfwEm6seLvwSSbBcvHEfFV8igHop7V0pLSiDxeMmXwBl+snQm6MnFMHkZVQp9OkGkurbbfaG0pgYRT5fPAk6zYJb2Lf1Y46saNfrd7hlfrcJg4ufYr4Az3RzvBXoLMI3DyGVo+hK4Z3y1pYUS6AI62y1rZgPpAVxVoo+vmnj3i6/2DAgkEV5EFtxTGIfePPEca3zBSnGr+BJvCSNa0KeHWHD3weS7dG1SCFzAMdigaKcvBGWne1RKR1YE8Sx1DmDDksLVjeg16LPrPpeXBivwQUHxtUrkFlA6d0QQrcRcwIa7i3RAkJhzqbNI7f/DiA+KvlK4HV+duxYQbek+gA33FCc0Gr8WXZvMgxMQxviC01f1Cm7HV9eeSKI9wxew4Z6SNY2mr8fUE14w19XYoGgXj/Gi/qa93IQi2RtFiLfMA2y494g5ECTm/AYYX+H44ks7fS2v6r/Bwa377vyFRMe2+YANS48mNlp7XV18hWGevrRQuFUpkn0QSJYfYMPSMutAkJjGLZjjKwgoTq0Ucep+Sk9hNNGZ7Q/YsLQiuXGs12caM2eR5TjjC0I5sbyKM3ceew9EE127/AEb7qscGwgSXb8e8/QF40sHBX+lSA/GEJI9PMCGZVVrG+09DubCRvzTF9r7uop5JJYeiiG69/IAG5Yfsx8IkvJShg9uKIrq2BLV1Wx8ULgEBImuW/tqxxfXgCAxF9Pwx1dtkkjztM71ULgIBEl5ZYcPrBSsUJi6tSUuh8JVIEj0+fWYF4+hg/SZhCqXQuEyECSmIdMLb6UEAWW9sFwjf+ya9wlzHQgSczEdLh4jMG7dh7xg6omFzjiXMeUOQJB08YWvUqiqmHOax6fZrxJ3AYLEXNkegG36KguVMbVJ/3Tm+ViUOwFBos+m8HDtfSlOxaU7+3zMJC1ZzCaQS84+Xo342mv0uRQejkqha5NvOPt8zAQvGmtA+srjc9k6bubSJpfHF6xO9r9gmarb8mVPfhDDApAhsiaN1W/3pOuFLo0vpl5YzOb5aDVItr3VeyCyztlAegrC5MqmI++zeewa8Y3X6HrCJfEFwf+iup4TzOb5DEt+Yt2U7twAtTOBUDUbs1xy8JPQ9JUVwPZITNcmHQIales+RCo7unxKT16gfMKVkcsH8uPrXP6lLqhSyIoFLMRXMGDOr9838FOZ6zcaZZWrp/XuDz8MwdAOw8jjq3oLF9ymTgkXDzy77PKDH2S6X1NezvKnji+9h7bQnQECLgbvM+eFCYPyZnz3RwYe1vxaebXwA8X5rQK5aJVAXrHStitXCqjadIHiUva/n7c3Yb8FOih/9oaqKT+QPpN4QlET/0BRs8oxn179gD6Xek99pzR+oP36O6a////cunyL5ww6kwAAAABJRU5ErkJggg=="}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e,t=n(791),r=n(164);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var u=function(e){return e};var l="beforeunload",c="popstate";function f(e){e.preventDefault(),e.returnValue=""}function h(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function d(){return Math.random().toString(36).substr(2,8)}function p(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function v(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(e,t){if(!e)throw new Error(t)}var y=(0,t.createContext)(null);var g=(0,t.createContext)(null);var k=(0,t.createContext)({outlet:null,matches:[]});function w(e){m(!1)}function b(n){var r=n.basename,i=void 0===r?"/":r,a=n.children,o=void 0===a?null:a,s=n.location,u=n.navigationType,l=void 0===u?e.Pop:u,c=n.navigator,f=n.static,h=void 0!==f&&f;S()&&m(!1);var d=U(i),p=(0,t.useMemo)((function(){return{basename:d,navigator:c,static:h}}),[d,c,h]);"string"===typeof s&&(s=v(s));var k=s,w=k.pathname,b=void 0===w?"/":w,x=k.search,E=void 0===x?"":x,_=k.hash,C=void 0===_?"":_,I=k.state,T=void 0===I?null:I,N=k.key,A=void 0===N?"default":N,O=(0,t.useMemo)((function(){var e=j(b,d);return null==e?null:{pathname:e,search:E,hash:C,state:T,key:A}}),[d,b,E,C,T,A]);return null==O?null:(0,t.createElement)(y.Provider,{value:p},(0,t.createElement)(g.Provider,{children:o,value:{location:O,navigationType:l}}))}function x(e){var n=e.children,r=e.location;return function(e,n){S()||m(!1);var r=(0,t.useContext)(k).matches,i=r[r.length-1],a=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var s,u=_();if(n){var l,c="string"===typeof n?v(n):n;"/"===o||(null==(l=c.pathname)?void 0:l.startsWith(o))||m(!1),s=c}else s=u;var f=s.pathname||"/",h="/"===o?f:f.slice(o.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=j(("string"===typeof t?v(t):t).pathname||"/",n);if(null==r)return null;var i=N(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=D(i[o],r);return a}(e,{pathname:h});0;return R(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:F([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:F([o,e.pathnameBase])})})),r)}(T(n),r)}function E(e){S()||m(!1);var n=(0,t.useContext)(y),r=n.basename,i=n.navigator,a=I(e),o=a.hash,s=a.pathname,u=a.search,l=s;if("/"!==r){var c=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?v(e).pathname:e.pathname}(e),f=null!=c&&c.endsWith("/");l="/"===s?r+(f?"/":""):F([r,s])}return i.createHref({pathname:l,search:u,hash:o})}function S(){return null!=(0,t.useContext)(g)}function _(){return S()||m(!1),(0,t.useContext)(g).location}function C(){S()||m(!1);var e=(0,t.useContext)(y),n=e.basename,r=e.navigator,i=(0,t.useContext)(k).matches,a=_().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,t.useRef)(!1);(0,t.useEffect)((function(){s.current=!0}));var u=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=M(e,JSON.parse(o),a);"/"!==n&&(i.pathname=F([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return u}function I(e){var n=(0,t.useContext)(k).matches,r=_().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return M(e,JSON.parse(i),r)}),[e,i,r])}function T(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==w&&m(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=T(e.props.children)),n.push(r)}else n.push.apply(n,T(e.props.children))})),n}function N(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||m(!1),a.relativePath=a.relativePath.slice(r.length));var o=F([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&m(!1),N(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:L(o,e.index),routesMeta:s})})),t}var A=/^:\w+$/,O=function(e){return"*"===e};function L(e,t){var n=e.split("/"),r=n.length;return n.some(O)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!O(e)})).reduce((function(e,t){return e+(A.test(t)?3:""===t?1:10)}),r)}function D(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=P({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);var f=s.route;a.push({params:r,pathname:F([i,c.pathname]),pathnameBase:U(F([i,c.pathnameBase])),route:f}),"/"!==c.pathnameBase&&(i=F([i,c.pathnameBase]))}return a}function R(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(k.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=o(n,2),i=r[0],a=r[1],s=t.match(i);if(!s)return null;var u=s[0],l=u.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";l=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{}),pathname:u,pathnameBase:l,pattern:e}}function M(e,t,n){var r,i="string"===typeof e?v(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?v(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:V(a),hash:z(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function j(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var F=function(e){return e.join("/").replace(/\/\/+/g,"/")},U=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},V=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},z=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function B(){return B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B.apply(this,arguments)}function q(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var H=["onClick","reloadDocument","replace","state","target","to"];function W(n){var r=n.basename,i=n.children,a=n.window,m=(0,t.useRef)();null==m.current&&(m.current=function(t){void 0===t&&(t={});var n=t.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,o=i.state||{};return[o.idx,u({pathname:t,search:n,hash:a,state:o.usr||null,key:o.key||"default"})]}var o=null;r.addEventListener(c,(function(){if(o)b.call(o),o=null;else{var t=e.Pop,n=a(),r=n[0],i=n[1];if(b.length){if(null!=r){var s=g-r;s&&(o={action:t,location:i,retry:function(){I(-1*s)}},I(s))}}else C(t)}}));var m=e.Pop,y=a(),g=y[0],k=y[1],w=h(),b=h();function x(e){return"string"===typeof e?e:p(e)}function E(e,t){return void 0===t&&(t=null),u(s({pathname:k.pathname,hash:"",search:""},"string"===typeof e?v(e):e,{state:t,key:d()}))}function S(e,t){return[{usr:e.state,key:e.key,idx:t},x(e)]}function _(e,t,n){return!b.length||(b.call({action:e,location:t,retry:n}),!1)}function C(e){m=e;var t=a();g=t[0],k=t[1],w.call({action:m,location:k})}function I(e){i.go(e)}null==g&&(g=0,i.replaceState(s({},i.state,{idx:g}),""));var T={get action(){return m},get location(){return k},createHref:x,push:function t(n,a){var o=e.Push,s=E(n,a);if(_(o,s,(function(){t(n,a)}))){var u=S(s,g+1),l=u[0],c=u[1];try{i.pushState(l,"",c)}catch(f){r.location.assign(c)}C(o)}},replace:function t(n,r){var a=e.Replace,o=E(n,r);if(_(a,o,(function(){t(n,r)}))){var s=S(o,g),u=s[0],l=s[1];i.replaceState(u,"",l),C(a)}},go:I,back:function(){I(-1)},forward:function(){I(1)},listen:function(e){return w.push(e)},block:function(e){var t=b.push(e);return 1===b.length&&r.addEventListener(l,f),function(){t(),b.length||r.removeEventListener(l,f)}}};return T}({window:a}));var y=m.current,g=o((0,t.useState)({action:y.action,location:y.location}),2),k=g[0],w=g[1];return(0,t.useLayoutEffect)((function(){return y.listen(w)}),[y]),(0,t.createElement)(b,{basename:r,children:i,location:k.location,navigationType:k.action,navigator:y})}var K=(0,t.forwardRef)((function(e,n){var r=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,s=e.state,u=e.target,l=e.to,c=q(e,H),f=E(l),h=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=C(),u=_(),l=I(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||p(u)===p(l);s(e,{replace:n,state:o})}}),[u,s,l,a,o,i,e])}(l,{replace:o,state:s,target:u});return(0,t.createElement)("a",B({},c,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:u}))}));var G=(0,t.createContext)({});function Q(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Y=function(e,t){return Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Y(e,t)};var X=function(){return X=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},X.apply(this,arguments)};var J="Pixel",$="Percent",Z={unit:$,value:.8};function ee(e){return"number"===typeof e?{unit:$,value:100*e}:"string"===typeof e?e.match(/^(\d*(\.\d+)?)px$/)?{unit:J,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:$,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),Z):(console.warn("scrollThreshold should be string or number"),Z)}var te=function(e){function n(t){var n=e.call(this,t)||this;return n.lastScrollTop=0,n.actionTriggered=!1,n.startY=0,n.currentY=0,n.dragging=!1,n.maxPullDownDistance=0,n.getScrollableTarget=function(){return n.props.scrollableTarget instanceof HTMLElement?n.props.scrollableTarget:"string"===typeof n.props.scrollableTarget?document.getElementById(n.props.scrollableTarget):(null===n.props.scrollableTarget&&console.warn("You are trying to pass scrollableTarget but it is null. This might\n        happen because the element may not have been added to DOM yet.\n        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.\n      "),null)},n.onStart=function(e){n.lastScrollTop||(n.dragging=!0,e instanceof MouseEvent?n.startY=e.pageY:e instanceof TouchEvent&&(n.startY=e.touches[0].pageY),n.currentY=n.startY,n._infScroll&&(n._infScroll.style.willChange="transform",n._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},n.onMove=function(e){n.dragging&&(e instanceof MouseEvent?n.currentY=e.pageY:e instanceof TouchEvent&&(n.currentY=e.touches[0].pageY),n.currentY<n.startY||(n.currentY-n.startY>=Number(n.props.pullDownToRefreshThreshold)&&n.setState({pullToRefreshThresholdBreached:!0}),n.currentY-n.startY>1.5*n.maxPullDownDistance||n._infScroll&&(n._infScroll.style.overflow="visible",n._infScroll.style.transform="translate3d(0px, "+(n.currentY-n.startY)+"px, 0px)")))},n.onEnd=function(){n.startY=0,n.currentY=0,n.dragging=!1,n.state.pullToRefreshThresholdBreached&&(n.props.refreshFunction&&n.props.refreshFunction(),n.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame((function(){n._infScroll&&(n._infScroll.style.overflow="auto",n._infScroll.style.transform="none",n._infScroll.style.willChange="unset")}))},n.onScrollListener=function(e){"function"===typeof n.props.onScroll&&setTimeout((function(){return n.props.onScroll&&n.props.onScroll(e)}),0);var t=n.props.height||n._scrollableNode?e.target:document.documentElement.scrollTop?document.documentElement:document.body;n.actionTriggered||((n.props.inverse?n.isElementAtTop(t,n.props.scrollThreshold):n.isElementAtBottom(t,n.props.scrollThreshold))&&n.props.hasMore&&(n.actionTriggered=!0,n.setState({showLoader:!0}),n.props.next&&n.props.next()),n.lastScrollTop=t.scrollTop)},n.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:t.dataLength},n.throttledOnScrollListener=function(e,t,n,r){var i,a=!1,o=0;function s(){i&&clearTimeout(i)}function u(){var u=this,l=Date.now()-o,c=arguments;function f(){o=Date.now(),n.apply(u,c)}function h(){i=void 0}a||(r&&!i&&f(),s(),void 0===r&&l>e?f():!0!==t&&(i=setTimeout(r?h:f,void 0===r?e-l:e)))}return"boolean"!==typeof t&&(r=n,n=t,t=void 0),u.cancel=function(){s(),a=!0},u}(150,n.onScrollListener).bind(n),n.onStart=n.onStart.bind(n),n.onMove=n.onMove.bind(n),n.onEnd=n.onEnd.bind(n),n}return function(e,t){function n(){this.constructor=e}Y(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(n,e),n.prototype.componentDidMount=function(){if("undefined"===typeof this.props.dataLength)throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),"number"===typeof this.props.initialScrollY&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),"function"!==typeof this.props.refreshFunction))throw new Error('Mandatory prop "refreshFunction" missing.\n          Pull Down To Refresh functionality will not work\n          as expected. Check README.md for usage\'')},n.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},n.prototype.componentDidUpdate=function(e){this.props.dataLength!==e.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},n.getDerivedStateFromProps=function(e,t){return e.dataLength!==t.prevDataLength?X(X({},t),{prevDataLength:e.dataLength}):null},n.prototype.isElementAtTop=function(e,t){void 0===t&&(t=.8);var n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,r=ee(t);return r.unit===J?e.scrollTop<=r.value+n-e.scrollHeight+1:e.scrollTop<=r.value/100+n-e.scrollHeight+1},n.prototype.isElementAtBottom=function(e,t){void 0===t&&(t=.8);var n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,r=ee(t);return r.unit===J?e.scrollTop+n>=e.scrollHeight-r.value:e.scrollTop+n>=r.value/100*e.scrollHeight},n.prototype.render=function(){var e=this,n=X({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),r=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),i=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return t.createElement("div",{style:i,className:"infinite-scroll-component__outerdiv"},t.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(t){return e._infScroll=t},style:n},this.props.pullDownToRefresh&&t.createElement("div",{style:{position:"relative"},ref:function(t){return e._pullDown=t}},t.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!r&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},n}(t.Component),ne=te;function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t,n){return t&&ie(e.prototype,t),n&&ie(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e,t){return se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},se(e,t)}function ue(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&se(e,t)}function le(e){return le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},le(e)}function ce(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function fe(e){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fe(e)}function he(e,t){if(t&&("object"===fe(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return oe(e)}function de(e){var t=ce();return function(){var n,r=le(e);if(t){var i=le(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return he(this,n)}}function pe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ve(){return ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ve.apply(this,arguments)}function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ke={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},we=function(e){ue(r,e);var n=de(r);function r(e){var t,i;return re(this,r),(t=n.call(this,e)).reCalculateColumnCount=t.reCalculateColumnCount.bind(oe(t)),t.reCalculateColumnCountDebounce=t.reCalculateColumnCountDebounce.bind(oe(t)),i=t.props.breakpointCols&&t.props.breakpointCols.default?t.props.breakpointCols.default:parseInt(t.props.breakpointCols)||2,t.state={columnCount:i},t}return ae(r,[{key:"componentDidMount",value:function(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}},{key:"componentDidUpdate",value:function(){this.reCalculateColumnCount()}},{key:"componentWillUnmount",value:function(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}},{key:"reCalculateColumnCountDebounce",value:function(){var e=this;window&&window.requestAnimationFrame?(window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame((function(){e.reCalculateColumnCount()}))):this.reCalculateColumnCount()}},{key:"reCalculateColumnCount",value:function(){var e=window&&window.innerWidth||1/0,t=this.props.breakpointCols;"object"!==typeof t&&(t={default:parseInt(t)||2});var n=1/0,r=t.default||2;for(var i in t){var a=parseInt(i);a>0&&e<=a&&a<n&&(n=a,r=t[i])}r=Math.max(1,parseInt(r)||1),this.state.columnCount!==r&&this.setState({columnCount:r})}},{key:"itemsInColumns",value:function(){for(var e=this.state.columnCount,n=new Array(e),r=t.Children.toArray(this.props.children),i=0;i<r.length;i++){var a=i%e;n[a]||(n[a]=[]),n[a].push(r[i])}return n}},{key:"renderColumns",value:function(){var e=this.props,n=e.column,r=e.columnAttrs,i=void 0===r?{}:r,a=e.columnClassName,o=this.itemsInColumns(),s="".concat(100/o.length,"%"),u=a;u&&"string"!==typeof u&&(this.logDeprecated('The property "columnClassName" requires a string'),"undefined"===typeof u&&(u="my-masonry-grid_column"));var l=ye(ye(ye({},n),i),{},{style:ye(ye({},i.style),{},{width:s}),className:u});return o.map((function(e,n){return t.createElement("div",ve({},l,{key:n}),e)}))}},{key:"logDeprecated",value:function(e){console.error("[Masonry]",e)}},{key:"render",value:function(){var e=this.props,n=(e.children,e.breakpointCols,e.columnClassName,e.columnAttrs,e.column,e.className),r=pe(e,["children","breakpointCols","columnClassName","columnAttrs","column","className"]),i=n;return"string"!==typeof n&&(this.logDeprecated('The property "className" requires a string'),"undefined"===typeof n&&(i="my-masonry-grid")),t.createElement("div",ve({},r,{className:i}),this.renderColumns())}}]),r}(t.Component);we.defaultProps=ke;var be=we;function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function Ce(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){_e(a,r,i,o,s,"next",e)}function s(e){_e(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Ie=n(757),Te=n.n(Ie);function Ne(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function Ae(e,t,n){return Ae=ce()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&se(i,n.prototype),i},Ae.apply(null,arguments)}function Oe(e){var t="function"===typeof Map?new Map:void 0;return Oe=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Ae(e,arguments,le(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),se(n,e)},Oe(e)}var Le=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|l>>6,d=63&l;u||(d=64,o||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Le(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var l=a<<2|o>>4;if(r.push(l),64!==s){var c=o<<4&240|s>>2;if(r.push(c),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Re=function(e){return function(e){var t=Le(e);return De.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Pe=function(e){try{return De.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var Me=function(){function e(){var t=this;re(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return ae(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function je(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Fe(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function Ue(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ve(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ze(){var e=je();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}var Be=function(e){ue(n,e);var t=de(n);function n(e,r,i){var a;return re(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(oe(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(oe(a),qe.prototype.create),a}return ae(n)}(Oe(Error)),qe=function(){function e(t,n,r){re(this,e),this.service=t,this.serviceName=n,this.errors=r}return ae(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?He(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Be(n,a,t);return o}}]),e}();function He(e,t){return e.replace(We,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var We=/\{\$([^}]+)}/g;function Ke(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Ge(s)&&Ge(u)){if(!Ke(s,u))return!1}else if(s!==u)return!1}for(var l=0,c=r;l<c.length;l++){var f=c[l];if(!n.includes(f))return!1}return!0}function Ge(e){return null!==e&&"object"===typeof e}function Qe(e){for(var t=[],n=function(){var e=o(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Ye(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=o(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Xe(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Je=function(){function e(t,n){var r=this;re(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return ae(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Ne(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=$e),void 0===r.error&&(r.error=$e),void 0===r.complete&&(r.complete=$e);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function $e(){}function Ze(e){return e&&e._delegate?e._delegate:e}var et=function(){function e(t,n,r){re(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ae(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),tt="[DEFAULT]",nt=function(){function e(t,n){re(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ae(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Me;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:tt})}catch(l){}var t,n=Ne(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=o(t.value,2),i=r[0],a=r[1],s=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:s});a.resolve(u)}catch(l){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ce(Ie.mark((function e(){var t;return Ie.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Q(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Q(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),s=Ne(this.instancesDeferred.entries());try{for(s.s();!(i=s.n()).done;){var u=o(i.value,2),l=u[0],c=u[1],f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(a)}}catch(h){s.e(h)}finally{s.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Ne(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(_d){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===tt?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(_d){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt;return this.component?this.component.multipleInstances?e:tt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var rt,it,at=function(){function e(t){re(this,e),this.name=t,this.providers=new Map}return ae(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new nt(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ot=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(it||(it={}));var st={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},ut=it.INFO,lt=(xe(rt={},it.DEBUG,"log"),xe(rt,it.VERBOSE,"log"),xe(rt,it.INFO,"info"),xe(rt,it.WARN,"warn"),xe(rt,it.ERROR,"error"),rt),ct=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=lt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},ft=function(){function e(t){re(this,e),this.name=t,this._logLevel=ut,this._logHandler=ct,this._userLogHandler=null,ot.push(this)}return ae(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in it))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?st[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,it.DEBUG].concat(t)),this._logHandler.apply(this,[this,it.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,it.VERBOSE].concat(t)),this._logHandler.apply(this,[this,it.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,it.INFO].concat(t)),this._logHandler.apply(this,[this,it.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,it.WARN].concat(t)),this._logHandler.apply(this,[this,it.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,it.ERROR].concat(t)),this._logHandler.apply(this,[this,it.ERROR].concat(t))}}]),e}();var ht,dt;var pt=new WeakMap,vt=new WeakMap,mt=new WeakMap,yt=new WeakMap,gt=new WeakMap;var kt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return vt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||mt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xt(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function wt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(dt||(dt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Et(this),n),xt(pt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return xt(e.apply(Et(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Et(this),t].concat(r));return mt.set(a,t.sort?t.sort():[t]),xt(a)}}function bt(e){return"function"===typeof e?wt(e):(e instanceof IDBTransaction&&function(e){if(!vt.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));vt.set(e,t)}}(e),t=e,(ht||(ht=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,kt):e);var t}function xt(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(xt(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&pt.set(t,e)})).catch((function(){})),gt.set(t,e),t}(e);if(yt.has(e))return yt.get(e);var t=bt(e);return t!==e&&(yt.set(e,t),gt.set(t,e)),t}var Et=function(e){return gt.get(e)};var St,_t,Ct=["get","getKey","getAll","getAllKeys","count"],It=["put","add","delete","clear"],Tt=new Map;function Nt(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Tt.get(t))return Tt.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=It.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Ct.includes(n))){var a=function(){var e=Ce(Ie.mark((function e(t){var a,o,s,u,l,c,f=arguments;return Ie.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=f[c];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Tt.set(t,a),a}}}kt=function(e){return Se(Se({},e),{},{get:function(t,n,r){return Nt(t,n)||e.get(t,n,r)},has:function(t,n){return!!Nt(t,n)||e.has(t,n)}})}(kt);var At=function(){function e(t){re(this,e),this.container=t}return ae(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ot="@firebase/app",Lt="0.7.26",Dt=new ft("@firebase/app"),Rt="[DEFAULT]",Pt=(xe(St={},Ot,"fire-core"),xe(St,"@firebase/app-compat","fire-core-compat"),xe(St,"@firebase/analytics","fire-analytics"),xe(St,"@firebase/analytics-compat","fire-analytics-compat"),xe(St,"@firebase/app-check","fire-app-check"),xe(St,"@firebase/app-check-compat","fire-app-check-compat"),xe(St,"@firebase/auth","fire-auth"),xe(St,"@firebase/auth-compat","fire-auth-compat"),xe(St,"@firebase/database","fire-rtdb"),xe(St,"@firebase/database-compat","fire-rtdb-compat"),xe(St,"@firebase/functions","fire-fn"),xe(St,"@firebase/functions-compat","fire-fn-compat"),xe(St,"@firebase/installations","fire-iid"),xe(St,"@firebase/installations-compat","fire-iid-compat"),xe(St,"@firebase/messaging","fire-fcm"),xe(St,"@firebase/messaging-compat","fire-fcm-compat"),xe(St,"@firebase/performance","fire-perf"),xe(St,"@firebase/performance-compat","fire-perf-compat"),xe(St,"@firebase/remote-config","fire-rc"),xe(St,"@firebase/remote-config-compat","fire-rc-compat"),xe(St,"@firebase/storage","fire-gcs"),xe(St,"@firebase/storage-compat","fire-gcs-compat"),xe(St,"@firebase/firestore","fire-fst"),xe(St,"@firebase/firestore-compat","fire-fst-compat"),xe(St,"fire-js","fire-js"),xe(St,"firebase","fire-js-all"),St),Mt=new Map,jt=new Map;function Ft(e,t){try{e.container.addComponent(t)}catch(n){Dt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ut(e){var t=e.name;if(jt.has(t))return Dt.debug("There were multiple attempts to register component ".concat(t,".")),!1;jt.set(t,e);var n,r=Ne(Mt.values());try{for(r.s();!(n=r.n()).done;){Ft(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Vt(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var zt=(xe(_t={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),xe(_t,"bad-app-name","Illegal App name: '{$appName}"),xe(_t,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),xe(_t,"app-deleted","Firebase App named '{$appName}' already deleted"),xe(_t,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),xe(_t,"invalid-log-argument","First argument to `onLog` must be null or a function."),xe(_t,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),xe(_t,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),xe(_t,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),xe(_t,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),_t),Bt=new qe("app","Firebase",zt),qt=function(){function e(t,n,r){var i=this;re(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new et("app",(function(){return i}),"PUBLIC"))}return ae(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Bt.create("app-deleted",{appName:this._name})}}]),e}(),Ht="9.8.3";function Wt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,t=Mt.get(e);if(!t)throw Bt.create("no-app",{appName:e});return t}function Kt(e,t,n){var r,i=null!==(r=Pt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Dt.warn(s.join(" "))}Ut(new et("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var Gt="firebase-heartbeat-store",Qt=null;function Yt(){return Qt||(Qt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=xt(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(xt(s.result),e.oldVersion,e.newVersion,xt(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Gt)}}).catch((function(e){throw Bt.create("storage-open",{originalErrorMessage:e.message})}))),Qt}function Xt(e){return Jt.apply(this,arguments)}function Jt(){return Jt=Ce(Ie.mark((function e(t){var n,r;return Ie.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Yt();case 3:return r=e.sent,e.abrupt("return",r.transaction(Gt).objectStore(Gt).get(en(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Bt.create("storage-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Jt.apply(this,arguments)}function $t(e,t){return Zt.apply(this,arguments)}function Zt(){return Zt=Ce(Ie.mark((function e(t,n){var r,i,a,o;return Ie.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Yt();case 3:return i=e.sent,a=i.transaction(Gt,"readwrite"),o=a.objectStore(Gt),e.next=8,o.put(n,en(t));case 8:return e.abrupt("return",a.done);case 11:throw e.prev=11,e.t0=e.catch(0),Bt.create("storage-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Zt.apply(this,arguments)}function en(e){return"".concat(e.name,"!").concat(e.options.appId)}var tn=function(){function e(t){var n=this;re(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new on(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return ae(e,[{key:"triggerHeartbeat",value:function(){var e=Ce(Ie.mark((function e(){var t,n,r;return Ie.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=nn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Ce(Ie.mark((function e(){var t,n,r,i,a;return Ie.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=nn(),n=rn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Re(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function nn(){return(new Date).toISOString().substring(0,10)}function rn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Ne(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),sn(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),sn(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var an,on=function(){function e(t){re(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return ae(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Ce(Ie.mark((function e(){return Ie.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===typeof indexedDB){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Ce(Ie.mark((function e(){var t;return Ie.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Xt(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Ce(Ie.mark((function e(t){var n,r;return Ie.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",$t(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Ce(Ie.mark((function e(t){var n,r;return Ie.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",$t(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Q(r.heartbeats),Q(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function sn(e){return Re(JSON.stringify({version:2,heartbeats:e})).length}an="",Ut(new et("platform-logger",(function(e){return new At(e)}),"PRIVATE")),Ut(new et("heartbeat",(function(e){return new tn(e)}),"PRIVATE")),Kt(Ot,Lt,an),Kt(Ot,Lt,"esm2017"),Kt("fire-js","");function un(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=le(e)););return e}function ln(){return ln="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=un(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ln.apply(this,arguments)}Kt("firebase","9.8.3","app");var cn,fn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},hn={},dn=dn||{},pn=fn||self;function vn(){}function mn(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function yn(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var gn="closure_uid_"+(1e9*Math.random()>>>0),kn=0;function wn(e,t,n){return e.call.apply(e.bind,arguments)}function bn(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function xn(e,t,n){return(xn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wn:bn).apply(null,arguments)}function En(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Sn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function _n(){this.s=this.s,this.o=this.o}var Cn={};_n.prototype.s=!1,_n.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,gn)&&e[gn]||(e[gn]=++kn)}(this);delete Cn[e]}},_n.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var In=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Tn=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Nn(e){return Array.prototype.concat.apply([],arguments)}function An(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function On(e){return/^[\s\xa0]*$/.test(e)}var Ln,Dn=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Rn(e,t){return-1!=e.indexOf(t)}function Pn(e,t){return e<t?-1:e>t?1:0}e:{var Mn=pn.navigator;if(Mn){var jn=Mn.userAgent;if(jn){Ln=jn;break e}}Ln=""}function Fn(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Un(e){var t={};for(var n in e)t[n]=e[n];return t}var Vn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zn(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Vn.length;a++)n=Vn[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Bn(e){return Bn[" "](e),e}Bn[" "]=vn;var qn,Hn=Rn(Ln,"Opera"),Wn=Rn(Ln,"Trident")||Rn(Ln,"MSIE"),Kn=Rn(Ln,"Edge"),Gn=Kn||Wn,Qn=Rn(Ln,"Gecko")&&!(Rn(Ln.toLowerCase(),"webkit")&&!Rn(Ln,"Edge"))&&!(Rn(Ln,"Trident")||Rn(Ln,"MSIE"))&&!Rn(Ln,"Edge"),Yn=Rn(Ln.toLowerCase(),"webkit")&&!Rn(Ln,"Edge");function Xn(){var e=pn.document;return e?e.documentMode:void 0}e:{var Jn="",$n=function(){var e=Ln;return Qn?/rv:([^\);]+)(\)|;)/.exec(e):Kn?/Edge\/([\d\.]+)/.exec(e):Wn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Yn?/WebKit\/(\S+)/.exec(e):Hn?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if($n&&(Jn=$n?$n[1]:""),Wn){var Zn=Xn();if(null!=Zn&&Zn>parseFloat(Jn)){qn=String(Zn);break e}}qn=Jn}var er,tr={};function nr(){return function(e){var t=tr;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Dn(String(qn)).split("."),n=Dn("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Pn(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Pn(0==a[2].length,0==o[2].length)||Pn(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(pn.document&&Wn){var rr=Xn();er=rr||(parseInt(qn,10)||void 0)}else er=void 0;var ir=er,ar=function(){if(!pn.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{pn.addEventListener("test",vn,t),pn.removeEventListener("test",vn,t)}catch(n){}return e}();function or(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function sr(e,t){if(or.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Qn){e:{try{Bn(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ur[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&sr.Z.h.call(this)}}or.prototype.h=function(){this.defaultPrevented=!0},Sn(sr,or);var ur={2:"touch",3:"pen",4:"mouse"};sr.prototype.h=function(){sr.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var lr="closure_listenable_"+(1e6*Math.random()|0),cr=0;function fr(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++cr,this.ca=this.fa=!1}function hr(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function dr(e){this.src=e,this.g={},this.h=0}function pr(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=In(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(hr(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function vr(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}dr.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=vr(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new fr(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var mr="closure_lm_"+(1e6*Math.random()|0),yr={};function gr(e,t,n,r,i){if(r&&r.once)return wr(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)gr(e,t[a],n,r,i);return null}return n=Ir(n),e&&e[lr]?e.N(t,n,yn(r)?!!r.capture:!!r,i):kr(e,t,n,!1,r,i)}function kr(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=yn(i)?!!i.capture:!!i,s=_r(e);if(s||(e[mr]=s=new dr(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Sr;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ar||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Er(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function wr(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)wr(e,t[a],n,r,i);return null}return n=Ir(n),e&&e[lr]?e.O(t,n,yn(r)?!!r.capture:!!r,i):kr(e,t,n,!0,r,i)}function br(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)br(e,t[a],n,r,i);else r=yn(r)?!!r.capture:!!r,n=Ir(n),e&&e[lr]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=vr(a=e.g[t],n,r,i))&&(hr(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=_r(e))&&(t=e.g[t.toString()],e=-1,t&&(e=vr(t,n,r,i)),(n=-1<e?t[e]:null)&&xr(n))}function xr(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[lr])pr(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Er(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=_r(t))?(pr(n,e),0==n.h&&(n.src=null,t[mr]=null)):hr(e)}}}function Er(e){return e in yr?yr[e]:yr[e]="on"+e}function Sr(e,t){if(e.ca)e=!0;else{t=new sr(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&xr(e),e=n.call(r,t)}return e}function _r(e){return(e=e[mr])instanceof dr?e:null}var Cr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ir(e){return"function"===typeof e?e:(e[Cr]||(e[Cr]=function(t){return e.handleEvent(t)}),e[Cr])}function Tr(){_n.call(this),this.i=new dr(this),this.P=this,this.I=null}function Nr(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new or(t,e);else if(t instanceof or)t.target=t.target||e;else{var i=t;zn(t=new or(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ar(o,r,!0,t)&&i}if(i=Ar(o=t.g=e,r,!0,t)&&i,i=Ar(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ar(o=t.g=n[a],r,!1,t)&&i}function Ar(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&pr(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Sn(Tr,_n),Tr.prototype[lr]=!0,Tr.prototype.removeEventListener=function(e,t,n,r){br(this,e,t,n,r)},Tr.prototype.M=function(){if(Tr.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)hr(n[r]);delete t.g[e],t.h--}}this.I=null},Tr.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Tr.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Or=pn.JSON.stringify;function Lr(){var e=Vr,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Dr,Rr=function(){function e(){re(this,e),this.h=this.g=null}return ae(e,[{key:"add",value:function(e,t){var n=Pr.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Pr=new(function(){function e(t,n){re(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return ae(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Mr}),(function(e){return e.reset()})),Mr=function(){function e(){re(this,e),this.next=this.g=this.h=null}return ae(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function jr(e){pn.setTimeout((function(){throw e}),0)}function Fr(e,t){Dr||function(){var e=pn.Promise.resolve(void 0);Dr=function(){e.then(zr)}}(),Ur||(Dr(),Ur=!0),Vr.add(e,t)}var Ur=!1,Vr=new Rr;function zr(){for(var e;e=Lr();){try{e.h.call(e.g)}catch(n){jr(n)}var t=Pr;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ur=!1}function Br(e,t){Tr.call(this),this.h=e||1,this.g=t||pn,this.j=xn(this.kb,this),this.l=Date.now()}function qr(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Hr(e,t,n){if("function"===typeof e)n&&(e=xn(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=xn(e.handleEvent,e)}return 2147483647<Number(t)?-1:pn.setTimeout(e,t||0)}function Wr(e){e.g=Hr((function(){e.g=null,e.i&&(e.i=!1,Wr(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Sn(Br,Tr),(cn=Br.prototype).da=!1,cn.S=null,cn.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Nr(this,"tick"),this.da&&(qr(this),this.start()))}},cn.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},cn.M=function(){Br.Z.M.call(this),qr(this),delete this.g};var Kr=function(e){ue(n,e);var t=de(n);function n(e,r){var i;return re(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return ae(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Wr(this)}},{key:"M",value:function(){ln(le(n.prototype),"M",this).call(this),this.g&&(pn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(_n);function Gr(e){_n.call(this),this.h=e,this.g={}}Sn(Gr,_n);var Qr=[];function Yr(e,t,n,r){Array.isArray(n)||(n&&(Qr[0]=n.toString()),n=Qr);for(var i=0;i<n.length;i++){var a=gr(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Xr(e){Fn(e.g,(function(e,t){this.g.hasOwnProperty(t)&&xr(e)}),e),e.g={}}function Jr(){this.g=!0}function $r(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Or(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Gr.prototype.M=function(){Gr.Z.M.call(this),Xr(this)},Gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jr.prototype.Aa=function(){this.g=!1},Jr.prototype.info=function(){};var Zr={},ei=null;function ti(){return ei=ei||new Tr}function ni(e){or.call(this,Zr.Ma,e)}function ri(e){var t=ti();Nr(t,new ni(t,e))}function ii(e,t){or.call(this,Zr.STAT_EVENT,e),this.stat=t}function ai(e){var t=ti();Nr(t,new ii(t,e))}function oi(e,t){or.call(this,Zr.Na,e),this.size=t}function si(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return pn.setTimeout((function(){e()}),t)}Zr.Ma="serverreachability",Sn(ni,or),Zr.STAT_EVENT="statevent",Sn(ii,or),Zr.Na="timingevent",Sn(oi,or);var ui={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},li={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ci(){}function fi(e){return e.h||(e.h=e.i())}function hi(){}ci.prototype.h=null;var di,pi={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function vi(){or.call(this,"d")}function mi(){or.call(this,"c")}function yi(){}function gi(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Gr(this),this.P=wi,e=Gn?125:void 0,this.W=new Br(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ki}function ki(){this.i=null,this.g="",this.h=!1}Sn(vi,or),Sn(mi,or),Sn(yi,ci),yi.prototype.g=function(){return new XMLHttpRequest},yi.prototype.i=function(){return{}},di=new yi;var wi=45e3,bi={},xi={};function Ei(e,t,n){e.K=1,e.v=Ki(Vi(t)),e.s=n,e.U=!0,Si(e,null)}function Si(e,t){e.F=Date.now(),Ti(e),e.A=Vi(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),aa(n.h,"t",r),e.C=0,n=e.l.H,e.h=new ki,e.g=so(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Kr(xn(e.Ia,e,e.g),e.O)),Yr(e.V,e.g,"readystatechange",e.gb),t=e.H?Un(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ri(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&"type"==f[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function _i(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Ci(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Ii(e,n))==xi){4==t&&(e.o=4,ai(14),i=!1),$r(e.j,e.m,null,"[Incomplete Response]");break}if(r==bi){e.o=4,ai(15),$r(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}$r(e.j,e.m,r,null),Di(e,r)}_i(e)&&r!=xi&&r!=bi&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ai(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Za(t),t.L=!0,ai(11))):($r(e.j,e.m,n,"[Invalid Chunked Response]"),Li(e),Oi(e))}function Ii(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?xi:(n=Number(t.substring(n,r)),isNaN(n)?bi:(r+=1)+n>t.length?xi:(t=t.substr(r,n),e.C=r+n,t))}function Ti(e){e.Y=Date.now()+e.P,Ni(e,e.P)}function Ni(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=si(xn(e.eb,e),t)}function Ai(e){e.B&&(pn.clearTimeout(e.B),e.B=null)}function Oi(e){0==e.l.G||e.I||no(e.l,e)}function Li(e){Ai(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,qr(e.W),Xr(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Di(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||da(n.i,e)))if(n.I=e.N,!e.J&&da(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;to(n),Ha(n)}$a(n),ai(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=si(xn(n.ab,n),6e3));if(1>=ha(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else io(n,11)}else if((e.J||n.g==e)&&to(n),!On(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=r.i;!f.g&&(Rn(c,"spdy")||Rn(c,"quic")||Rn(c,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(pa(f,f.h),f.h=null))}if(r.D){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Wi(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=oo(r,r.H?r.la:null,r.W),d.J){va(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Ai(p),Ti(p)),r.g=d}else Ja(r);0<n.l.length&&Ga(n)}else"stop"!=a[0]&&"close"!=a[0]||io(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?io(n,7):qa(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}ri(4)}catch(a){}}function Ri(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(mn(e)||"string"===typeof e)Tn(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(mn(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(mn(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Pi(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Pi)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Mi(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];ji(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)ji(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function ji(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(cn=gi.prototype).setTimeout=function(e){this.P=e},cn.gb=function(e){e=e.target;var t=this.L;t&&3==Fa(e)?t.l():this.Ia(e)},cn.Ia=function(e){try{if(e==this.g)e:{var t=Fa(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Gn||this.g&&(this.h.h||this.g.ga()||Ua(this.g)))){this.I||4!=t||7==n||ri(8==n||0>=r?3:2),Ai(this);var i=this.g.ba();this.N=i;t:if(_i(this)){var a=Ua(this.g);e="";var o=a.length,s=4==Fa(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Li(this),Oi(this);var u="";break t}this.h.i=new pn.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!On(l)){var f=l;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,ai(12),Li(this),Oi(this);break e}$r(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Di(this,i)}this.U?(Ci(this,t,u),Gn&&this.i&&3==t&&(Yr(this.V,this.W,"tick",this.fb),this.W.start())):($r(this.j,this.m,u,null),Di(this,u)),4==t&&Li(this),this.i&&!this.I&&(4==t?no(this.l,this):(this.i=!1,Ti(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,ai(12)):(this.o=0,ai(13)),Li(this),Oi(this)}}}catch(t){}},cn.fb=function(){if(this.g){var e=Fa(this.g),t=this.g.ga();this.C<t.length&&(Ai(this),Ci(this,e,t),this.i&&4!=e&&Ti(this))}},cn.cancel=function(){this.I=!0,Li(this)},cn.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(ri(3),ai(17)),Li(this),this.o=2,Oi(this)):Ni(this,this.Y-e)},(cn=Pi.prototype).R=function(){Mi(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},cn.T=function(){return Mi(this),this.g.concat()},cn.get=function(e,t){return ji(this.h,e)?this.h[e]:t},cn.set=function(e,t){ji(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},cn.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Fi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ui(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Ui){this.g=void 0!==t?t:e.g,zi(this,e.j),this.s=e.s,Bi(this,e.i),qi(this,e.m),this.l=e.l,t=e.h;var n=new ta;n.i=t.i,t.g&&(n.g=new Pi(t.g),n.h=t.h),Hi(this,n),this.o=e.o}else e&&(n=String(e).match(Fi))?(this.g=!!t,zi(this,n[1]||"",!0),this.s=Gi(n[2]||""),Bi(this,n[3]||"",!0),qi(this,n[4]),this.l=Gi(n[5]||"",!0),Hi(this,n[6]||"",!0),this.o=Gi(n[7]||"")):(this.g=!!t,this.h=new ta(null,this.g))}function Vi(e){return new Ui(e)}function zi(e,t,n){e.j=n?Gi(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Bi(e,t,n){e.i=n?Gi(t,!0):t}function qi(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Hi(e,t,n){t instanceof ta?(e.h=t,function(e,t){t&&!e.j&&(na(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ra(this,t),aa(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Qi(t,Zi)),e.h=new ta(t,e.g))}function Wi(e,t,n){e.h.set(t,n)}function Ki(e){return Wi(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Gi(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Qi(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Yi),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Yi(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ui.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Qi(t,Xi,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Qi(t,Xi,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Qi(n,"/"==n.charAt(0)?$i:Ji,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Qi(n,ea)),e.join("")};var Xi=/[#\/\?@]/g,Ji=/[#\?:]/g,$i=/[#\?]/g,Zi=/[#\?@]/g,ea=/#/g;function ta(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function na(e){e.g||(e.g=new Pi,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ra(e,t){na(e),t=oa(e,t),ji(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,ji((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Mi(e)))}function ia(e,t){return na(e),t=oa(e,t),ji(e.g.h,t)}function aa(e,t,n){ra(e,t),0<n.length&&(e.i=null,e.g.set(oa(e,t),An(n)),e.h+=n.length)}function oa(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(cn=ta.prototype).add=function(e,t){na(this),this.i=null,e=oa(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},cn.forEach=function(e,t){na(this),this.g.forEach((function(n,r){Tn(n,(function(n){e.call(t,n,r,this)}),this)}),this)},cn.T=function(){na(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},cn.R=function(e){na(this);var t=[];if("string"===typeof e)ia(this,e)&&(t=Nn(t,this.g.get(oa(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Nn(t,e[n])}return t},cn.set=function(e,t){return na(this),this.i=null,ia(this,e=oa(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},cn.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},cn.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var sa=ae((function e(t,n){re(this,e),this.h=t,this.g=n}));function ua(e){this.l=e||ca,pn.PerformanceNavigationTiming?e=0<(e=pn.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(pn.g&&pn.g.Ea&&pn.g.Ea()&&pn.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var la,ca=10;function fa(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ha(e){return e.h?1:e.g?e.g.size:0}function da(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function pa(e,t){e.g?e.g.add(t):e.h=t}function va(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ma(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Ne(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return An(e.i)}function ya(){}function ga(){this.g=new ya}function ka(e,t,n){var r=n||"";try{Ri(e,(function(e,n){var i=e;yn(e)&&(i=Or(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function wa(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function ba(e){this.l=e.$b||null,this.j=e.ib||!1}function xa(e,t){Tr.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Ea,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ua.prototype.cancel=function(){if(this.i=ma(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Ne(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},ya.prototype.stringify=function(e){return pn.JSON.stringify(e,void 0)},ya.prototype.parse=function(e){return pn.JSON.parse(e,void 0)},Sn(ba,ci),ba.prototype.g=function(){return new xa(this.l,this.j)},ba.prototype.i=(la={},function(){return la}),Sn(xa,Tr);var Ea=0;function Sa(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function _a(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ca(e)}function Ca(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(cn=xa.prototype).open=function(e,t){if(this.readyState!=Ea)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ca(this)},cn.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||pn).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},cn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_a(this)),this.readyState=Ea},cn.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ca(this)),this.g&&(this.readyState=3,Ca(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof pn.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Sa(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},cn.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?_a(this):Ca(this),3==this.readyState&&Sa(this)}},cn.Ua=function(e){this.g&&(this.response=this.responseText=e,_a(this))},cn.Ta=function(e){this.g&&(this.response=e,_a(this))},cn.ha=function(){this.g&&_a(this)},cn.setRequestHeader=function(e,t){this.v.append(e,t)},cn.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},cn.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(xa.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ia=pn.JSON.parse;function Ta(e){Tr.call(this),this.headers=new Pi,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Na,this.K=this.L=!1}Sn(Ta,Tr);var Na="",Aa=/^https?$/i,Oa=["POST","PUT"];function La(e){return"content-type"==e.toLowerCase()}function Da(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ra(e),Ma(e)}function Ra(e){e.D||(e.D=!0,Nr(e,"complete"),Nr(e,"error"))}function Pa(e){if(e.h&&"undefined"!=typeof dn&&(!e.C[1]||4!=Fa(e)||2!=e.ba()))if(e.v&&4==Fa(e))Hr(e.Fa,0,e);else if(Nr(e,"readystatechange"),4==Fa(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Fi)[1]||null;if(!a&&pn.self&&pn.self.location){var o=pn.self.location.protocol;a=o.substr(0,o.length-1)}i=!Aa.test(a?a.toLowerCase():"")}t=i}if(t)Nr(e,"complete"),Nr(e,"success");else{e.m=6;try{var s=2<Fa(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Ra(e)}}finally{Ma(e)}}}function Ma(e,t){if(e.g){ja(e);var n=e.g,r=e.C[0]?vn:null;e.g=null,e.C=null,t||Nr(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function ja(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(pn.clearTimeout(e.A),e.A=null)}function Fa(e){return e.g?e.g.readyState:0}function Ua(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Na:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Va(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Fn(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Wi(e,t,n))}function za(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ba(e){this.za=0,this.l=[],this.h=new Jr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=za("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=za("baseRetryDelayMs",5e3,e),this.$a=za("retryDelaySeedMs",1e4,e),this.Ya=za("forwardChannelMaxRetries",2,e),this.ra=za("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new ua(e&&e.concurrentRequestLimit),this.Ca=new ga,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function qa(e){if(Wa(e),3==e.G){var t=e.V++,n=Vi(e.F);Wi(n,"SID",e.J),Wi(n,"RID",t),Wi(n,"TYPE","terminate"),Ya(e,n),(t=new gi(e,e.h,t,void 0)).K=2,t.v=Ki(Vi(n)),n=!1,pn.navigator&&pn.navigator.sendBeacon&&(n=pn.navigator.sendBeacon(t.v.toString(),"")),!n&&pn.Image&&((new Image).src=t.v,n=!0),n||(t.g=so(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ti(t)}ao(e)}function Ha(e){e.g&&(Za(e),e.g.cancel(),e.g=null)}function Wa(e){Ha(e),e.u&&(pn.clearTimeout(e.u),e.u=null),to(e),e.i.cancel(),e.m&&("number"===typeof e.m&&pn.clearTimeout(e.m),e.m=null)}function Ka(e,t){e.l.push(new sa(e.Za++,t)),3==e.G&&Ga(e)}function Ga(e){fa(e.i)||e.m||(e.m=!0,Fr(e.Ha,e),e.C=0)}function Qa(e,t){var n;n=t?t.m:e.V++;var r=Vi(e.F);Wi(r,"SID",e.J),Wi(r,"RID",n),Wi(r,"AID",e.U),Ya(e,r),e.o&&e.s&&Va(r,e.o,e.s),n=new gi(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Xa(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),pa(e.i,n),Ei(n,r,t)}function Ya(e,t){e.j&&Ri({},(function(e,n){Wi(t,n,e)}))}function Xa(e,t,n){n=Math.min(e.l.length,n);var r=e.j?xn(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var l=i[u].h,c=i[u].g;if(0>(l-=a))a=Math.max(0,i[u].h-100),s=!1;else try{ka(c,o,"req"+l+"_")}catch(Mo){r&&r(c)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Ja(e){e.g||e.u||(e.Y=1,Fr(e.Ga,e),e.A=0)}function $a(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=si(xn(e.Ga,e),ro(e,e.A)),e.A++,!0)}function Za(e){null!=e.B&&(pn.clearTimeout(e.B),e.B=null)}function eo(e){e.g=new gi(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Vi(e.oa);Wi(t,"RID","rpc"),Wi(t,"SID",e.J),Wi(t,"CI",e.N?"0":"1"),Wi(t,"AID",e.U),Ya(e,t),Wi(t,"TYPE","xmlhttp"),e.o&&e.s&&Va(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Ki(Vi(t)),n.s=null,n.U=!0,Si(n,e)}function to(e){null!=e.v&&(pn.clearTimeout(e.v),e.v=null)}function no(e,t){var n=null;if(e.g==t){to(e),Za(e),e.g=null;var r=2}else{if(!da(e.i,t))return;n=t.D,va(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Nr(r=ti(),new oi(r,n,t,i)),Ga(e)}else Ja(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(ha(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=si(xn(e.Ha,e,t),ro(e,e.C)),e.C++,!0))}(e,t)||2==r&&$a(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:io(e,5);break;case 4:io(e,10);break;case 3:io(e,6);break;default:io(e,2)}}function ro(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function io(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=xn(e.jb,e);n||(n=new Ui("//www.google.com/images/cleardot.gif"),pn.location&&"http"==pn.location.protocol||zi(n,"https"),Ki(n)),function(e,t){var n=new Jr;if(pn.Image){var r=new Image;r.onload=En(wa,n,r,"TestLoadImage: loaded",!0,t),r.onerror=En(wa,n,r,"TestLoadImage: error",!1,t),r.onabort=En(wa,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=En(wa,n,r,"TestLoadImage: timeout",!1,t),pn.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ai(2);e.G=0,e.j&&e.j.va(t),ao(e),Wa(e)}function ao(e){e.G=0,e.I=-1,e.j&&(0==ma(e.i).length&&0==e.l.length||(e.i.i.length=0,An(e.l),e.l.length=0),e.j.ua())}function oo(e,t,n){var r=function(e){return e instanceof Ui?Vi(e):new Ui(e,void 0)}(n);if(""!=r.i)t&&Bi(r,t+"."+r.i),qi(r,r.m);else{var i=pn.location;r=function(e,t,n,r){var i=new Ui(null,void 0);return e&&zi(i,e),t&&Bi(i,t),n&&qi(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Fn(e.aa,(function(e,t){Wi(r,t,e)})),t=e.D,n=e.sa,t&&n&&Wi(r,t,n),Wi(r,"VER",e.ma),Ya(e,r),r}function so(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Ta(new ba({ib:!0})):new Ta(e.qa)).L=e.H,t}function uo(){}function lo(){if(Wn&&!(10<=Number(ir)))throw Error("Environmental error: no available transport.")}function co(e,t){Tr.call(this),this.g=new Ba(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!On(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!On(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new po(this)}function fo(e){vi.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ho(){mi.call(this),this.status=1}function po(e){this.g=e}(cn=Ta.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():di.g(),this.C=this.u?fi(this.u):fi(di),this.g.onreadystatechange=xn(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Da(this,a)}e=n||"";var i=new Pi(this.headers);r&&Ri(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=La,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=pn.FormData&&e instanceof pn.FormData,!(0<=In(Oa,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ja(this),0<this.B&&((this.K=function(e){return Wn&&nr()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xn(this.pa,this)):this.A=Hr(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Da(this,a)}},cn.pa=function(){"undefined"!=typeof dn&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nr(this,"timeout"),this.abort(8))},cn.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Nr(this,"complete"),Nr(this,"abort"),Ma(this))},cn.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ma(this,!0)),Ta.Z.M.call(this)},cn.Fa=function(){this.s||(this.F||this.v||this.l?Pa(this):this.cb())},cn.cb=function(){Pa(this)},cn.ba=function(){try{return 2<Fa(this)?this.g.status:-1}catch(la){return-1}},cn.ga=function(){try{return this.g?this.g.responseText:""}catch(la){return""}},cn.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ia(t)}},cn.Da=function(){return this.m},cn.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(cn=Ba.prototype).ma=8,cn.G=1,cn.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},cn.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new gi(this,this.h,e,void 0),n=this.s;if(this.P&&(n?zn(n=Un(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Xa(this,t,r),Wi(i=Vi(this.F),"RID",e),Wi(i,"CVER",22),this.D&&Wi(i,"X-HTTP-Session-Id",this.D),Ya(this,i),this.o&&n&&Va(i,this.o,n),pa(this.i,t),this.Ra&&Wi(i,"TYPE","init"),this.ja?(Wi(i,"$req",r),Wi(i,"SID","null"),t.$=!0,Ei(t,i,null)):Ei(t,i,r),this.G=2}}else 3==this.G&&(e?Qa(this,e):0==this.l.length||fa(this.i)||Qa(this))},cn.Ga=function(){if(this.u=null,eo(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=si(xn(this.bb,this),e)}},cn.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ai(10),Ha(this),eo(this))},cn.ab=function(){null!=this.v&&(this.v=null,Ha(this),$a(this),ai(19))},cn.jb=function(e){e?(this.h.info("Successfully pinged google.com"),ai(2)):(this.h.info("Failed to ping google.com"),ai(1))},(cn=uo.prototype).xa=function(){},cn.wa=function(){},cn.va=function(){},cn.ua=function(){},cn.Oa=function(){},lo.prototype.g=function(e,t){return new co(e,t)},Sn(co,Tr),co.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Fr(xn(e.hb,e,t))),ai(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=oo(e,null,e.W),Ga(e)},co.prototype.close=function(){qa(this.g)},co.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Ka(this.g,t)}else this.v?((t={}).__data__=Or(e),Ka(this.g,t)):Ka(this.g,e)},co.prototype.M=function(){this.g.j=null,delete this.j,qa(this.g),delete this.g,co.Z.M.call(this)},Sn(fo,vi),Sn(ho,mi),Sn(po,uo),po.prototype.xa=function(){Nr(this.g,"a")},po.prototype.wa=function(e){Nr(this.g,new fo(e))},po.prototype.va=function(e){Nr(this.g,new ho(e))},po.prototype.ua=function(){Nr(this.g,"b")},lo.prototype.createWebChannel=lo.prototype.g,co.prototype.send=co.prototype.u,co.prototype.open=co.prototype.m,co.prototype.close=co.prototype.close,ui.NO_ERROR=0,ui.TIMEOUT=8,ui.HTTP_ERROR=6,li.COMPLETE="complete",hi.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",Tr.prototype.listen=Tr.prototype.N,Ta.prototype.listenOnce=Ta.prototype.O,Ta.prototype.getLastError=Ta.prototype.La,Ta.prototype.getLastErrorCode=Ta.prototype.Da,Ta.prototype.getStatus=Ta.prototype.ba,Ta.prototype.getResponseJson=Ta.prototype.Qa,Ta.prototype.getResponseText=Ta.prototype.ga,Ta.prototype.send=Ta.prototype.ea;var vo=hn.createWebChannelTransport=function(){return new lo},mo=hn.getStatEventTarget=function(){return ti()},yo=hn.ErrorCode=ui,go=hn.EventType=li,ko=hn.Event=Zr,wo=hn.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},bo=hn.FetchXmlHttpFactory=ba,xo=hn.WebChannel=hi,Eo=hn.XhrIo=Ta,So="@firebase/firestore",_o=function(){function e(t){re(this,e),this.uid=t}return ae(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();_o.UNAUTHENTICATED=new _o(null),_o.GOOGLE_CREDENTIALS=new _o("google-credentials-uid"),_o.FIRST_PARTY=new _o("first-party-uid"),_o.MOCK_USER=new _o("mock-user");var Co="9.8.3",Io=new ft("@firebase/firestore");function To(){return Io.logLevel}function No(e){if(Io.logLevel<=it.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Lo);Io.debug.apply(Io,["Firestore (".concat(Co,"): ").concat(e)].concat(Q(i)))}}function Ao(e){if(Io.logLevel<=it.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Lo);Io.error.apply(Io,["Firestore (".concat(Co,"): ").concat(e)].concat(Q(i)))}}function Oo(e){if(Io.logLevel<=it.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Lo);Io.warn.apply(Io,["Firestore (".concat(Co,"): ").concat(e)].concat(Q(i)))}}function Lo(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Do(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Co,") INTERNAL ASSERTION FAILED: ")+e;throw Ao(t),new Error(t)}function Ro(e,t){e||Do()}function Po(e,t){return e}var Mo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},jo=function(e){ue(n,e);var t=de(n);function n(e,r){var i;return re(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return ae(n)}(Be),Fo=ae((function e(){var t=this;re(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Uo=ae((function e(t,n){re(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Vo=function(){function e(){re(this,e)}return ae(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(_o.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),zo=function(){function e(t){re(this,e),this.t=t,this.currentUser=_o.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return ae(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Fo;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Fo,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ce(Te().mark((function e(){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){No("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(No("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Fo)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(No("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Ro("string"==typeof n.accessToken),new Uo(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Ro(null===e||"string"==typeof e),new _o(e)}}]),e}(),Bo=ae((function e(t,n,r){re(this,e),this.type="FirstParty",this.user=_o.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),qo=function(){function e(t,n,r){re(this,e),this.h=t,this.l=n,this.m=r}return ae(e,[{key:"getToken",value:function(){return Promise.resolve(new Bo(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(_o.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Ho=ae((function e(t){re(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Wo=function(){function e(t){re(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return ae(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&No("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,No("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){No("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):No("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Ro("string"==typeof t.token),e.p=t.token,new Ho(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Ko(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Go=function(){function e(){re(this,e)}return ae(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Ko(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Qo(e,t){return e<t?-1:e>t?1:0}function Yo(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Xo=function(){function e(t,n){if(re(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new jo(Mo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new jo(Mo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new jo(Mo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new jo(Mo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return ae(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Qo(this.nanoseconds,e.nanoseconds):Qo(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Jo=function(){function e(t){re(this,e),this.timestamp=t}return ae(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Xo(0,0))}},{key:"max",value:function(){return new e(new Xo(253402300799,999999999))}}]),e}(),$o=function(){function e(t,n,r){re(this,e),void 0===n?n=0:n>t.length&&Do(),void 0===r?r=t.length-n:r>t.length-n&&Do(),this.segments=t,this.offset=n,this.len=r}return ae(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Zo=function(e){ue(n,e);var t=de(n);function n(){return re(this,n),t.apply(this,arguments)}return ae(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new jo(Mo.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,Q(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}($o),es=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ts=function(e){ue(n,e);var t=de(n);function n(){return re(this,n),t.apply(this,arguments)}return ae(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return es.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new jo(Mo.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new jo(Mo.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new jo(Mo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new jo(Mo.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}($o),ns=function(){function e(t){re(this,e),this.path=t}return ae(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Zo.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Zo.fromString(t))}},{key:"fromName",value:function(t){return new e(Zo.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Zo.emptyPath())}},{key:"comparator",value:function(e,t){return Zo.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Zo(t.slice()))}}]),e}(),rs=ae((function e(t,n,r,i){re(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));rs.UNKNOWN_ID=-1;function is(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Jo.fromTimestamp(1e9===r?new Xo(n+1,0):new Xo(n,r));return new os(i,ns.empty(),t)}function as(e){return new os(e.readTime,e.key,-1)}var os=function(){function e(t,n,r){re(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return ae(e,null,[{key:"min",value:function(){return new e(Jo.min(),ns.empty(),-1)}},{key:"max",value:function(){return new e(Jo.max(),ns.empty(),-1)}}]),e}();function ss(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=ns.comparator(e.documentKey,t.documentKey))?n:Qo(e.largestBatchId,t.largestBatchId)}var us="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ls=function(){function e(){re(this,e),this.onCommittedListeners=[]}return ae(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function cs(e){return fs.apply(this,arguments)}function fs(){return fs=Ce(Te().mark((function e(t){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Mo.FAILED_PRECONDITION&&t.message===us){e.next=2;break}throw t;case 2:No("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),fs.apply(this,arguments)}var hs=function(){function e(t){var n=this;re(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return ae(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Do(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Ne(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function ds(e){return"IndexedDbTransactionError"===e.name}var ps=function(){function e(t,n){var r=this;re(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return ae(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function vs(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ms(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ys(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}ps.ot=-1;var gs=function(){function e(t,n){re(this,e),this.comparator=t,this.root=n||ws.EMPTY}return ae(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ws.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ws.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new ks(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new ks(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new ks(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new ks(this.root,e,this.comparator,!0)}}]),e}(),ks=function(){function e(t,n,r,i){re(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return ae(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),ws=function(){function e(t,n,r,i,a){re(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return ae(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Do();if(this.right.isRed())throw Do();var e=this.left.check();if(e!==this.right.check())throw Do();return e+(this.isRed()?0:1)}}]),e}();ws.EMPTY=null,ws.RED=!0,ws.BLACK=!1,ws.EMPTY=new(function(){function e(){re(this,e),this.size=0}return ae(e,[{key:"key",get:function(){throw Do()}},{key:"value",get:function(){throw Do()}},{key:"color",get:function(){throw Do()}},{key:"left",get:function(){throw Do()}},{key:"right",get:function(){throw Do()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new ws(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var bs=function(){function e(t){re(this,e),this.comparator=t,this.data=new gs(this.comparator)}return ae(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new xs(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new xs(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),xs=function(){function e(t){re(this,e),this.iter=t}return ae(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var Es=function(){function e(t){re(this,e),this.fields=t,t.sort(ts.comparator)}return ae(e,[{key:"unionWith",value:function(t){var n,r=new bs(ts.comparator),i=Ne(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(l){i.e(l)}finally{i.f()}var o,s=Ne(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(l){s.e(l)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Ne(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Yo(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var Ss=function(e){function t(e){re(this,t),this.binaryString=e}return ae(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Qo(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Ss.EMPTY_BYTE_STRING=new Ss("");var _s=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(e){if(Ro(!!e),"string"==typeof e){var t=0,n=_s.exec(e);if(Ro(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Is(e.seconds),nanos:Is(e.nanos)}}function Is(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ts(e){return"string"==typeof e?Ss.fromBase64String(e):Ss.fromUint8Array(e)}function Ns(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function As(e){var t=e.mapValue.fields.__previous_value__;return Ns(t)?As(t):t}function Os(e){var t=Cs(e.mapValue.fields.__local_write_time__.timestampValue);return new Xo(t.seconds,t.nanos)}var Ls=ae((function e(t,n,r,i,a,o,s,u){re(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Ds=function(){function e(t,n){re(this,e),this.projectId=t,this.database=n||"(default)"}return ae(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Rs(e){return null==e}function Ps(e){return 0===e&&1/e==-1/0}function Ms(e){return"number"==typeof e&&Number.isInteger(e)&&!Ps(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var js={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ns(e)?4:$s(e)?9007199254740991:10:Do()}function Us(e,t){if(e===t)return!0;var n=Fs(e);if(n!==Fs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Os(e).isEqual(Os(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Cs(e.timestampValue),r=Cs(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ts(e.bytesValue).isEqual(Ts(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Is(e.geoPointValue.latitude)===Is(t.geoPointValue.latitude)&&Is(e.geoPointValue.longitude)===Is(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Is(e.integerValue)===Is(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Is(e.doubleValue),r=Is(t.doubleValue);return n===r?Ps(n)===Ps(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Yo(e.arrayValue.values||[],t.arrayValue.values||[],Us);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(vs(n)!==vs(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Us(n[i],r[i])))return!1;return!0}(e,t);default:return Do()}}function Vs(e,t){return void 0!==(e.values||[]).find((function(e){return Us(e,t)}))}function zs(e,t){if(e===t)return 0;var n=Fs(e),r=Fs(t);if(n!==r)return Qo(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qo(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Is(e.integerValue||e.doubleValue),r=Is(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Bs(e.timestampValue,t.timestampValue);case 4:return Bs(Os(e),Os(t));case 5:return Qo(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Ts(e),r=Ts(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Qo(n[i],r[i]);if(0!==a)return a}return Qo(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Qo(Is(e.latitude),Is(t.latitude));return 0!==n?n:Qo(Is(e.longitude),Is(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=zs(n[i],r[i]);if(a)return a}return Qo(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===js.mapValue&&t===js.mapValue)return 0;if(e===js.mapValue)return 1;if(t===js.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Qo(r[o],a[o]);if(0!==s)return s;var u=zs(n[r[o]],i[a[o]]);if(0!==u)return u}return Qo(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Do()}}function Bs(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Qo(e,t);var n=Cs(e),r=Cs(t),i=Qo(n.seconds,r.seconds);return 0!==i?i:Qo(n.nanos,r.nanos)}function qs(e){return Hs(e)}function Hs(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Cs(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ts(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ns.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Ne(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Hs(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Ne(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Hs(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Do();var t,n}function Ws(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ks(e){return!!e&&"integerValue"in e}function Gs(e){return!!e&&"arrayValue"in e}function Qs(e){return!!e&&"nullValue"in e}function Ys(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Xs(e){return!!e&&"mapValue"in e}function Js(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ms(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Js(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Js(e.arrayValue.values[r]);return n}return Object.assign({},e)}function $s(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var Zs=function(){function e(t){re(this,e),this.value=t}return ae(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Xs(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Js(t)}},{key:"setAll",value:function(e){var t=this,n=ts.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Js(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Xs(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Us(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Xs(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){ms(t,(function(t,n){return e[t]=n}));var r,i=Ne(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Js(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function eu(e){var t=[];return ms(e.fields,(function(e,n){var r=new ts([e]);if(Xs(n)){var i=eu(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Ne(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Es(t)}var tu=function(){function e(t,n,r,i,a,o){re(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return ae(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Zs.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Zs.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Jo.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Jo.min(),Jo.min(),Zs.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Jo.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Jo.min(),Zs.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Jo.min(),Zs.empty(),2)}}]),e}(),nu=ae((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;re(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ut=null}));function ru(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new nu(e,t,n,r,i,a,o)}function iu(e){var t=Po(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+qs(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Rs(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return qs(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return qs(e)})).join(",")),t.ut=n}return t.ut}function au(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!gu(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Us(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!wu(e.startAt,t.startAt)&&wu(e.endAt,t.endAt)}function ou(e){return ns.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var su=function(e){ue(n,e);var t=de(n);function n(e,r,i){var a;return re(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return ae(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(zs(t,this.value)):null!==t&&Fs(this.value)===Fs(t)&&this.at(zs(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Do()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new uu(e,t,r):"array-contains"===t?new hu(e,r):"in"===t?new du(e,r):"not-in"===t?new pu(e,r):"array-contains-any"===t?new vu(e,r):new n(e,t,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new lu(e,n):new cu(e,n)}}]),n}(function(){return ae((function e(){re(this,e)}))}()),uu=function(e){ue(n,e);var t=de(n);function n(e,r,i){var a;return re(this,n),(a=t.call(this,e,r,i)).key=ns.fromName(i.referenceValue),a}return ae(n,[{key:"matches",value:function(e){var t=ns.comparator(e.key,this.key);return this.at(t)}}]),n}(su),lu=function(e){ue(n,e);var t=de(n);function n(e,r){var i;return re(this,n),(i=t.call(this,e,"in",r)).keys=fu("in",r),i}return ae(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(su),cu=function(e){ue(n,e);var t=de(n);function n(e,r){var i;return re(this,n),(i=t.call(this,e,"not-in",r)).keys=fu("not-in",r),i}return ae(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(su);function fu(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return ns.fromName(e.referenceValue)}))}var hu=function(e){ue(n,e);var t=de(n);function n(e,r){return re(this,n),t.call(this,e,"array-contains",r)}return ae(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Gs(t)&&Vs(t.arrayValue,this.value)}}]),n}(su),du=function(e){ue(n,e);var t=de(n);function n(e,r){return re(this,n),t.call(this,e,"in",r)}return ae(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Vs(this.value.arrayValue,t)}}]),n}(su),pu=function(e){ue(n,e);var t=de(n);function n(e,r){return re(this,n),t.call(this,e,"not-in",r)}return ae(n,[{key:"matches",value:function(e){if(Vs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Vs(this.value.arrayValue,t)}}]),n}(su),vu=function(e){ue(n,e);var t=de(n);function n(e,r){return re(this,n),t.call(this,e,"array-contains-any",r)}return ae(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Gs(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Vs(t.value.arrayValue,e)}))}}]),n}(su),mu=ae((function e(t,n){re(this,e),this.position=t,this.inclusive=n})),yu=ae((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";re(this,e),this.field=t,this.dir=n}));function gu(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function ku(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?ns.comparator(ns.fromName(o.referenceValue),n.key):zs(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function wu(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Us(e.position[n],t.position[n]))return!1;return!0}var bu=ae((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;re(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.lt=null,this.ft=null,this.startAt,this.endAt}));function xu(e,t,n,r,i,a,o,s){return new bu(e,t,n,r,i,a,o,s)}function Eu(e){return new bu(e)}function Su(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function _u(e){var t,n=Ne(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Cu(e){return null!==e.collectionGroup}function Iu(e){var t=Po(e);if(null===t.lt){t.lt=[];var n=_u(t),r=Su(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new yu(n)),t.lt.push(new yu(ts.keyField(),"asc"));else{var i,a=!1,o=Ne(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.lt.push(s),s.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new yu(ts.keyField(),u))}}}return t.lt}function Tu(e){var t=Po(e);if(!t.ft)if("F"===t.limitType)t.ft=ru(t.path,t.collectionGroup,Iu(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Ne(Iu(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new yu(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var s=t.endAt?new mu(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new mu(t.startAt.position,t.startAt.inclusive):null;t.ft=ru(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.ft}function Nu(e,t,n){return new bu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Au(e,t){return au(Tu(e),Tu(t))&&e.limitType===t.limitType}function Ou(e){return"".concat(iu(Tu(e)),"|lt:").concat(e.limitType)}function Lu(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(qs(t.value));var t})).join(", "),"]")),Rs(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return qs(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return qs(e)})).join(",")),"Target(".concat(t,")")}(Tu(e)),"; limitType=").concat(e.limitType,")")}function Du(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ns.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Ne(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Ne(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=ku(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Iu(e),t))&&!(e.endAt&&!function(e,t,n){var r=ku(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Iu(e),t))}(e,t)}function Ru(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Pu(e){return function(t,n){var r,i=!1,a=Ne(Iu(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Mu(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Mu(e,t,n){var r=e.field.isKeyField()?ns.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?zs(r,i):Do()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Do()}}function ju(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ps(t)?"-0":t}}function Fu(e){return{integerValue:""+e}}function Uu(e,t){return Ms(t)?Fu(t):ju(e,t)}var Vu=ae((function e(){re(this,e),this._=void 0}));function zu(e,t,n){return e instanceof Hu?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Wu?Ku(e,t):e instanceof Gu?Qu(e,t):function(e,t){var n=qu(e,t),r=Xu(n)+Xu(e._t);return Ks(n)&&Ks(e._t)?Fu(r):ju(e.wt,r)}(e,t)}function Bu(e,t,n){return e instanceof Wu?Ku(e,t):e instanceof Gu?Qu(e,t):n}function qu(e,t){return e instanceof Yu?Ks(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Hu=function(e){ue(n,e);var t=de(n);function n(){return re(this,n),t.apply(this,arguments)}return ae(n)}(Vu),Wu=function(e){ue(n,e);var t=de(n);function n(e){var r;return re(this,n),(r=t.call(this)).elements=e,r}return ae(n)}(Vu);function Ku(e,t){var n,r=Ju(t),i=Ne(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Us(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Gu=function(e){ue(n,e);var t=de(n);function n(e){var r;return re(this,n),(r=t.call(this)).elements=e,r}return ae(n)}(Vu);function Qu(e,t){var n,r=Ju(t),i=Ne(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Us(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Yu=function(e){ue(n,e);var t=de(n);function n(e,r){var i;return re(this,n),(i=t.call(this)).wt=e,i._t=r,i}return ae(n)}(Vu);function Xu(e){return Is(e.integerValue||e.doubleValue)}function Ju(e){return Gs(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var $u=ae((function e(t,n){re(this,e),this.version=t,this.transformResults=n})),Zu=function(){function e(t,n){re(this,e),this.updateTime=t,this.exists=n}return ae(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function el(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var tl=ae((function e(){re(this,e)}));function nl(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new pl(e.key,Zu.none()):new sl(e.key,e.data,Zu.none());var n,r=e.data,i=Zs.empty(),a=new bs(ts.comparator),o=Ne(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(l){o.e(l)}finally{o.f()}return new ul(e.key,i,new Es(a.toArray()),Zu.none())}function rl(e,t,n){e instanceof sl?function(e,t,n){var r=e.value.clone(),i=cl(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ul?function(e,t,n){if(el(e.precondition,t)){var r=cl(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ll(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function il(e,t,n,r){return e instanceof sl?function(e,t,n,r){if(!el(e.precondition,t))return n;var i=e.value.clone(),a=fl(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof ul?function(e,t,n,r){if(!el(e.precondition,t))return n;var i=fl(e.fieldTransforms,r,t),a=t.data;return a.setAll(ll(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return el(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function al(e,t){var n,r=null,i=Ne(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=qu(a.transform,o||null);null!=s&&(null===r&&(r=Zs.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function ol(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Yo(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Wu&&t instanceof Wu||e instanceof Gu&&t instanceof Gu?Yo(e.elements,t.elements,Us):e instanceof Yu&&t instanceof Yu?Us(e._t,t._t):e instanceof Hu&&t instanceof Hu}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var sl=function(e){ue(n,e);var t=de(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return re(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return ae(n,[{key:"getFieldMask",value:function(){return null}}]),n}(tl),ul=function(e){ue(n,e);var t=de(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return re(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return ae(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(tl);function ll(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function cl(e,t,n){var r=new Map;Ro(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Bu(o,s,n[i]))}return r}function fl(e,t,n){var r,i=new Map,a=Ne(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,zu(s,u,t))}}catch(l){a.e(l)}finally{a.f()}return i}var hl,dl,pl=function(e){ue(n,e);var t=de(n);function n(e,r){var i;return re(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return ae(n,[{key:"getFieldMask",value:function(){return null}}]),n}(tl),vl=function(e){ue(n,e);var t=de(n);function n(e,r){var i;return re(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return ae(n,[{key:"getFieldMask",value:function(){return null}}]),n}(tl),ml=ae((function e(t){re(this,e),this.count=t}));function yl(e){switch(e){default:return Do();case Mo.CANCELLED:case Mo.UNKNOWN:case Mo.DEADLINE_EXCEEDED:case Mo.RESOURCE_EXHAUSTED:case Mo.INTERNAL:case Mo.UNAVAILABLE:case Mo.UNAUTHENTICATED:return!1;case Mo.INVALID_ARGUMENT:case Mo.NOT_FOUND:case Mo.ALREADY_EXISTS:case Mo.PERMISSION_DENIED:case Mo.FAILED_PRECONDITION:case Mo.ABORTED:case Mo.OUT_OF_RANGE:case Mo.UNIMPLEMENTED:case Mo.DATA_LOSS:return!0}}function gl(e){if(void 0===e)return Ao("GRPC error has no .code"),Mo.UNKNOWN;switch(e){case hl.OK:return Mo.OK;case hl.CANCELLED:return Mo.CANCELLED;case hl.UNKNOWN:return Mo.UNKNOWN;case hl.DEADLINE_EXCEEDED:return Mo.DEADLINE_EXCEEDED;case hl.RESOURCE_EXHAUSTED:return Mo.RESOURCE_EXHAUSTED;case hl.INTERNAL:return Mo.INTERNAL;case hl.UNAVAILABLE:return Mo.UNAVAILABLE;case hl.UNAUTHENTICATED:return Mo.UNAUTHENTICATED;case hl.INVALID_ARGUMENT:return Mo.INVALID_ARGUMENT;case hl.NOT_FOUND:return Mo.NOT_FOUND;case hl.ALREADY_EXISTS:return Mo.ALREADY_EXISTS;case hl.PERMISSION_DENIED:return Mo.PERMISSION_DENIED;case hl.FAILED_PRECONDITION:return Mo.FAILED_PRECONDITION;case hl.ABORTED:return Mo.ABORTED;case hl.OUT_OF_RANGE:return Mo.OUT_OF_RANGE;case hl.UNIMPLEMENTED:return Mo.UNIMPLEMENTED;case hl.DATA_LOSS:return Mo.DATA_LOSS;default:return Do()}}(dl=hl||(hl={}))[dl.OK=0]="OK",dl[dl.CANCELLED=1]="CANCELLED",dl[dl.UNKNOWN=2]="UNKNOWN",dl[dl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dl[dl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dl[dl.NOT_FOUND=5]="NOT_FOUND",dl[dl.ALREADY_EXISTS=6]="ALREADY_EXISTS",dl[dl.PERMISSION_DENIED=7]="PERMISSION_DENIED",dl[dl.UNAUTHENTICATED=16]="UNAUTHENTICATED",dl[dl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dl[dl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dl[dl.ABORTED=10]="ABORTED",dl[dl.OUT_OF_RANGE=11]="OUT_OF_RANGE",dl[dl.UNIMPLEMENTED=12]="UNIMPLEMENTED",dl[dl.INTERNAL=13]="INTERNAL",dl[dl.UNAVAILABLE=14]="UNAVAILABLE",dl[dl.DATA_LOSS=15]="DATA_LOSS";var kl=function(){function e(t,n){re(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return ae(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Ne(n);try{for(i.s();!(r=i.n()).done;){var a=o(r.value,2),s=a[0],u=a[1];if(this.equalsFn(s,e))return u}}catch(l){i.e(l)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){ms(this.inner,(function(t,n){var r,i=Ne(n);try{for(i.s();!(r=i.n()).done;){var a=o(r.value,2),s=a[0],u=a[1];e(s,u)}}catch(l){i.e(l)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return ys(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),wl=new gs(ns.comparator);function bl(){return wl}var xl=new gs(ns.comparator);function El(){for(var e=xl,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Sl(e){var t=xl;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function _l(){return Il()}function Cl(){return Il()}function Il(){return new kl((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Tl=new gs(ns.comparator),Nl=new bs(ns.comparator);function Al(){for(var e=Nl,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Ol=new bs(Qo);function Ll(){return Ol}var Dl=function(){function e(t,n,r,i,a){re(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return ae(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Rl.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Jo.min(),r,Ll(),bl(),Al())}}]),e}(),Rl=function(){function e(t,n,r,i,a){re(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return ae(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Ss.EMPTY_BYTE_STRING,n,Al(),Al(),Al())}}]),e}(),Pl=ae((function e(t,n,r,i){re(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i})),Ml=ae((function e(t,n){re(this,e),this.targetId=t,this.It=n})),jl=ae((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ss.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;re(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Fl=function(){function e(){re(this,e),this.Tt=0,this.Et=zl(),this.At=Ss.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return ae(e,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=Al(),t=Al(),n=Al();return this.Et.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Do()}})),new Rl(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=zl()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Ot",value:function(){this.bt=!0,this.Rt=!0}}]),e}(),Ul=function(){function e(t){re(this,e),this.Mt=t,this.Ft=new Map,this.$t=bl(),this.Bt=Vl(),this.Lt=new bs(Qo)}return ae(e,[{key:"Ut",value:function(e){var t,n=Ne(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(s){n.e(s)}finally{n.f()}var i,a=Ne(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Kt(o,e.key,e.yt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:Do()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((function(e,r){n.jt(r)&&t(r)}))}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(ou(i))if(0===n){var a=new ns(i.path);this.Kt(t,a,tu.newNoDocument(a,Jo.min()))}else Ro(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach((function(r,i){var a=t.Ht(i);if(a){if(r.current&&ou(a.target)){var o=new ns(a.target.path);null!==t.$t.get(o)||t.Xt(i,o)||t.Kt(i,o,tu.newNoDocument(o,e))}r.vt&&(n.set(i,r.St()),r.Dt())}}));var r=Al();this.Bt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$t.forEach((function(t,n){return n.setReadTime(e)}));var i=new Dl(e,n,this.Lt,this.$t,r);return this.$t=bl(),this.Bt=Vl(),this.Lt=new bs(Qo),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new Fl,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new bs(Qo),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||No("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new Fl),this.Mt.getRemoteKeysForTarget(e).forEach((function(n){t.Kt(e,n,null)}))}},{key:"Xt",value:function(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Vl(){return new gs(ns.comparator)}function zl(){return new gs(ns.comparator)}var Bl={asc:"ASCENDING",desc:"DESCENDING"},ql={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hl=ae((function e(t,n){re(this,e),this.databaseId=t,this.dt=n}));function Wl(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Kl(e,t){return e.dt?t.toBase64():t.toUint8Array()}function Gl(e,t){return Wl(e,t.toTimestamp())}function Ql(e){return Ro(!!e),Jo.fromTimestamp(function(e){var t=Cs(e);return new Xo(t.seconds,t.nanos)}(e))}function Yl(e,t){return function(e){return new Zo(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Xl(e){var t=Zo.fromString(e);return Ro(mc(t)),t}function Jl(e,t){return Yl(e.databaseId,t.path)}function $l(e,t){var n=Xl(t);if(n.get(1)!==e.databaseId.projectId)throw new jo(Mo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new jo(Mo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ns(nc(n))}function Zl(e,t){return Yl(e.databaseId,t)}function ec(e){var t=Xl(e);return 4===t.length?Zo.emptyPath():nc(t)}function tc(e){return new Zo(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function nc(e){return Ro(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function rc(e,t,n){return{name:Jl(e,t),fields:n.value.mapValue.fields}}function ic(e,t){var n;if(t instanceof sl)n={update:rc(e,t.key,t.value)};else if(t instanceof pl)n={delete:Jl(e,t.key)};else if(t instanceof ul)n={update:rc(e,t.key,t.data),updateMask:vc(t.fieldMask)};else{if(!(t instanceof vl))return Do();n={verify:Jl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Hu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Wu)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Gu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Yu)return{fieldPath:t.field.canonicalString(),increment:n._t};throw Do()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Gl(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Do()}(e,t.precondition)),n}function ac(e,t){return{documents:[Zl(e,t.path)]}}function oc(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Zl(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Zl(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Ys(e.value))return{unaryFilter:{field:fc(e.field),op:"IS_NAN"}};if(Qs(e.value))return{unaryFilter:{field:fc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ys(e.value))return{unaryFilter:{field:fc(e.field),op:"IS_NOT_NAN"}};if(Qs(e.value))return{unaryFilter:{field:fc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fc(e.field),op:cc(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:fc(e.field),direction:lc(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.dt||Rs(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function sc(e){var t=ec(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ro(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=uc(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new yu(hc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Rs(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new mu(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new mu(n,t)}(n.endAt)),xu(t,i,s,o,u,"F",l,c)}function uc(e){return e?void 0!==e.unaryFilter?[pc(e)]:void 0!==e.fieldFilter?[dc(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return uc(e)})).reduce((function(e,t){return e.concat(t)})):Do():[]}function lc(e){return Bl[e]}function cc(e){return ql[e]}function fc(e){return{fieldPath:e.canonicalString()}}function hc(e){return ts.fromServerFormat(e.fieldPath)}function dc(e){return su.create(hc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Do()}}(e.fieldFilter.op),e.fieldFilter.value)}function pc(e){switch(e.unaryFilter.op){case"IS_NAN":var t=hc(e.unaryFilter.field);return su.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=hc(e.unaryFilter.field);return su.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=hc(e.unaryFilter.field);return su.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=hc(e.unaryFilter.field);return su.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Do()}}function vc(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function mc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var yc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),gc=([].concat(Q(yc),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),kc=gc;[].concat(kc,["indexConfiguration","indexState","indexEntries"]);var wc=function(){function e(t,n,r,i){re(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return ae(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&rl(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Ne(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=il(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=Ne(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=il(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Cl();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=nl(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Jo.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Al())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,(function(e,t){return ol(e,t)}))&&Yo(this.baseMutations,e.baseMutations,(function(e,t){return ol(e,t)}))}}]),e}(),bc=function(){function e(t,n,r,i){re(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return ae(e,null,[{key:"from",value:function(t,n,r){Ro(t.mutations.length===r.length);for(var i=Tl,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),xc=function(){function e(t,n){re(this,e),this.largestBatchId=t,this.mutation=n}return ae(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Ec=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Jo.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Jo.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ss.EMPTY_BYTE_STRING;re(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return ae(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Sc=ae((function e(t){re(this,e),this.ne=t}));function _c(e){var t=sc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Nu(t,t.limit,"L"):t}var Cc=function(){function e(){re(this,e)}return ae(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Is(e.integerValue));else if("doubleValue"in e){var n=Is(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),Ps(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Ts(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?$s(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):Do()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=Ne(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.oe(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),ns.fromName(e).path.forEach((function(e){n.ce(t,60),n.ge(e,t)}))}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();Cc.ye=new Cc;var Ic=function(){function e(){re(this,e),this.ze=new Tc}return ae(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),hs.resolve()}},{key:"getCollectionParents",value:function(e,t){return hs.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return hs.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return hs.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return hs.resolve(null)}},{key:"getIndexType",value:function(e,t){return hs.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return hs.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return hs.resolve(null)}},{key:"getMinOffset",value:function(e,t){return hs.resolve(os.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return hs.resolve(os.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return hs.resolve()}},{key:"updateIndexEntries",value:function(e,t){return hs.resolve()}}]),e}(),Tc=function(){function e(){re(this,e),this.index={}}return ae(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new bs(Zo.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new bs(Zo.comparator)).toArray()}}]),e}();new Uint8Array(0);var Nc=function(){function e(t,n,r){re(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return ae(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Nc.DEFAULT_COLLECTION_PERCENTILE=10,Nc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nc.DEFAULT=new Nc(41943040,Nc.DEFAULT_COLLECTION_PERCENTILE,Nc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nc.DISABLED=new Nc(-1,0,0);var Ac=function(){function e(t){re(this,e),this.En=t}return ae(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}();var Oc=function(){function e(){re(this,e),this.changes=new kl((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return ae(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,tu.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?hs.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var Lc=ae((function e(t,n){re(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Dc=function(){function e(t,n,r,i){re(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return ae(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&il(r.mutation,e,Es.empty(),Xo.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Al()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Al(),i=_l();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=El();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=_l();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Al())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=bl(),a=Il(),o=Il();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof ul)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),il(o.mutation,t,o.mutation.getFieldMask(),Xo.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Lc(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Il(),i=new gs((function(e,t){return e-t})),a=Al();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Ne(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Es.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||Al()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,l=i.value,c=Cl();l.forEach((function(e){if(!a.has(e)){var n=nl(t.get(e),r.get(e));null!==n&&c.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,c))};s.hasNext();)u();return hs.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return ns.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Cu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):hs.resolve(_l()),s=-1,u=a;return o.next((function(t){return hs.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?hs.resolve():i.getBaseDocument(e,t,n).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,Al())})).next((function(e){return{batchId:s,changes:Sl(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new ns(t)).next((function(e){var t=El();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=El();return this.indexManager.getCollectionParents(e,i).next((function(o){return hs.forEach(o,(function(o){var s=function(e,t){return new bu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,tu.newInvalidDocument(n)))}));var n=El();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&il(a.mutation,i,Es.empty(),Xo.now()),Du(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):hs.resolve(tu.newInvalidDocument(t))}}]),e}(),Rc=function(){function e(t){re(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return ae(e,[{key:"getBundleMetadata",value:function(e,t){return hs.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:Ql(n.createTime)}),hs.resolve()}},{key:"getNamedQuery",value:function(e,t){return hs.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:_c(e.bundledQuery),readTime:Ql(e.readTime)}}(t)),hs.resolve()}}]),e}(),Pc=function(){function e(){re(this,e),this.overlays=new gs(ns.comparator),this.Xn=new Map}return ae(e,[{key:"getOverlay",value:function(e,t){return hs.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=_l();return hs.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ie(e,t,i)})),hs.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Xn.delete(n)),hs.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=_l(),i=t.length+1,a=new ns(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return hs.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new gs((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=_l(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=_l(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return hs.resolve(u)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new xc(t,n));var a=this.Xn.get(t);void 0===a&&(a=Al(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),Mc=function(){function e(){re(this,e),this.Zn=new bs(jc.ts),this.es=new bs(jc.ns)}return ae(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new jc(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new jc(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new ns(new Zo([])),r=new jc(n,e),i=new jc(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new ns(new Zo([])),n=new jc(t,e),r=new jc(t,e+1),i=Al();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new jc(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),jc=function(){function e(t,n){re(this,e),this.key=t,this.ls=n}return ae(e,null,[{key:"ts",value:function(e,t){return ns.comparator(e.key,t.key)||Qo(e.ls,t.ls)}},{key:"ns",value:function(e,t){return Qo(e.ls,t.ls)||ns.comparator(e.key,t.key)}}]),e}(),Fc=function(){function e(t,n){re(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new bs(jc.ts)}return ae(e,[{key:"checkEmpty",value:function(e){return hs.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new wc(i,t,n,r);this.mutationQueue.push(a);var o,s=Ne(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ds=this.ds.add(new jc(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(l){s.e(l)}finally{s.f()}return hs.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return hs.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return hs.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return hs.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return hs.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new jc(t,0),i=new jc(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){var t=n._s(e.ls);a.push(t)})),hs.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new bs(Qo);return t.forEach((function(e){var t=new jc(e,0),i=new jc(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),hs.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;ns.isDocumentKey(i)||(i=i.child(""));var a=new jc(new ns(i),0),o=new bs(Qo);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),a),hs.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Ro(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return hs.forEach(t.mutations,(function(i){var a=new jc(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new jc(t,0),r=this.ds.firstAfterOrEqual(n);return hs.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,hs.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Uc=function(){function e(t){re(this,e),this.ps=t,this.docs=new gs(ns.comparator),this.size=0}return ae(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return hs.resolve(n?n.document.mutableCopy():tu.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=bl();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():tu.newInvalidDocument(e))})),hs.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=bl(),i=new ns(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||ss(as(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return hs.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Do()}},{key:"Is",value:function(e,t){return hs.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Vc(this)}},{key:"getSize",value:function(e){return hs.resolve(this.size)}}]),e}(),Vc=function(e){ue(n,e);var t=de(n);function n(e){var r;return re(this,n),(r=t.call(this)).zn=e,r}return ae(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)})),hs.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),n}(Oc),zc=function(){function e(t){re(this,e),this.persistence=t,this.Ts=new kl((function(e){return iu(e)}),au),this.lastRemoteSnapshotVersion=Jo.min(),this.highestTargetId=0,this.Es=0,this.As=new Mc,this.targetCount=0,this.Rs=Ac.An()}return ae(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),hs.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return hs.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return hs.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),hs.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),hs.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new Ac(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,hs.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),hs.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,hs.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Ts.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),hs.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return hs.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return hs.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),hs.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),hs.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),hs.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return hs.resolve(n)}},{key:"containsKey",value:function(e,t){return hs.resolve(this.As.containsKey(t))}}]),e}(),Bc=function(){function e(t,n){var r=this;re(this,e),this.bs={},this.overlays={},this.Ps=new ps(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new zc(this),this.indexManager=new Ic,this.remoteDocumentCache=new Uc((function(e){return r.referenceDelegate.Ss(e)})),this.wt=new Sc(n),this.Ds=new Rc(this.wt)}return ae(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Pc,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new Fc(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;No("MemoryPersistence","Starting transaction:",e);var i=new qc(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((function(e){return r.referenceDelegate.xs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ns",value:function(e,t){return hs.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),qc=function(e){ue(n,e);var t=de(n);function n(e){var r;return re(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return ae(n)}(ls),Hc=function(){function e(t){re(this,e),this.persistence=t,this.ks=new Mc,this.Os=null}return ae(e,[{key:"Fs",get:function(){if(this.Os)return this.Os;throw Do()}},{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),hs.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),hs.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),hs.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach((function(e){return n.Fs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Fs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Cs",value:function(){this.Os=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return hs.forEach(this.Fs,(function(r){var i=ns.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i,Jo.min())}))})).next((function(){return t.Os=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())}))}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return hs.or([function(){return hs.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}}],[{key:"Ms",value:function(t){return new e(t)}}]),e}();var Wc=function(){function e(t,n,r,i){re(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return ae(e,null,[{key:"Vi",value:function(t,n){var r,i=Al(),a=Al(),o=Ne(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Kc=function(){function e(){re(this,e),this.Si=!1}return ae(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next((function(a){return a||i.xi(e,t,r,n)})).next((function(n){return n||i.Ni(e,t)}))}},{key:"Ci",value:function(e,t){return hs.resolve(null)}},{key:"xi",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(Jo.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((function(a){var o=i.ki(t,a);return i.Oi(t,o,n,r)?i.Ni(e,t):(To()<=it.DEBUG&&No("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Lu(t)),i.Mi(e,o,t,is(r,-1)))}))}},{key:"ki",value:function(e,t){var n=new bs(Pu(e));return t.forEach((function(t,r){Du(e,r)&&(n=n.add(r))})),n}},{key:"Oi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return To()<=it.DEBUG&&No("QueryEngine","Using full collection scan to execute query:",Lu(t)),this.Di.getDocumentsMatchingQuery(e,t,os.min())}},{key:"Mi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Gc=function(){function e(t,n,r,i){re(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new gs(Qo),this.Bi=new kl((function(e){return iu(e)}),au),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return ae(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dc(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.$i)}))}}]),e}();function Qc(e,t,n,r){return new Gc(e,t,n,r)}function Yc(e,t){return Xc.apply(this,arguments)}function Xc(){return Xc=Ce(Te().mark((function e(t,n){var r;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Po(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Al(),u=Ne(t);try{for(u.s();!(i=u.n()).done;){var l=i.value;a.push(l.batchId);var c,f=Ne(l.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=Ne(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Ne(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{Ki:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Xc.apply(this,arguments)}function Jc(e,t){var n=Po(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=hs.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Ro(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Al(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function $c(e){var t=Po(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Vs.getLastRemoteSnapshotVersion(e)}))}function Zc(e,t){var n=Po(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,s)})));var l=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?l=l.withResumeToken(Ss.EMPTY_BYTE_STRING,Jo.min()).withLastLimboFreeSnapshotVersion(Jo.min()):a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)),i=i.insert(s,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,l,a)&&o.push(n.Vs.updateTargetData(e,l))}}));var s=bl(),u=Al();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(ef(e,a,t.documentUpdates).next((function(e){s=e.Gi,u=e.Qi}))),!r.isEqual(Jo.min())){var l=n.Vs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(l)}return hs.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.$i=i,e}))}function ef(e,t,n){var r=Al(),i=Al();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=bl();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Jo.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):No("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Gi:r,Qi:i}}))}function tf(e,t){var n=Po(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function nf(e,t){var n=Po(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Vs.getTargetData(e,t).next((function(i){return i?(r=i,hs.resolve(r)):n.Vs.allocateTargetId(e).next((function(i){return r=new Ec(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}function rf(e,t,n){return af.apply(this,arguments)}function af(){return af=Ce(Te().mark((function e(t,n,r){var i,a,o;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Po(t),a=i.$i.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),ds(e.t1)){e.next=12;break}throw e.t1;case 12:No("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),af.apply(this,arguments)}function of(e,t,n){var r=Po(e),i=Jo.min(),a=Al();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Po(e),i=r.Bi.get(n);return void 0!==i?hs.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,Tu(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:Jo.min(),n?a:Al())})).next((function(e){return sf(r,Ru(t),e),{documents:e,ji:a}}))}))}function sf(e,t,n){var r=Jo.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}var uf=function(){function e(){re(this,e),this.activeTargetIds=Ll()}return ae(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),lf=function(){function e(){re(this,e),this.Fr=new uf,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return ae(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new uf,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),cf=function(){function e(){re(this,e)}return ae(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),ff=function(){function e(){var t=this;re(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return ae(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){No("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Ne(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){No("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Ne(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),hf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},df=function(){function e(t){re(this,e),this.jr=t.jr,this.Wr=t.Wr}return ae(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),pf=function(e){ue(n,e);var t=de(n);function n(e){var r;return re(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return ae(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Eo;o.listenOnce(go.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case yo.NO_ERROR:var t=o.getResponseJson();No("Connection","XHR received:",JSON.stringify(t)),i(t);break;case yo.TIMEOUT:No("Connection",'RPC "'+e+'" timed out'),a(new jo(Mo.DEADLINE_EXCEEDED,"Request time out"));break;case yo.HTTP_ERROR:var n=o.getStatus();if(No("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Mo).indexOf(t)>=0?t:Mo.UNKNOWN}(r.status);a(new jo(s,r.message))}else a(new jo(Mo.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new jo(Mo.UNAVAILABLE,"Connection failed."));break;default:Do()}}finally{No("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=vo(),a=mo(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new bo({})),this.uo(o.initMessageHeaders,t,n),Fe()||Ve()||je().indexOf("Electron/")>=0||ze()||je().indexOf("MSAppHost/")>=0||Ue()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");No("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),l=!1,c=!1,f=new df({jr:function(e){c?No("Connection","Not sending because WebChannel is closed:",e):(l||(No("Connection","Opening WebChannel transport."),u.open(),l=!0),No("Connection","WebChannel sending:",e),u.send(e))},Wr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,xo.EventType.OPEN,(function(){c||No("Connection","WebChannel transport opened.")})),h(u,xo.EventType.CLOSE,(function(){c||(c=!0,No("Connection","WebChannel transport closed"),f.eo())})),h(u,xo.EventType.ERROR,(function(e){c||(c=!0,Oo("Connection","WebChannel transport errored:",e),f.eo(new jo(Mo.UNAVAILABLE,"The operation could not be completed")))})),h(u,xo.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];Ro(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){No("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=hl[e];if(void 0!==t)return gl(t)}(a),s=i.message;void 0===o&&(o=Mo.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),c=!0,f.eo(new jo(o,s)),u.close()}else No("Connection","WebChannel received:",n),f.no(n)}})),h(a,ko.STAT_EVENT,(function(e){e.stat===wo.PROXY?No("Connection","Detected buffering proxy"):e.stat===wo.NOPROXY&&No("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){re(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return ae(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);No("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.co(e,a,o,n).then((function(e){return No("RestConnection","Received: ",e),e}),(function(t){throw Oo("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ao",value:function(e,t,n,r,i){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Co,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=hf[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function vf(){return"undefined"!=typeof document?document:null}function mf(e){return new Hl(e,!0)}var yf=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;re(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return ae(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&No("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),gf=function(){function e(t,n,r,i,a,o,s,u){re(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new yf(t,n)}return ae(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=Ce(Te().mark((function e(){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Oo()})))}},{key:"Mo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Oo",value:function(){var e=Ce(Te().mark((function e(){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=Ce(Te().mark((function e(t,n){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===Mo.RESOURCE_EXHAUSTED?(Ao(n.toString()),Ao("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===Mo.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=o(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new jo(Mo.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(Ce(Te().mark((function t(){return Te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return No("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget((function(){return t.Po===e?n():(No("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),kf=function(e){ue(n,e);var t=de(n);function n(e,r,i,a,o,s){var u;return re(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).wt=o,u}return ae(n,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Do()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(Ro(void 0===t||"string"==typeof t),Ss.fromBase64String(t||"")):(Ro(void 0===t||t instanceof Uint8Array),Ss.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Mo.UNKNOWN:gl(e.code);return new jo(t,e.message||"")}(o);n=new jl(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var l=$l(e,u.document.name),c=Ql(u.document.updateTime),f=new Zs({mapValue:{fields:u.document.fields}}),h=tu.newFoundDocument(l,c,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new Pl(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=$l(e,v.document),y=v.readTime?Ql(v.readTime):Jo.min(),g=tu.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Pl([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var b=$l(e,w.document),x=w.removedTargetIds||[];n=new Pl([],x,b,null)}else{if(!("filter"in t))return Do();t.filter;var E=t.filter;E.targetId;var S=E.count||0,_=new ml(S),C=E.targetId;n=new Ml(C,_)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return Jo.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Jo.min():t.readTime?Ql(t.readTime):Jo.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=tc(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=ou(r)?{documents:ac(e,r)}:{query:oc(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Kl(e,t.resumeToken):t.snapshotVersion.compareTo(Jo.min())>0&&(n.readTime=Wl(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Do()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Mo(t)}},{key:"jo",value:function(e){var t={};t.database=tc(this.wt),t.removeTarget=e,this.Mo(t)}}]),n}(gf),wf=function(e){ue(n,e);var t=de(n);function n(e,r,i,a,o,s){var u;return re(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).wt=o,u.Wo=!1,u}return ae(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,ln(le(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(Ro(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(Ro(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Ql(e.updateTime):Ql(t);return n.isEqual(Jo.min())&&(n=Ql(t)),new $u(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Ql(e.commitTime);return this.listener.Jo(n,t)}return Ro(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=tc(this.wt),this.Mo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return ic(t.wt,e)}))};this.Mo(n)}}]),n}(gf),bf=function(e){ue(n,e);var t=de(n);function n(e,r,i,a){var o;return re(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.wt=a,o.Zo=!1,o}return ae(n,[{key:"tu",value:function(){if(this.Zo)throw new jo(Mo.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=o(i,2),s=a[0],u=a[1];return r.bo.ro(e,t,n,s,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Mo.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new jo(Mo.UNKNOWN,e.toString())}))}},{key:"ao",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=o(i,2),s=a[0],u=a[1];return r.bo.ao(e,t,n,s,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Mo.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new jo(Mo.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return ae((function e(){re(this,e)}))}()),xf=function(){function e(t,n){re(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return ae(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(Ao(t),this.su=!1):No("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),Ef=ae((function e(t,n,r,i,a){var o=this;re(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(Ce(Te().mark((function e(){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Rf(o),!e.t0){e.next=5;break}return No("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ce(Te().mark((function e(t){var n;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Po(t)).lu.add(4),e.next=4,Cf(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,Sf(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new xf(r,i)}));function Sf(e){return _f.apply(this,arguments)}function _f(){return _f=Ce(Te().mark((function e(t){var n,r,i;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Rf(t)){e.next=18;break}n=Ne(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),_f.apply(this,arguments)}function Cf(e){return If.apply(this,arguments)}function If(){return If=Ce(Te().mark((function e(t){var n,r,i;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ne(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),If.apply(this,arguments)}function Tf(e,t){var n=Po(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),Df(n)?Lf(n):lh(n).Co()&&Af(n,t))}function Nf(e,t){var n=Po(e),r=lh(n);n.hu.delete(t),r.Co()&&Of(n,t),0===n.hu.size&&(r.Co()?r.ko():Rf(n)&&n._u.set("Unknown"))}function Af(e,t){e.wu.Nt(t.targetId),lh(e).Qo(t)}function Of(e,t){e.wu.Nt(t),lh(e).jo(t)}function Lf(e){e.wu=new Ul({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),lh(e).start(),e._u.iu()}function Df(e){return Rf(e)&&!lh(e).Do()&&e.hu.size>0}function Rf(e){return 0===Po(e).lu.size}function Pf(e){e.wu=void 0}function Mf(e){return jf.apply(this,arguments)}function jf(){return jf=Ce(Te().mark((function e(t){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){Af(t,e)}));case 1:case"end":return e.stop()}}),e)}))),jf.apply(this,arguments)}function Ff(e,t){return Uf.apply(this,arguments)}function Uf(){return Uf=Ce(Te().mark((function e(t,n){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Pf(t),Df(t)?(t._u.uu(n),Lf(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Uf.apply(this,arguments)}function Vf(e,t,n){return zf.apply(this,arguments)}function zf(){return zf=Ce(Te().mark((function e(t,n,r){var i;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof jl&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ce(Te().mark((function e(t,n){var r,i,a,o;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Ne(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),No("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Bf(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Pl?t.wu.Ut(n):n instanceof Ml?t.wu.zt(n):t.wu.Gt(n),r.isEqual(Jo.min())){e.next=29;break}return e.prev=14,e.next=17,$c(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(Ss.EMPTY_BYTE_STRING,n.snapshotVersion)),Of(e,t);var r=new Ec(n.target,t,1,n.sequenceNumber);Af(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),No("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Bf(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),zf.apply(this,arguments)}function Bf(e,t,n){return qf.apply(this,arguments)}function qf(){return qf=Ce(Te().mark((function e(t,n,r){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ds(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,Cf(t);case 5:t._u.set("Offline"),r||(r=function(){return $c(t.localStore)}),t.asyncQueue.enqueueRetryable(Ce(Te().mark((function e(){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return No("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,Sf(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),qf.apply(this,arguments)}function Hf(e,t){return t().catch((function(n){return Bf(e,n,t)}))}function Wf(e){return Kf.apply(this,arguments)}function Kf(){return Kf=Ce(Te().mark((function e(t){var n,r,i,a;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Po(t),r=ch(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!Gf(n)){e.next=19;break}return e.prev=3,e.next=6,tf(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,Qf(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Bf(n,e.t0);case 17:e.next=2;break;case 19:Yf(n)&&Xf(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Kf.apply(this,arguments)}function Gf(e){return Rf(e)&&e.au.length<10}function Qf(e,t){e.au.push(t);var n=ch(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function Yf(e){return Rf(e)&&!ch(e).Do()&&e.au.length>0}function Xf(e){ch(e).start()}function Jf(e){return $f.apply(this,arguments)}function $f(){return $f=Ce(Te().mark((function e(t){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ch(t).Xo();case 1:case"end":return e.stop()}}),e)}))),$f.apply(this,arguments)}function Zf(e){return eh.apply(this,arguments)}function eh(){return eh=Ce(Te().mark((function e(t){var n,r,i,a;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ch(t),r=Ne(t.au);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),eh.apply(this,arguments)}function th(e,t,n){return nh.apply(this,arguments)}function nh(){return nh=Ce(Te().mark((function e(t,n,r){var i,a;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),a=bc.from(i,n,r),e.next=3,Hf(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Wf(t);case 5:case"end":return e.stop()}}),e)}))),nh.apply(this,arguments)}function rh(e,t){return ih.apply(this,arguments)}function ih(){return ih=Ce(Te().mark((function e(t,n){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&ch(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Ce(Te().mark((function e(t,n){var r,i;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!yl(i=n.code)||i===Mo.ABORTED){e.next=7;break}return r=t.au.shift(),ch(t).No(),e.next=5,Hf(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Wf(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Yf(t)&&Xf(t);case 5:case"end":return e.stop()}}),e)}))),ih.apply(this,arguments)}function ah(e,t){return oh.apply(this,arguments)}function oh(){return oh=Ce(Te().mark((function e(t,n){var r,i;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Po(t)).asyncQueue.verifyOperationInProgress(),No("RemoteStore","RemoteStore received new credentials"),i=Rf(r),r.lu.add(3),e.next=6,Cf(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,Sf(r);case 12:case"end":return e.stop()}}),e)}))),oh.apply(this,arguments)}function sh(e,t){return uh.apply(this,arguments)}function uh(){return uh=Ce(Te().mark((function e(t,n){var r;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Po(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,Sf(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,Cf(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),uh.apply(this,arguments)}function lh(e){return e.mu||(e.mu=function(e,t,n){var r=Po(e);return r.tu(),new kf(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:Mf.bind(null,e),Jr:Ff.bind(null,e),Go:Vf.bind(null,e)}),e.fu.push(function(){var t=Ce(Te().mark((function t(n){return Te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),Df(e)?Lf(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:Pf(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function ch(e){return e.gu||(e.gu=function(e,t,n){var r=Po(e);return r.tu(),new wf(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:Jf.bind(null,e),Jr:rh.bind(null,e),Yo:Zf.bind(null,e),Jo:th.bind(null,e)}),e.fu.push(function(){var t=Ce(Te().mark((function t(n){return Te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,Wf(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(No("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var fh=function(){function e(t,n,r,i,a){re(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Fo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return ae(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new jo(Mo.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function hh(e,t){if(Ao("AsyncQueue","".concat(t,": ").concat(e)),ds(e))return new jo(Mo.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var dh=function(){function e(t){re(this,e),this.comparator=t?function(e,n){return t(e,n)||ns.comparator(e.key,n.key)}:function(e,t){return ns.comparator(e.key,t.key)},this.keyedMap=El(),this.sortedSet=new gs(this.comparator)}return ae(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),ph=function(){function e(){re(this,e),this.yu=new gs(ns.comparator)}return ae(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Do():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),vh=function(){function e(t,n,r,i,a,o,s,u){re(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return ae(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Au(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,dh.emptySet(n),a,r,i,!0,!1)}}]),e}(),mh=ae((function e(){re(this,e),this.Iu=void 0,this.listeners=[]})),yh=ae((function e(){re(this,e),this.queries=new kl((function(e){return Ou(e)}),Au),this.onlineState="Unknown",this.Tu=new Set}));function gh(e,t){return kh.apply(this,arguments)}function kh(){return kh=Ce(Te().mark((function e(t,n){var r,i,a,o,s;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Po(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new mh),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=hh(e.t0,"Initialization of query '".concat(Lu(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&Sh(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),kh.apply(this,arguments)}function wh(e,t){return bh.apply(this,arguments)}function bh(){return bh=Ce(Te().mark((function e(t,n){var r,i,a,o,s;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Po(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),bh.apply(this,arguments)}function xh(e,t){var n,r=Po(e),i=!1,a=Ne(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var l,c=Ne(u.listeners);try{for(c.s();!(l=c.n()).done;){l.value.Au(o)&&(i=!0)}}catch(f){c.e(f)}finally{c.f()}u.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&Sh(r)}function Eh(e,t,n){var r=Po(e),i=r.queries.get(t);if(i){var a,o=Ne(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Sh(e){e.Tu.forEach((function(e){e.next()}))}var _h=function(){function e(t,n,r){re(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return ae(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Ne(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new vh(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=vh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}();var Ch=ae((function e(t){re(this,e),this.key=t})),Ih=ae((function e(t){re(this,e),this.key=t})),Th=function(){function e(t,n){re(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=Al(),this.mutatedKeys=Al(),this.Lu=Pu(t),this.Uu=new dh(this.Lu)}return ae(e,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new ph,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),f=Du(n.query,t)?t:null,h=!!c&&n.mutatedKeys.has(c.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;c&&f?c.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(c,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Lu(f,u)>0||l&&n.Lu(f,l)<0)&&(s=!0)):!c&&f?(r.track({type:0,doc:f}),p=!0):c&&!f&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{Uu:o,Gu:r,Oi:s,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Do()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],s=0===this.Bu.size&&this.current?1:0,u=s!==this.$u;return this.$u=s,0!==a.length||u?{snapshot:new vh(this.query,e.Uu,i,a,e.mutatedKeys,0===s,u,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new ph,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=Al(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new Ih(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new Ch(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=Al();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return vh.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),Nh=ae((function e(t,n,r){re(this,e),this.query=t,this.targetId=n,this.view=r})),Ah=ae((function e(t){re(this,e),this.key=t,this.Xu=!1})),Oh=function(){function e(t,n,r,i,a,o){re(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new kl((function(e){return Ou(e)}),Au),this.ec=new Map,this.nc=new Set,this.sc=new gs(ns.comparator),this.ic=new Map,this.rc=new Mc,this.oc={},this.uc=new Map,this.cc=Ac.Rn(),this.onlineState="Unknown",this.ac=void 0}return ae(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function Lh(e,t){return Dh.apply(this,arguments)}function Dh(){return Dh=Ce(Te().mark((function e(t,n){var r,i,a,o,s,u;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=sd(t),!(o=r.tc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,nf(r.localStore,Tu(n));case 8:return s=e.sent,r.isPrimaryClient&&Tf(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,Rh(r,n,i,"current"===u);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Dh.apply(this,arguments)}function Rh(e,t,n,r){return Ph.apply(this,arguments)}function Ph(){return Ph=Ce(Te().mark((function e(t,n,r,i){var a,o,s,u,l,c;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=Ce(Te().mark((function e(t,n,r,i){var a,o,s;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ku(r),e.t0=a.Oi,!e.t0){e.next=6;break}return e.next=5,of(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ku(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Zh(t,n.targetId,s.zu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,of(t.localStore,n,!0);case 3:return a=e.sent,o=new Th(n,a.ji),s=o.Ku(a.documents),u=Rl.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),l=o.applyChanges(s,t.isPrimaryClient,u),Zh(t,r,l.zu),c=new Nh(n,r,o),e.abrupt("return",(t.tc.set(n,c),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),Ph.apply(this,arguments)}function Mh(e,t){return jh.apply(this,arguments)}function jh(){return jh=Ce(Te().mark((function e(t,n){var r,i,a;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Po(t),i=r.tc.get(n),!((a=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,a.filter((function(e){return!Au(e,n)}))),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,rf(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Nf(r.remoteStore,i.targetId),Jh(r,i.targetId)})).catch(cs);case 9:e.next=14;break;case 11:return Jh(r,i.targetId),e.next=14,rf(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),jh.apply(this,arguments)}function Fh(e,t,n){return Uh.apply(this,arguments)}function Uh(){return Uh=Ce(Te().mark((function e(t,n,r){var i,a,o;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ud(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Po(e),a=Xo.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Al());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=bl(),u=Al();return i.Ui.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=Ne(t);try{for(u.s();!(o=u.n()).done;){var l=o.value,c=al(l,n.get(l.key).overlayedDocument);null!=c&&s.push(new ul(l.key,c,eu(c.value.mapValue),Zu.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Sl(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new gs(Qo)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,nd(i,a.changes);case 9:return e.next=11,Wf(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=hh(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Uh.apply(this,arguments)}function Vh(e,t){return zh.apply(this,arguments)}function zh(){return zh=Ce(Te().mark((function e(t,n){var r,i;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Po(t),e.prev=1,e.next=4,Zc(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ic.get(t);n&&(Ro(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?Ro(n.Xu):e.removedDocuments.size>0&&(Ro(n.Xu),n.Xu=!1))})),e.next=8,nd(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,cs(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),zh.apply(this,arguments)}function Bh(e,t,n){var r=Po(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Po(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Ne(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Sh(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function qh(e,t,n){return Hh.apply(this,arguments)}function Hh(){return Hh=Ce(Te().mark((function e(t,n,r){var i,a,o,s,u,l;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Po(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ic.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new gs(ns.comparator)).insert(o,tu.newNoDocument(o,Jo.min())),u=Al().add(o),l=new Dl(Jo.min(),new Map,new bs(Qo),s,u),e.next=9,Vh(i,l);case 9:i.sc=i.sc.remove(o),i.ic.delete(n),td(i),e.next=16;break;case 14:return e.next=16,rf(i.localStore,n,!1).then((function(){return Jh(i,n,r)})).catch(cs);case 16:case"end":return e.stop()}}),e)}))),Hh.apply(this,arguments)}function Wh(e,t){return Kh.apply(this,arguments)}function Kh(){return Kh=Ce(Te().mark((function e(t,n){var r,i,a;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Po(t),i=n.batch.batchId,e.prev=1,e.next=4,Jc(r.localStore,n);case 4:return a=e.sent,Xh(r,i,null),Yh(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,nd(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,cs(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Kh.apply(this,arguments)}function Gh(e,t,n){return Qh.apply(this,arguments)}function Qh(){return Qh=Ce(Te().mark((function e(t,n,r){var i,a;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Po(t),e.prev=1,e.next=4,function(e,t){var n=Po(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Ro(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Xh(i,n,r),Yh(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,nd(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,cs(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Qh.apply(this,arguments)}function Yh(e,t){(e.uc.get(t)||[]).forEach((function(e){e.resolve()})),e.uc.delete(t)}function Xh(e,t,n){var r=Po(e),i=r.oc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function Jh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Ne(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.tc.delete(a),n&&e.Zu.lc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((function(t){e.rc.containsKey(t)||$h(e,t)}))}function $h(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(Nf(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),td(e))}function Zh(e,t,n){var r,i=Ne(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Ch?(e.rc.addReference(a.key,t),ed(e,a)):a instanceof Ih?(No("SyncEngine","Document no longer in limbo: "+a.key),e.rc.removeReference(a.key,t),e.rc.containsKey(a.key)||$h(e,a.key)):Do()}}catch(o){i.e(o)}finally{i.f()}}function ed(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(No("SyncEngine","New document in limbo: "+n),e.nc.add(r),td(e))}function td(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new ns(Zo.fromString(t)),r=e.cc.next();e.ic.set(r,new Ah(n)),e.sc=e.sc.insert(n,r),Tf(e.remoteStore,new Ec(Tu(Eu(n.path)),r,2,ps.ot))}}function nd(e,t,n){return rd.apply(this,arguments)}function rd(){return rd=Ce(Te().mark((function e(t,n,r){var i,a,o,s;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Po(t),a=[],o=[],s=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach((function(e,t){s.push(i.hc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Wc.Vi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Zu.Go(a),e.next=9,function(){var e=Ce(Te().mark((function e(t,n){var r,i,a,o,s,u,l,c;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Po(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return hs.forEach(n,(function(t){return hs.forEach(t.Pi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return hs.forEach(t.vi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),ds(e.t0)){e.next=10;break}throw e.t0;case 10:No("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Ne(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.$i.get(s),l=u.snapshotVersion,c=u.withLastLimboFreeSnapshotVersion(l),r.$i=r.$i.insert(s,c))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),rd.apply(this,arguments)}function id(e,t){return ad.apply(this,arguments)}function ad(){return ad=Ce(Te().mark((function e(t,n){var r,i;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Po(t)).currentUser.isEqual(n)){e.next=11;break}return No("SyncEngine","User change. New user:",n.toKey()),e.next=5,Yc(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach((function(e){e.forEach((function(e){e.reject(new jo(Mo.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,nd(r,i.Ki);case 11:case"end":return e.stop()}}),e)}))),ad.apply(this,arguments)}function od(e,t){var n=Po(e),r=n.ic.get(t);if(r&&r.Xu)return Al().add(r.key);var i=Al(),a=n.ec.get(t);if(!a)return i;var o,s=Ne(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,l=n.tc.get(u);i=i.unionWith(l.view.qu)}}catch(c){s.e(c)}finally{s.f()}return i}function sd(e){var t=Po(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Vh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=od.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qh.bind(null,t),t.Zu.Go=xh.bind(null,t.eventManager),t.Zu.lc=Eh.bind(null,t.eventManager),t}function ud(e){var t=Po(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Wh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Gh.bind(null,t),t}var ld=function(){function e(){re(this,e),this.synchronizeTabs=!1}return ae(e,[{key:"initialize",value:function(){var e=Ce(Te().mark((function e(t){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=mf(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return Qc(this.persistence,new Kc,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new Bc(Hc.Ms,this.wt)}},{key:"dc",value:function(e){return new lf}},{key:"terminate",value:function(){var e=Ce(Te().mark((function e(){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),cd=function(){function e(){re(this,e)}return ae(e,[{key:"initialize",value:function(){var e=Ce(Te().mark((function e(t,n){var r=this;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Bh(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=id.bind(null,this.syncEngine),e.next=12,sh(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new yh}},{key:"createDatastore",value:function(e){var t,n=mf(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new pf(t));return function(e,t,n,r){return new bf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Bh(o.syncEngine,e,0)},a=ff.V()?new ff:new cf,new Ef(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new Oh(e,t,n,r,i,a);return o&&(s.ac=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Ce(Te().mark((function e(t){var n;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Po(t),No("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,Cf(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var fd=function(){function e(t){re(this,e),this.observer=t,this.muted=!1}return ae(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),hd=function(){function e(t,n,r,i){var a=this;re(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=_o.UNAUTHENTICATED,this.clientId=Go.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Ce(Te().mark((function e(t){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return No("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return No("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return ae(e,[{key:"getConfiguration",value:function(){var e=Ce(Te().mark((function e(){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new jo(Mo.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Fo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ce(Te().mark((function n(){var r;return Te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=hh(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function dd(e,t){return pd.apply(this,arguments)}function pd(){return pd=Ce(Te().mark((function e(t,n){var r,i;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),No("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Ce(Te().mark((function e(t){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Yc(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),pd.apply(this,arguments)}function vd(e,t){return md.apply(this,arguments)}function md(){return md=Ce(Te().mark((function e(t,n){var r,i;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,yd(t);case 3:return r=e.sent,No("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return ah(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return ah(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),md.apply(this,arguments)}function yd(e){return gd.apply(this,arguments)}function gd(){return gd=Ce(Te().mark((function e(t){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return No("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,dd(t,new ld);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),gd.apply(this,arguments)}function kd(e){return wd.apply(this,arguments)}function wd(){return wd=Ce(Te().mark((function e(t){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return No("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,vd(t,new cd);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),wd.apply(this,arguments)}function bd(e){return kd(e).then((function(e){return e.syncEngine}))}function xd(e){return Ed.apply(this,arguments)}function Ed(){return Ed=Ce(Te().mark((function e(t){var n,r;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kd(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Lh.bind(null,n.syncEngine),r.onUnlisten=Mh.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Ed.apply(this,arguments)}function Sd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Fo;return e.asyncQueue.enqueueAndForget(Ce(Te().mark((function i(){return Te().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new fd({next:function(n){t.enqueueAndForget((function(){return wh(e,o)})),n.fromCache&&"server"===r.source?i.reject(new jo(Mo.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new _h(n,a,{includeMetadataChanges:!0,Du:!0});return gh(e,o)},i.next=3,xd(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var _d=new Map;function Cd(e,t,n){if(!n)throw new jo(Mo.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Id(e){if(!ns.isDocumentKey(e))throw new jo(Mo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Td(e){if(ns.isDocumentKey(e))throw new jo(Mo.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Nd(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Do()}function Ad(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new jo(Mo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Nd(e);throw new jo(Mo.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var Od=function(){function e(t){var n;if(re(this,e),void 0===t.host){if(void 0!==t.ssl)throw new jo(Mo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new jo(Mo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new jo(Mo.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return ae(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Ld=function(){function e(t,n,r){re(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Od({}),this._settingsFrozen=!1,t instanceof Ds?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new jo(Mo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ds(e.options.projectId)}(t))}return ae(e,[{key:"app",get:function(){if(!this._app)throw new jo(Mo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new jo(Mo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Od(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Vo;switch(e.type){case"gapi":var t=e.client;return Ro(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new qo(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new jo(Mo.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=_d.get(e);t&&(No("ComponentProvider","Removing Datastore"),_d.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();var Dd=function(){function e(t,n,r){re(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return ae(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Pd(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Rd=function(){function e(t,n,r){re(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return ae(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Pd=function(e){ue(n,e);var t=de(n);function n(e,r,i){var a;return re(this,n),(a=t.call(this,e,r,Eu(i)))._path=i,a.type="collection",a}return ae(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Dd(this.firestore,null,new ns(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Rd);function Md(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ze(e),Cd("collection","path",t),e instanceof Ld){var a=Zo.fromString.apply(Zo,[t].concat(r));return Td(a),new Pd(e,null,a)}if(!(e instanceof Dd||e instanceof Pd))throw new jo(Mo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Zo.fromString.apply(Zo,[t].concat(r)));return Td(o),new Pd(e.firestore,null,o)}function jd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ze(e),1===arguments.length&&(t=Go.I()),Cd("doc","path",t),e instanceof Ld){var a=Zo.fromString.apply(Zo,[t].concat(r));return Id(a),new Dd(e,null,new ns(a))}if(!(e instanceof Dd||e instanceof Pd))throw new jo(Mo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Zo.fromString.apply(Zo,[t].concat(r)));return Id(o),new Dd(e.firestore,e instanceof Pd?e.converter:null,new ns(o))}var Fd=function(){function e(){var t=this;re(this,e),this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new yf(this,"async_queue_retry"),this.Kc=function(){var e=vf();e&&No("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=vf();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return ae(e,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=vf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new Fo;return this.Qc((function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Mc.push(e),t.jc()}))}},{key:"jc",value:function(){var e=Ce(Te().mark((function e(){var t=this;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Mc.length){e.next=14;break}return e.prev=1,e.next=4,this.Mc[0]();case 4:this.Mc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),ds(e.t0)){e.next=12;break}throw e.t0;case 12:No("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Mc.length>0&&this.So.Io((function(){return t.jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Oc.then((function(){return t.Lc=!0,e().catch((function(e){t.Bc=e,t.Lc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ao("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Lc=!1,e}))}));return this.Oc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=fh.createAndSchedule(this,e,t,n,(function(e){return r.Wc(e)}));return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&Do()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=Ce(Te().mark((function e(){var t;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Oc,e.next=3,t;case 3:if(t!==this.Oc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=Ne(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Ne(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function Ud(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Ne(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Vd=function(e){ue(n,e);var t=de(n);function n(e,r,i){var a;return re(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new Fd,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return ae(n,[{key:"_terminate",value:function(){return this._firestoreClient||Bd(this),this._firestoreClient.terminate()}}]),n}(Ld);function zd(e){return e._firestoreClient||Bd(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Bd(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Ls(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new hd(e._authCredentials,e._appCheckCredentials,e._queue,r)}var qd=function(){function e(){re(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new jo(Mo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ts(n)}return ae(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Hd=function(){function e(t){re(this,e),this._byteString=t}return ae(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Ss.fromBase64String(t))}catch(t){throw new jo(Mo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Ss.fromUint8Array(t))}}]),e}(),Wd=ae((function e(t){re(this,e),this._methodName=t})),Kd=function(){function e(t,n){if(re(this,e),!isFinite(t)||t<-90||t>90)throw new jo(Mo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new jo(Mo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return ae(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Qo(this._lat,e._lat)||Qo(this._long,e._long)}}]),e}(),Gd=/^__.*__$/,Qd=function(){function e(t,n,r){re(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ae(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new ul(e,this.data,this.fieldMask,t,this.fieldTransforms):new sl(e,this.data,t,this.fieldTransforms)}}]),e}();function Yd(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Do()}}var Xd=function(){function e(t,n,r,i,a,o){re(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return ae(e,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return up(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(Yd(this.Zc)&&Gd.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}]),e}(),Jd=function(){function e(t,n,r){re(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||mf(t)}return ae(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Xd({Zc:e,methodName:t,ca:n,path:ts.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function $d(e){var t=e._freezeSettings(),n=mf(e._databaseId);return new Jd(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Zd(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.aa(a.merge||a.mergeFields?2:0,t,n,i);ip("Data must be an object, but it was:",o,r);var s,u,l=np(r,o);if(a.merge)s=new Es(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var c,f=[],h=Ne(a.mergeFields);try{for(h.s();!(c=h.n()).done;){var d=c.value,p=ap(t,d,n);if(!o.contains(p))throw new jo(Mo.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));lp(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new Es(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new Qd(new Zs(l),s,u)}function ep(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return tp(n,e.aa(r?4:3,t))}function tp(e,t){if(rp(e=Ze(e)))return ip("Unsupported field value:",t,e),np(e,t);if(e instanceof Wd)return function(e,t){if(!Yd(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Ne(e);try{for(a.s();!(n=a.n()).done;){var o=tp(n.value,t.ra(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Ze(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Uu(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Xo.fromDate(e);return{timestampValue:Wl(t.wt,n)}}if(e instanceof Xo){var r=new Xo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Wl(t.wt,r)}}if(e instanceof Kd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Hd)return{bytesValue:Kl(t.wt,e._byteString)};if(e instanceof Dd){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Yl(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(Nd(e)))}(e,t)}function np(e,t){var n={};return ys(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ms(e,(function(e,r){var i=tp(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function rp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Xo||e instanceof Kd||e instanceof Hd||e instanceof Dd||e instanceof Wd)}function ip(e,t,n){if(!rp(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Nd(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function ap(e,t,n){if((t=Ze(t))instanceof qd)return t._internalPath;if("string"==typeof t)return sp(e,t);throw up("Field path arguments must be of type string or ",e,!1,void 0,n)}var op=new RegExp("[~\\*/\\[\\]]");function sp(e,t,n){if(t.search(op)>=0)throw up("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Ae(qd,Q(t.split(".")))._internalPath}catch(r){throw up("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function up(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new jo(Mo.INVALID_ARGUMENT,s+e+u)}function lp(e,t){return e.some((function(e){return e.isEqual(t)}))}var cp=function(){function e(t,n,r,i,a){re(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return ae(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Dd(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new fp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(hp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),fp=function(e){ue(n,e);var t=de(n);function n(){return re(this,n),t.apply(this,arguments)}return ae(n,[{key:"data",value:function(){return ln(le(n.prototype),"data",this).call(this)}}]),n}(cp);function hp(e,t){return"string"==typeof t?sp(e,t):t instanceof qd?t._internalPath:t._delegate._internalPath}var dp=function(){function e(t,n){re(this,e),this.hasPendingWrites=t,this.fromCache=n}return ae(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),pp=function(e){ue(n,e);var t=de(n);function n(e,r,i,a,o,s){var u;return re(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return ae(n,[{key:"exists",value:function(){return ln(le(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new vp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(hp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(cp),vp=function(e){ue(n,e);var t=de(n);function n(){return re(this,n),t.apply(this,arguments)}return ae(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ln(le(n.prototype),"data",this).call(this,e)}}]),n}(pp),mp=function(){function e(t,n,r,i){re(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new dp(i.hasPendingWrites,i.fromCache),this.query=r}return ae(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new vp(n._firestore,n._userDataWriter,r.key,r,new dp(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new jo(Mo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new vp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new dp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new vp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new dp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:yp(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function yp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Do()}}function gp(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new jo(Mo.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var kp=ae((function e(){re(this,e)}));function wp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var bp=function(e){ue(n,e);var t=de(n);function n(e,r,i){var a;return re(this,n),(a=t.call(this)).fa=e,a.da=r,a._a=i,a.type="where",a}return ae(n,[{key:"_apply",value:function(e){var t=$d(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new jo(Mo.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Sp(o,a);var u,l=[],c=Ne(o);try{for(c.s();!(u=c.n()).done;){var f=u.value;l.push(Ep(r,e,f))}}catch(d){c.e(d)}finally{c.f()}s={arrayValue:{values:l}}}else s=Ep(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Sp(o,a),s=ep(n,"where",o,"in"===a||"not-in"===a);var h=su.create(i,a,s);return function(e,t){if(t.ht()){var n=_u(e);if(null!==n&&!n.isEqual(t.field))throw new jo(Mo.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Su(e);null!==r&&_p(e,t.field,r)}var i=function(e,t){var n,r=Ne(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new jo(Mo.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new jo(Mo.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new Rd(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new bu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(kp);function xp(e,t,n){var r=t,i=hp("where",e);return new bp(i,r,n)}function Ep(e,t,n){if("string"==typeof(n=Ze(n))){if(""===n)throw new jo(Mo.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cu(t)&&-1!==n.indexOf("/"))throw new jo(Mo.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Zo.fromString(n));if(!ns.isDocumentKey(r))throw new jo(Mo.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ws(e,new ns(r))}if(n instanceof Dd)return Ws(e,n._key);throw new jo(Mo.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Nd(n),"."))}function Sp(e,t){if(!Array.isArray(e)||0===e.length)throw new jo(Mo.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new jo(Mo.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function _p(e,t,n){if(!n.isEqual(t))throw new jo(Mo.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Cp=function(){function e(){re(this,e)}return ae(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Is(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Do()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return ms(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Kd(Is(e.latitude),Is(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=As(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Os(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Cs(e);return new Xo(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Zo.fromString(e);Ro(mc(n));var r=new Ds(n.get(1),n.get(3)),i=new ns(n.popFirst(5));return r.isEqual(t)||Ao("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Ip(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Tp=function(e){ue(n,e);var t=de(n);function n(e){var r;return re(this,n),(r=t.call(this)).firestore=e,r}return ae(n,[{key:"convertBytes",value:function(e){return new Hd(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dd(this.firestore,null,t)}}]),n}(Cp);function Np(e){e=Ad(e,Rd);var t=Ad(e.firestore,Vd),n=zd(t),r=new Tp(t);return gp(e._query),Sd(n,e._query).then((function(n){return new mp(t,r,e,n)}))}function Ap(e,t,n){e=Ad(e,Dd);var r=Ad(e.firestore,Vd),i=Ip(e.converter,t,n);return Dp(r,[Zd($d(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Zu.none())])}function Op(e){return Dp(Ad(e.firestore,Vd),[new pl(e._key,Zu.none())])}function Lp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Ze(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||Ud(n[u])||(s=n[u],u++);var l,c,f,h={includeMetadataChanges:s.includeMetadataChanges};if(Ud(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Dd)c=Ad(e.firestore,Vd),f=Eu(e._key.path),l={next:function(t){n[u]&&n[u](Rp(c,e,t))},error:n[u+1],complete:n[u+2]};else{var p=Ad(e,Rd);c=Ad(p.firestore,Vd),f=p._query;var v=new Tp(c);l={next:function(e){n[u]&&n[u](new mp(c,v,p,e))},error:n[u+1],complete:n[u+2]},gp(e._query)}return function(e,t,n,r){var i=new fd(r),a=new _h(t,i,n);return e.asyncQueue.enqueueAndForget(Ce(Te().mark((function t(){return Te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=gh,t.next=3,xd(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Tc(),e.asyncQueue.enqueueAndForget(Ce(Te().mark((function t(){return Te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=wh,t.next=3,xd(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(zd(c),f,h,l)}function Dp(e,t){return function(e,t){var n=new Fo;return e.asyncQueue.enqueueAndForget(Ce(Te().mark((function r(){return Te().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Fh,r.next=3,bd(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(zd(e),t)}function Rp(e,t,n){var r=n.docs.get(t._key),i=new Tp(e);return new pp(e,i,t._key,r,new dp(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Co="9.8.3",Ut(new et("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Vd(i,new zo(e.getProvider("auth-internal")),new Wo(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Kt(So,"3.4.10",e),Kt(So,"3.4.10","esm2017")}();function Pp(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Mp;Object.create;function jp(){return xe({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Fp=jp,Up=new qe("auth","Firebase",jp()),Vp=new ft("@firebase/auth");function zp(e){if(Vp.logLevel<=it.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Vp.error.apply(Vp,["Auth (".concat(Ht,"): ").concat(e)].concat(n))}}function Bp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Kp.apply(void 0,[e].concat(n))}function qp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Kp.apply(void 0,[e].concat(n))}function Hp(e,t,n){var r=Object.assign(Object.assign({},Fp()),xe({},t,n));return new qe("auth","Firebase",r).create(t,{appName:e.name})}function Wp(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Bp(e,"argument-error"),Hp(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Kp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Q(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Q(o)))}return Up.create.apply(Up,[e].concat(n))}function Gp(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Kp.apply(void 0,[t].concat(r))}}function Qp(e){var t="INTERNAL ASSERTION FAILED: "+e;throw zp(t),new Error(t)}function Yp(e,t){e||Qp(t)}var Xp=new Map;function Jp(e){Yp(e instanceof Function,"Expected a class definition");var t=Xp.get(e);return t?(Yp(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Xp.set(e,t),t)}function $p(e,t){var n=Vt(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Ke(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;Bp(r,"already-initialized")}return n.initialize({options:t})}function Zp(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ev(){return"http:"===tv()||"https:"===tv()}function tv(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var nv=function(){function e(t,n){re(this,e),this.shortDelay=t,this.longDelay=n,Yp(n>t,"Short delay should be less than long delay!"),this.isMobile=Fe()||Ve()}return ae(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ev()||Ue()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function rv(e,t){Yp(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var iv=function(){function e(){re(this,e)}return ae(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Qp("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Qp("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Qp("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),av=(xe(Mp={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),xe(Mp,"MISSING_CUSTOM_TOKEN","internal-error"),xe(Mp,"INVALID_IDENTIFIER","invalid-email"),xe(Mp,"MISSING_CONTINUE_URI","internal-error"),xe(Mp,"INVALID_PASSWORD","wrong-password"),xe(Mp,"MISSING_PASSWORD","internal-error"),xe(Mp,"EMAIL_EXISTS","email-already-in-use"),xe(Mp,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),xe(Mp,"INVALID_IDP_RESPONSE","invalid-credential"),xe(Mp,"INVALID_PENDING_TOKEN","invalid-credential"),xe(Mp,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),xe(Mp,"MISSING_REQ_TYPE","internal-error"),xe(Mp,"EMAIL_NOT_FOUND","user-not-found"),xe(Mp,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),xe(Mp,"EXPIRED_OOB_CODE","expired-action-code"),xe(Mp,"INVALID_OOB_CODE","invalid-action-code"),xe(Mp,"MISSING_OOB_CODE","internal-error"),xe(Mp,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),xe(Mp,"INVALID_ID_TOKEN","invalid-user-token"),xe(Mp,"TOKEN_EXPIRED","user-token-expired"),xe(Mp,"USER_NOT_FOUND","user-token-expired"),xe(Mp,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),xe(Mp,"INVALID_CODE","invalid-verification-code"),xe(Mp,"INVALID_SESSION_INFO","invalid-verification-id"),xe(Mp,"INVALID_TEMPORARY_PROOF","invalid-credential"),xe(Mp,"MISSING_SESSION_INFO","missing-verification-id"),xe(Mp,"SESSION_EXPIRED","code-expired"),xe(Mp,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),xe(Mp,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),xe(Mp,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),xe(Mp,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),xe(Mp,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),xe(Mp,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),xe(Mp,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),xe(Mp,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),xe(Mp,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),xe(Mp,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),xe(Mp,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Mp),ov=new nv(3e4,6e4);function sv(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function uv(e,t,n,r){return lv.apply(this,arguments)}function lv(){return lv=Ce(Te().mark((function e(t,n,r,i){var a,o=arguments;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",cv(t,a,Ce(Te().mark((function e(){var a,o,s,u;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Qe(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",iv.fetch()(pv(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),lv.apply(this,arguments)}function cv(e,t,n){return fv.apply(this,arguments)}function fv(){return fv=Ce(Te().mark((function e(t,n,r){var i,a,s,u,l,c,f,h,d,p;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},av),n),e.prev=2,a=new vv(t),e.next=6,Promise.race([r(),a.promise]);case 6:return s=e.sent,a.clearNetworkTimeout(),e.next=10,s.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw mv(t,"account-exists-with-different-credential",u);case 13:if(!s.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(l=s.ok?u.errorMessage:u.error.message,c=l.split(" : "),f=o(c,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw mv(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw mv(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw mv(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Hp(t,p,d);case 34:Bp(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Be)){e.next=41;break}throw e.t0;case 41:Bp(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),fv.apply(this,arguments)}function hv(e,t,n,r){return dv.apply(this,arguments)}function dv(){return dv=Ce(Te().mark((function e(t,n,r,i){var a,o,s=arguments;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,uv(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Bp(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),dv.apply(this,arguments)}function pv(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?rv(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var vv=function(){function e(t){var n=this;re(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(qp(n.auth,"network-request-failed"))}),ov.get())}))}return ae(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function mv(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=qp(e,t,r);return i.customData._tokenResponse=n,i}function yv(e,t){return gv.apply(this,arguments)}function gv(){return gv=Ce(Te().mark((function e(t,n){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uv(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),gv.apply(this,arguments)}function kv(e,t){return wv.apply(this,arguments)}function wv(){return wv=Ce(Te().mark((function e(t,n){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uv(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),wv.apply(this,arguments)}function bv(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function xv(){return xv=Ce(Te().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Ze(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Gp((a=Sv(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:bv(Ev(a.auth_time)),issuedAtTime:bv(Ev(a.iat)),expirationTime:bv(Ev(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),xv.apply(this,arguments)}function Ev(e){return 1e3*Number(e)}function Sv(e){var t=o(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return zp("JWT malformed, contained fewer than 3 sections"),null;try{var a=Pe(r);return a?JSON.parse(a):(zp("Failed to decode base64 JWT payload"),null)}catch(s){return zp("Caught error parsing JWT payload as JSON",s),null}}function _v(e,t){return Cv.apply(this,arguments)}function Cv(){return Cv=Ce(Te().mark((function e(t,n){var r=arguments;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Be&&Iv(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Cv.apply(this,arguments)}function Iv(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Tv=function(){function e(t){re(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return ae(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Ce(Te().mark((function t(){return Te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Ce(Te().mark((function e(){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Nv=function(){function e(t,n){re(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return ae(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=bv(this.lastLoginAt),this.creationTime=bv(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Av(e){return Ov.apply(this,arguments)}function Ov(){return Ov=Ce(Te().mark((function e(t){var n,r,i,a,o,s,u,l,c,f,h;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,_v(t,kv(r,{idToken:i}));case 6:Gp(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Rv(o.providerUserInfo):[],u=Dv(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!l&&c,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Nv(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Ov.apply(this,arguments)}function Lv(){return(Lv=Ce(Te().mark((function e(t){var n;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ze(t),e.next=3,Av(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dv(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Q(n),Q(t))}function Rv(e){return e.map((function(e){var t=e.providerId,n=Pp(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Pv(e,t){return Mv.apply(this,arguments)}function Mv(){return Mv=Ce(Te().mark((function e(t,n){var r;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cv(t,{},Ce(Te().mark((function e(){var r,i,a,o,s,u;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qe({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=pv(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",iv.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Mv.apply(this,arguments)}var jv=function(){function e(){re(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return ae(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Gp(e.idToken,"internal-error"),Gp("undefined"!==typeof e.idToken,"internal-error"),Gp("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Sv(e);return Gp(t,"internal-error"),Gp("undefined"!==typeof t.exp,"internal-error"),Gp("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Ce(Te().mark((function e(t){var n,r=arguments;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Gp(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Ce(Te().mark((function e(t,n){var r,i,a,o;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pv(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Qp("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Gp("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Gp("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Gp("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Fv(e,t){Gp("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Uv=function(){function e(t){re(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Pp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Tv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Q(a.providerData):[],this.metadata=new Nv(a.createdAt||void 0,a.lastLoginAt||void 0)}return ae(e,[{key:"getIdToken",value:function(){var e=Ce(Te().mark((function e(t){var n;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_v(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Gp(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return xv.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Lv.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Gp(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Gp(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Ce(Te().mark((function e(t){var n,r,i=arguments;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Av(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ce(Te().mark((function e(){var t;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,_v(this,yv(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,l,c,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(l=n.createdAt)&&void 0!==l?l:void 0,g=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,k=n.uid,w=n.emailVerified,b=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;Gp(k&&E,t,"internal-error");var S=jv.fromJSON(this.name,E);Gp("string"===typeof k,t,"internal-error"),Fv(f,t.name),Fv(h,t.name),Gp("boolean"===typeof w,t,"internal-error"),Gp("boolean"===typeof b,t,"internal-error"),Fv(d,t.name),Fv(p,t.name),Fv(v,t.name),Fv(m,t.name),Fv(y,t.name),Fv(g,t.name);var _=new e({uid:k,auth:t,email:h,emailVerified:w,displayName:f,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(_.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(_._redirectEventId=m),_}},{key:"_fromIdTokenResponse",value:function(){var t=Ce(Te().mark((function t(n,r){var i,a,o,s=arguments;return Te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new jv).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Av(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Vv=function(){function e(){re(this,e),this.type="NONE",this.storage={}}return ae(e,[{key:"_isAvailable",value:function(){var e=Ce(Te().mark((function e(){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ce(Te().mark((function e(t,n){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ce(Te().mark((function e(t){var n;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ce(Te().mark((function e(t){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Vv.type="NONE";var zv=Vv;function Bv(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var qv=function(){function e(t,n,r){re(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Bv(this.userKey,a.apiKey,o),this.fullPersistenceKey=Bv("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return ae(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Ce(Te().mark((function e(){var t;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Uv._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Ce(Te().mark((function e(t){var n;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Ce(Te().mark((function t(n,r){var i,a,o,s,u,l,c,f,h,d,p,v=arguments;return Te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Jp(zv),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Ce(Te().mark((function e(t){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Jp(zv),s=Bv(i,n.config.apiKey,n.name),u=null,l=Ne(r),t.prev=10,l.s();case 12:if((c=l.n()).done){t.next=29;break}return f=c.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=Uv._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),l.e(t.t1);case 34:return t.prev=34,l.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Ce(Te().mark((function e(t){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Hv(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Qv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Wv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Xv(t))return"Blackberry";if(Jv(t))return"Webos";if(Kv(t))return"Safari";if((t.includes("chrome/")||Gv(t))&&!t.includes("edge/"))return"Chrome";if(Yv(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Wv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je();return/firefox\//i.test(e)}function Kv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Gv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je();return/crios\//i.test(e)}function Qv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je();return/iemobile/i.test(e)}function Yv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je();return/android/i.test(e)}function Xv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je();return/blackberry/i.test(e)}function Jv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je();return/webos/i.test(e)}function $v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je();return/iphone|ipad|ipod/i.test(e)}function Zv(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je();return $v(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function em(){return ze()&&10===document.documentMode}function tm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je();return $v(e)||Yv(e)||Jv(e)||Xv(e)||/windows phone/i.test(e)||Qv(e)}function nm(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Hv(je());break;case"Worker":t="".concat(Hv(je()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ht,"/").concat(r)}var rm=function(){function e(t){re(this,e),this.auth=t,this.queue=[]}return ae(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Ce(Te().mark((function e(t){var n,r,i,a,o,s,u,l;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=Ne(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),s=Ne(r);try{for(s.s();!(u=s.n()).done;){l=u.value;try{l()}catch(c){}}}catch(f){s.e(f)}finally{s.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),im=function(){function e(t,n,r){re(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new om(this),this.idTokenSubscription=new om(this),this.beforeStateQueue=new rm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Up,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return ae(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Jp(t)),this._initializationPromise=this.queue(Ce(Te().mark((function r(){var i,a;return Te().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,qv.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Ce(Te().mark((function e(){var t;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Ce(Te().mark((function e(t){var n,r,i,a,o,s,u;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Gp(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Ce(Te().mark((function e(t){var n;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Ce(Te().mark((function e(t){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Av(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Ce(Te().mark((function e(){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Ce(Te().mark((function e(t){var n;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Ze(t):null)&&Gp(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Ce(Te().mark((function e(t){var n,r=this,i=arguments;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Gp(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Ce(Te().mark((function e(){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Ce(Te().mark((function e(){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Ce(Te().mark((function n(){return Te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Jp(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new qe("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Ce(Te().mark((function e(t,n){var r;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Ce(Te().mark((function e(t){var n;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Gp(n=t&&Jp(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,qv.create(this,[Jp(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Ce(Te().mark((function e(t){var n,r;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Ce(Te().mark((function e(){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Ce(Te().mark((function e(t){var n=this;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Ce(Te().mark((function e(){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Gp(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Ce(Te().mark((function e(t){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Gp(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nm(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Ce(Te().mark((function e(){var t,n,r;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xe({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function am(e){return Ze(e)}var om=function(){function e(t){var n=this;re(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new Je(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return ae(e,[{key:"next",get:function(){return Gp(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();var sm=function(){function e(t,n){re(this,e),this.providerId=t,this.signInMethod=n}return ae(e,[{key:"toJSON",value:function(){return Qp("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Qp("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Qp("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Qp("not implemented")}}]),e}();function um(e,t){return lm.apply(this,arguments)}function lm(){return lm=Ce(Te().mark((function e(t,n){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uv(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),lm.apply(this,arguments)}function cm(e,t){return fm.apply(this,arguments)}function fm(){return fm=Ce(Te().mark((function e(t,n){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hv(t,"POST","/v1/accounts:signInWithPassword",sv(t,n)));case 1:case"end":return e.stop()}}),e)}))),fm.apply(this,arguments)}function hm(e,t){return dm.apply(this,arguments)}function dm(){return dm=Ce(Te().mark((function e(t,n){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hv(t,"POST","/v1/accounts:signInWithEmailLink",sv(t,n)));case 1:case"end":return e.stop()}}),e)}))),dm.apply(this,arguments)}function pm(e,t){return vm.apply(this,arguments)}function vm(){return vm=Ce(Te().mark((function e(t,n){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hv(t,"POST","/v1/accounts:signInWithEmailLink",sv(t,n)));case 1:case"end":return e.stop()}}),e)}))),vm.apply(this,arguments)}var mm=function(e){ue(n,e);var t=de(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return re(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return ae(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Ce(Te().mark((function e(t){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",cm(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",hm(t,{email:this._email,oobCode:this._password}));case 5:Bp(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Ce(Te().mark((function e(t,n){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",um(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",pm(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Bp(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(sm);function ym(e,t){return gm.apply(this,arguments)}function gm(){return gm=Ce(Te().mark((function e(t,n){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hv(t,"POST","/v1/accounts:signInWithIdp",sv(t,n)));case 1:case"end":return e.stop()}}),e)}))),gm.apply(this,arguments)}var km=function(e){ue(n,e);var t=de(n);function n(){var e;return re(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return ae(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return ym(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ym(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ym(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Qe(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Bp("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Pp(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(sm);function wm(e,t){return bm.apply(this,arguments)}function bm(){return bm=Ce(Te().mark((function e(t,n){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uv(t,"POST","/v1/accounts:sendVerificationCode",sv(t,n)));case 1:case"end":return e.stop()}}),e)}))),bm.apply(this,arguments)}function xm(){return xm=Ce(Te().mark((function e(t,n){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hv(t,"POST","/v1/accounts:signInWithPhoneNumber",sv(t,n)));case 1:case"end":return e.stop()}}),e)}))),xm.apply(this,arguments)}function Em(){return Em=Ce(Te().mark((function e(t,n){var r;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hv(t,"POST","/v1/accounts:signInWithPhoneNumber",sv(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw mv(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Em.apply(this,arguments)}var Sm=xe({},"USER_NOT_FOUND","user-not-found");function _m(){return _m=Ce(Te().mark((function e(t,n){var r;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",hv(t,"POST","/v1/accounts:signInWithPhoneNumber",sv(t,r),Sm));case 2:case"end":return e.stop()}}),e)}))),_m.apply(this,arguments)}var Cm=function(e){ue(n,e);var t=de(n);function n(e){var r;return re(this,n),(r=t.call(this,"phone","phone")).params=e,r}return ae(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return xm.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Em.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return _m.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(sm);var Im=function(){function e(t){var n,r,i,a,o,s;re(this,e);var u=Ye(Xe(t)),l=null!==(n=u.apiKey)&&void 0!==n?n:null,c=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Gp(l&&c&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=c,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return ae(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Ye(Xe(e)).link,n=t?Ye(Xe(t)).deep_link_id:null,r=Ye(Xe(e)).deep_link_id;return(r?Ye(Xe(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(_d){return null}}}]),e}();var Tm=function(){function e(){re(this,e),this.providerId=e.PROVIDER_ID}return ae(e,null,[{key:"credential",value:function(e,t){return mm._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Im.parseLink(t);return Gp(n,"argument-error"),mm._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Tm.PROVIDER_ID="password",Tm.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Tm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Nm=function(){function e(t){re(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return ae(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Am=function(e){ue(n,e);var t=de(n);function n(){var e;return re(this,n),(e=t.apply(this,arguments)).scopes=[],e}return ae(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Q(this.scopes)}}]),n}(Nm),Om=function(e){ue(n,e);var t=de(n);function n(){return re(this,n),t.call(this,"facebook.com")}return ae(n,null,[{key:"credential",value:function(e){return km._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(_d){return null}}}]),n}(Am);Om.FACEBOOK_SIGN_IN_METHOD="facebook.com",Om.PROVIDER_ID="facebook.com";var Lm=function(e){ue(n,e);var t=de(n);function n(){var e;return re(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return ae(n,null,[{key:"credential",value:function(e,t){return km._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(_d){return null}}}]),n}(Am);Lm.GOOGLE_SIGN_IN_METHOD="google.com",Lm.PROVIDER_ID="google.com";var Dm=function(e){ue(n,e);var t=de(n);function n(){return re(this,n),t.call(this,"github.com")}return ae(n,null,[{key:"credential",value:function(e){return km._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(_d){return null}}}]),n}(Am);Dm.GITHUB_SIGN_IN_METHOD="github.com",Dm.PROVIDER_ID="github.com";var Rm=function(e){ue(n,e);var t=de(n);function n(){return re(this,n),t.call(this,"twitter.com")}return ae(n,null,[{key:"credential",value:function(e,t){return km._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(_d){return null}}}]),n}(Am);function Pm(e,t){return Mm.apply(this,arguments)}function Mm(){return Mm=Ce(Te().mark((function e(t,n){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hv(t,"POST","/v1/accounts:signUp",sv(t,n)));case 1:case"end":return e.stop()}}),e)}))),Mm.apply(this,arguments)}Rm.TWITTER_SIGN_IN_METHOD="twitter.com",Rm.PROVIDER_ID="twitter.com";var jm=function(){function e(t){re(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return ae(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Ce(Te().mark((function t(n,r,i){var a,o,s,u,l=arguments;return Te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]&&l[3],t.next=3,Uv._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Fm(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Ce(Te().mark((function t(n,r,i){var a;return Te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Fm(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Fm(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var Um=function(e){ue(n,e);var t=de(n);function n(e,r,i,a){var o,s;return re(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(oe(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return ae(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Be);function Vm(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Um._fromErrorAndOperation(e,n,t,r);throw n}))}function zm(e,t){return Bm.apply(this,arguments)}function Bm(){return Bm=Ce(Te().mark((function e(t,n){var r,i,a=arguments;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=_v,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",jm._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Bm.apply(this,arguments)}function qm(e,t){return Hm.apply(this,arguments)}function Hm(){return Hm=Ce(Te().mark((function e(t,n){var r,i,a,o,s,u,l=arguments;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,_v(t,Vm(i,a,n,t),r);case 6:return Gp((o=e.sent).idToken,i,"internal-error"),Gp(s=Sv(o.idToken),i,"internal-error"),u=s.sub,Gp(t.uid===u,i,"user-mismatch"),e.abrupt("return",jm._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Bp(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Hm.apply(this,arguments)}function Wm(e,t){return Km.apply(this,arguments)}function Km(){return Km=Ce(Te().mark((function e(t,n){var r,i,a,o,s=arguments;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Vm(t,i,n);case 4:return a=e.sent,e.next=7,jm._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Km.apply(this,arguments)}function Gm(e,t){return Qm.apply(this,arguments)}function Qm(){return Qm=Ce(Te().mark((function e(t,n){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wm(am(t),n));case 1:case"end":return e.stop()}}),e)}))),Qm.apply(this,arguments)}function Ym(e,t,n){return Xm.apply(this,arguments)}function Xm(){return Xm=Ce(Te().mark((function e(t,n,r){var i,a,o;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=am(t),e.next=3,Pm(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,jm._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Xm.apply(this,arguments)}function Jm(e,t,n){return Gm(Ze(e),Tm.credential(t,n))}function $m(e,t){return Zm.apply(this,arguments)}function Zm(){return Zm=Ce(Te().mark((function e(t,n){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uv(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Zm.apply(this,arguments)}function ey(e,t){return ty.apply(this,arguments)}function ty(){return(ty=Ce(Te().mark((function e(t,n){var r,i,a,o,s,u,l;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Ze(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,_v(a,$m(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(l=a.providerData.find((function(e){return"password"===e.providerId})))&&(l.displayName=a.displayName,l.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ny(e){return Ze(e).signOut()}function ry(e,t){return uv(e,"POST","/v2/accounts/mfaEnrollment:start",sv(e,t))}new WeakMap;var iy="__sak",ay=function(){function e(t,n){re(this,e),this.storageRetriever=t,this.type=n}return ae(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(iy,"1"),this.storage.removeItem(iy),Promise.resolve(!0)):Promise.resolve(!1)}catch(_d){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var oy=function(e){ue(n,e);var t=de(n);function n(){var e;return re(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=je();return Kv(e)||$v(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=tm(),e._shouldAllowMigration=!0,e}return ae(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);em()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Ce(Te().mark((function e(t,r){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ln(le(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ce(Te().mark((function e(t){var r;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ln(le(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ce(Te().mark((function e(t){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ln(le(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(ay);oy.type="LOCAL";var sy=oy,uy=function(e){ue(n,e);var t=de(n);function n(){return re(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return ae(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(ay);uy.type="SESSION";var ly=uy;function cy(e){return Promise.all(e.map(function(){var e=Ce(Te().mark((function e(t){var n;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var fy=function(){function e(t){re(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return ae(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Ce(Te().mark((function e(t){var n,r,i,a,o,s,u,l;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Ce(Te().mark((function e(t){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,cy(u);case 9:l=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:l});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function hy(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}fy.receivers=[];var dy=function(){function e(t){re(this,e),this.target=t,this.handlers=new Set}return ae(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Ce(Te().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var l=hy("",20);i.port1.start();var c=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===l)switch(n.data.status){case"ack":clearTimeout(c),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(c),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function py(){return window}function vy(){return"undefined"!==typeof py().WorkerGlobalScope&&"function"===typeof py().importScripts}function my(){return yy.apply(this,arguments)}function yy(){return(yy=Ce(Te().mark((function e(){var t;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function gy(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var ky="firebaseLocalStorageDb",wy="firebaseLocalStorage",by="fbase_key",xy=function(){function e(t){re(this,e),this.request=t}return ae(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Ey(e,t){return e.transaction([wy],t?"readwrite":"readonly").objectStore(wy)}function Sy(){var e=indexedDB.deleteDatabase(ky);return new xy(e).toPromise()}function _y(){var e=indexedDB.open(ky,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(wy,{keyPath:by})}catch(r){n(r)}})),e.addEventListener("success",Ce(Te().mark((function n(){var r;return Te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(wy)){n.next=12;break}return r.close(),n.next=5,Sy();case 5:return n.t0=t,n.next=8,_y();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Cy(e,t,n){return Iy.apply(this,arguments)}function Iy(){return Iy=Ce(Te().mark((function e(t,n,r){var i,a;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ey(t,!0).put((xe(i={},by,n),xe(i,"value",r),i)),e.abrupt("return",new xy(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Iy.apply(this,arguments)}function Ty(e,t){return Ny.apply(this,arguments)}function Ny(){return Ny=Ce(Te().mark((function e(t,n){var r,i;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ey(t,!1).get(n),e.next=3,new xy(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Ny.apply(this,arguments)}function Ay(e,t){var n=Ey(e,!0).delete(t);return new xy(n).toPromise()}var Oy=function(){function e(){re(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return ae(e,[{key:"_openDb",value:function(){var e=Ce(Te().mark((function e(){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,_y();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Ce(Te().mark((function e(t){var n,r;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Ce(Te().mark((function e(){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vy()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Ce(Te().mark((function e(){var t=this;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=fy._getInstance(vy()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Ce(Te().mark((function e(n,r){var i;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Ce(Te().mark((function e(t,n){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Ce(Te().mark((function e(){var t,n,r;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,my();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new dy(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Ce(Te().mark((function e(t){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&gy()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Ce(Te().mark((function e(){var t;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,_y();case 5:return t=e.sent,e.next=8,Cy(t,iy,"1");case 8:return e.next=10,Ay(t,iy);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Ce(Te().mark((function e(t){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ce(Te().mark((function e(t,n){var r=this;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ce(Te().mark((function e(){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Cy(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ce(Te().mark((function e(t){var n;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Ty(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ce(Te().mark((function e(t){var n=this;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ce(Te().mark((function e(){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Ay(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Ce(Te().mark((function e(){var t,n,r,i,a,o,s,u,l,c,f;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Ey(e,!1).getAll();return new xy(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Ne(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(l=0,c=Object.keys(this.localCache);l<c.length;l++)f=c[l],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Ce(Te().mark((function t(){return Te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Oy.type="LOCAL";var Ly=Oy;function Dy(e,t){return uv(e,"POST","/v2/accounts/mfaSignIn:start",sv(e,t))}function Ry(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=qp("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Py(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}Py("rcb"),new nv(3e4,6e4);var My="recaptcha";function jy(e,t,n){return Fy.apply(this,arguments)}function Fy(){return Fy=Ce(Te().mark((function e(t,n,r){var i,a,o,s,u,l,c,f,h;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Gp("string"===typeof a,t,"argument-error"),Gp(r.type===My,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Gp("enroll"===s.type,t,"internal-error"),e.next=13,ry(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Gp("signin"===s.type,t,"internal-error"),Gp(l=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Dy(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:a}});case 22:return c=e.sent,e.abrupt("return",c.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,wm(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Fy.apply(this,arguments)}var Uy=function(){function e(t){re(this,e),this.providerId=e.PROVIDER_ID,this.auth=am(t)}return ae(e,[{key:"verifyPhoneNumber",value:function(e,t){return jy(this.auth,e,Ze(t))}}],[{key:"credential",value:function(e,t){return Cm._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Cm._fromTokenResponse(n,r):null}}]),e}();function Vy(e,t){return t?Jp(t):(Gp(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Uy.PROVIDER_ID="phone",Uy.PHONE_SIGN_IN_METHOD="phone";var zy=function(e){ue(n,e);var t=de(n);function n(e){var r;return re(this,n),(r=t.call(this,"custom","custom")).params=e,r}return ae(n,[{key:"_getIdTokenResponse",value:function(e){return ym(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return ym(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return ym(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(sm);function By(e){return Wm(e.auth,new zy(e),e.bypassAuthState)}function qy(e){var t=e.auth,n=e.user;return Gp(n,t,"internal-error"),qm(n,new zy(e),e.bypassAuthState)}function Hy(e){return Wy.apply(this,arguments)}function Wy(){return Wy=Ce(Te().mark((function e(t){var n,r;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Gp(r=t.user,n,"internal-error"),e.abrupt("return",zm(r,new zy(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Wy.apply(this,arguments)}var Ky=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];re(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return ae(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Ce(Te().mark((function t(n,r){return Te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Ce(Te().mark((function e(t){var n,r,i,a,o,s,u;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return By;case"linkViaPopup":case"linkViaRedirect":return Hy;case"reauthViaPopup":case"reauthViaRedirect":return qy;default:Bp(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Yp(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Yp(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Gy=new nv(2e3,1e4);function Qy(e,t,n){return Yy.apply(this,arguments)}function Yy(){return Yy=Ce(Te().mark((function e(t,n,r){var i,a,o;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=am(t),Wp(t,n,Nm),a=Vy(i,r),o=new Xy(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Yy.apply(this,arguments)}var Xy=function(e){ue(n,e);var t=de(n);function n(e,r,i,a,o){var s;return re(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=oe(s),s}return ae(n,[{key:"executeNotNull",value:function(){var e=Ce(Te().mark((function e(){var t;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Gp(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ce(Te().mark((function e(){var t,n=this;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yp(1===this.filter.length,"Popup operations only handle one event"),t=hy(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(qp(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(qp(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(qp(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Gy.get())}()}}]),n}(Ky);Xy.currentPopupAction=null;var Jy=new Map,$y=function(e){ue(n,e);var t=de(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return re(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return ae(n,[{key:"execute",value:function(){var e=Ce(Te().mark((function e(){var t,r;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Jy.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Zy(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ln(le(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Jy.set(this.auth._key(),t);case 21:return this.bypassAuthState||Jy.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Ce(Te().mark((function e(t){var r;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ln(le(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",ln(le(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ce(Te().mark((function e(){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Ky);function Zy(e,t){return eg.apply(this,arguments)}function eg(){return eg=Ce(Te().mark((function e(t,n){var r,i,a;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rg(n),i=ng(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),eg.apply(this,arguments)}function tg(e,t){Jy.set(e._key(),t)}function ng(e){return Jp(e._redirectPersistence)}function rg(e){return Bv("pendingRedirect",e.config.apiKey,e.name)}function ig(e,t){return ag.apply(this,arguments)}function ag(){return ag=Ce(Te().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=am(t),a=Vy(i,n),o=new $y(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),ag.apply(this,arguments)}var og=function(){function e(t){re(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return ae(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ug(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!ug(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(qp(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sg(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(sg(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function sg(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function ug(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function lg(e){return cg.apply(this,arguments)}function cg(){return cg=Ce(Te().mark((function e(t){var n,r=arguments;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",uv(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),cg.apply(this,arguments)}var fg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hg=/^https?/;function dg(){return dg=Ce(Te().mark((function e(t){var n,r,i,a,o;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,lg(t);case 4:n=e.sent,r=n.authorizedDomains,i=Ne(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!pg(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Bp(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),dg.apply(this,arguments)}function pg(e){var t=Zp(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!hg.test(r))return!1;if(fg.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var vg=new nv(3e4,6e4);function mg(){var e=py().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Q(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var yg=null;function gg(e){return yg=yg||function(e){return new Promise((function(t,n){var r,i,a;function o(){mg(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){mg(),n(qp(e,"network-request-failed"))},timeout:vg.get()})}if(null===(i=null===(r=py().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=py().gapi)||void 0===a?void 0:a.load)){var s=Py("iframefcb");return py()[s]=function(){gapi.load?o():n(qp(e,"network-request-failed"))},Ry("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw yg=null,e}))}(e),yg}var kg=new nv(5e3,15e3),wg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xg(e){var t=e.config;Gp(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?rv(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Ht},i=bg.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Qe(r).slice(1))}function Eg(e){return Sg.apply(this,arguments)}function Sg(){return Sg=Ce(Te().mark((function e(t){var n,r;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gg(t);case 2:return n=e.sent,Gp(r=py().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:xg(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wg,dontclear:!0},(function(e){return new Promise(function(){var n=Ce(Te().mark((function n(r,i){var a,o,s;return Te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){py().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=qp(t,"network-request-failed"),o=py().setTimeout((function(){i(a)}),kg.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Sg.apply(this,arguments)}var _g={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Cg="_blank",Ig="http://localhost",Tg=function(){function e(t){re(this,e),this.window=t,this.associatedEvent=null}return ae(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Ng(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",l=Object.assign(Object.assign({},_g),{width:r.toString(),height:i.toString(),top:a,left:s}),c=je().toLowerCase();n&&(u=Gv(c)?Cg:n),Wv(c)&&(t=t||Ig,l.scrollbars="yes");var f=Object.entries(l).reduce((function(e,t){var n=o(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Zv(c)&&"_self"!==u)return Ag(t||"",u),new Tg(null);var h=window.open(t||"",u,f);Gp(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Tg(h)}function Ag(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Og="__/auth/handler",Lg="emulator/auth/handler";function Dg(e,t,n,r,i,a){Gp(e.config.authDomain,e,"auth-domain-config-required"),Gp(e.config.apiKey,e,"invalid-api-key");var s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ht,eventId:i};if(t instanceof Nm){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,l=Object.entries(a||{});u<l.length;u++){var c=o(l[u],2),f=c[0],h=c[1];s[f]=h}}if(t instanceof Am){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(s.scopes=d.join(","))}e.tenantId&&(s.tid=e.tenantId);for(var p=s,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Og);return rv(t,Lg)}(e),"?").concat(Qe(p).slice(1))}var Rg="webStorageSupport",Pg=function(){function e(){re(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ly,this._completeRedirectFn=ig,this._overrideRedirectResult=tg}return ae(e,[{key:"_openPopup",value:function(){var e=Ce(Te().mark((function e(t,n,r,i){var a,o;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yp(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Dg(t,n,r,Zp(),i),e.abrupt("return",Ng(t,o,hy()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ce(Te().mark((function e(t,n,r,i){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Dg(t,n,r,Zp(),i),py().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Yp(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Ce(Te().mark((function e(t){var n,r;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Eg(t);case 2:return n=e.sent,r=new og(t),n.register("authEvent",(function(e){return Gp(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Rg,{type:Rg},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Bp(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return dg.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return tm()||Kv()||$v()}}]),e}(),Mg=Pg,jg=function(){function e(t){re(this,e),this.factorId=t}return ae(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Qp("unexpected MultiFactorSessionType")}}}]),e}(),Fg=function(e){ue(n,e);var t=de(n);function n(e){var r;return re(this,n),(r=t.call(this,"phone")).credential=e,r}return ae(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return uv(e,"POST","/v2/accounts/mfaEnrollment:finalize",sv(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return uv(e,"POST","/v2/accounts/mfaSignIn:finalize",sv(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(jg);(function(){function e(){re(this,e)}return ae(e,null,[{key:"assertion",value:function(e){return Fg._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var Ug,Vg="@firebase/auth",zg="0.20.3",Bg=function(){function e(t){re(this,e),this.auth=t,this.internalListeners=new Map}return ae(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Ce(Te().mark((function e(t){var n;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Gp(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();Ug="Browser",Ut(new et("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){Gp(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Gp(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:Ug,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nm(Ug)},i=new im(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Jp);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ut(new et("auth-internal",(function(e){return function(e){return new Bg(e)}(am(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Kt(Vg,zg,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Ug)),Kt(Vg,zg,"esm2017");var qg=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Rt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Bt.create("bad-app-name",{appName:String(i)});var a=Mt.get(i);if(a){if(Ke(e,a.options)&&Ke(r,a.config))return a;throw Bt.create("duplicate-app",{appName:i})}var o,s=new at(i),u=Ne(jt.values());try{for(u.s();!(o=u.n()).done;){var l=o.value;s.addComponent(l)}}catch(f){u.e(f)}finally{u.f()}var c=new qt(e,r,s);return Mt.set(i,c),c}({apiKey:"AIzaSyC_TyQFfs2TeH62e7OLToER1H4_GW0_qPc",authDomain:"retina-ea48c.firebaseapp.com",projectId:"retina-ea48c",storageBucket:"retina-ea48c.appspot.com",messagingSenderId:"834295903747",appId:"1:834295903747:web:562b2a27cb0bfbb20c0036"}),Hg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt(),t=Vt(e,"auth");return t.isInitialized()?t.getImmediate():$p(e,{popupRedirectResolver:Mg,persistence:[Ly,sy,ly]})}(qg),Wg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return Vt(e,"firestore").getImmediate()}(qg),Kg=function(){var e=Ce(Te().mark((function e(t,n,r){var i,a;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ym(Hg,t,n);case 3:return e.next=5,ey(Hg.currentUser,{displayName:r});case 5:return a=null===Hg||void 0===Hg||null===(i=Hg.currentUser)||void 0===i?void 0:i.uid,e.next=8,Ap(jd(Wg,"users",a),{id:a});case 8:window.location.reload(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Gg=function(){var e=Ce(Te().mark((function e(t,n){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jm(Hg,t,n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Qg=function(){var e=Ce(Te().mark((function e(t){var n,r,i;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Lm,e.next=3,Qy(Hg,r);case 3:return i=null===Hg||void 0===Hg||null===(n=Hg.currentUser)||void 0===n?void 0:n.uid,e.next=6,Ap(jd(Wg,"users",i),{id:i});case 6:window.location.reload(),t(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Yg=function(){var e=Ce(Te().mark((function e(){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ny(Hg);case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xg=function(){var e=o((0,t.useState)(""),2),n=e[0],r=e[1];return(0,t.useEffect)((function(){var e=function(e,t,n,r){return Ze(e).onAuthStateChanged(t,n,r)}(Hg,(function(e){return r(e)}));return e}),[]),n},Jg=function(){var e=Ce(Te().mark((function e(t,n){var r,i;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wp(Md(Wg,"users")),e.next=3,Np(r);case 3:i=e.sent,i.docs.map((function(e){return Se(Se({},e.data()),{},{id:e.id})})).map(function(){var e=Ce(Te().mark((function e(r){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ap(jd(Wg,"users/".concat(n.uid,"/likes"),t.id),Se({},t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$g=function(){var e=Ce(Te().mark((function e(t){var n,r;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=wp(Md(Wg,"users")),e.next=3,Np(n);case 3:r=e.sent,r.docs.map((function(e){return Se(Se({},e.data()),{},{id:e.id})})).map(function(){var e=Ce(Te().mark((function e(n){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Op(jd(Wg,"users/".concat(n.id,"/likes"),t.id));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Zg=function(){var e=Ce(Te().mark((function e(t,n,r){var i,a;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wp(Md(Wg,"users")),e.next=3,Np(i);case 3:a=e.sent,a.docs.map((function(e){return Se(Se({},e.data()),{},{id:e.id})})).map(Ce(Te().mark((function e(){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ap(jd(Wg,"users/".concat(r.uid,"/collections/"),t),{id:t});case 2:case"end":return e.stop()}}),e)})))),n(!1);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ek=function(){var e=Ce(Te().mark((function e(t,n,r){var i,a;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wp(Md(Wg,"users")),e.next=3,Np(i);case 3:a=e.sent,a.docs.map((function(e){return Se(Se({},e.data()),{},{id:e.id})})).map(function(){var e=Ce(Te().mark((function e(i){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Op(jd(Wg,"users/".concat(null===n||void 0===n?void 0:n.uid,"/collections"),t));case 2:r(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),tk=function(){var e=Ce(Te().mark((function e(t,n,r,i){var a,o;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=wp(Md(Wg,"users")),e.next=3,Np(a);case 3:o=e.sent,o.docs.map((function(e){return Se(Se({},e.data()),{},{id:e.id})})).map(Ce(Te().mark((function e(){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ap(jd(Md(Wg,"users",null===t||void 0===t?void 0:t.uid,"collection-images"),null===r||void 0===r?void 0:r.id),Se(Se({},r),{},{fireCategory:null===n||void 0===n?void 0:n.id})).then((function(){return i(!0)}));case 2:case"end":return e.stop()}}),e)}))));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),nk=function(){var e=Ce(Te().mark((function e(t,n){var r,i;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wp(Md(Wg,"users")),e.next=3,Np(r);case 3:i=e.sent,i.docs.map((function(e){return Se(Se({},e.data()),{},{id:e.id})})).map(Ce(Te().mark((function e(){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Op(jd(Wg,"users/".concat(null===t||void 0===t?void 0:t.uid,"/collection-images"),n.id));case 2:case"end":return e.stop()}}),e)}))));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),rk=n(184),ik=function(e){var t=e.color,n=e.setQuery,r=C(),i=_();return(0,rk.jsxs)("div",{className:"relative group hidden lg:block",children:["/"===i.pathname?(0,rk.jsxs)("div",{className:t?"flex items-center cursor-pointer text-slate-400 font-bold hover:text-slate-600":"flex items-center cursor-pointer text-white font-bold",children:[(0,rk.jsx)("span",{className:"z-50",children:"Explore"}),(0,rk.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t?"h-5 w-5 fill-gray-500":"h-5 w-5 fill-white",viewBox:"0 0 20 20",children:(0,rk.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}):(0,rk.jsxs)("div",{className:"flex items-center cursor-pointer text-slate-400 font-bold hover:text-slate-600",children:[(0,rk.jsx)("span",{className:"z-50",children:"Explore"}),(0,rk.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 fill-gray-500",viewBox:"0 0 20 20",children:(0,rk.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),(0,rk.jsx)("div",{className:"hidden group-hover:block absolute py-4 rounded-xl top-5 z-50 w-36 -left-8 h-auto bg-white text-center",children:(0,rk.jsxs)("ul",{children:[(0,rk.jsx)("li",{onClick:function(){n("Japan"),r("/search/japan")},className:"pt-4 cursor-pointer hover:bg-gray-100",children:"Japan"}),(0,rk.jsx)("li",{onClick:function(){n("forest"),r("/search/forest")},className:"pt-4 cursor-pointer hover:bg-gray-100",children:"Forest"}),(0,rk.jsx)("li",{onClick:function(){n("kitchen"),r("/search/kitchen")},className:"pt-4 cursor-pointer hover:bg-gray-100",children:"Kitchen"}),(0,rk.jsx)("li",{onClick:function(){n("antique"),r("/search/antique")},className:"pt-4 cursor-pointer hover:bg-gray-100",children:"Antique"}),(0,rk.jsx)("li",{onClick:function(){n("waterfall"),r("/search/waterfall")},className:"pt-4 cursor-pointer hover:bg-gray-100",children:"Waterfall"})]})})]})},ak=n(469),ok=function(e){var n=e.setQuery,r=o((0,t.useState)(!1),2),i=r[0],a=r[1],s=(0,t.useContext)(G).setOpenLoginModal;window.addEventListener("scroll",(function(){window.scrollY>=90?a(!0):a(!1)}));var u=Xg(),l=C(),c=(0,t.useRef)();return(0,rk.jsxs)("nav",{className:i?"w-full h-20 bg-white border-b flex justify-around items-center border-gray-50 fixed top-0 z-50 px-2 lg:px-24":"w-full h-20 bg-transparent flex justify-between items-center border-gray-50 fixed top-0 z-50 px-4 lg:px-24",children:[(0,rk.jsx)(K,{to:"/",children:(0,rk.jsx)("img",{className:"w-10 h-10 cursor-pointer",src:ak,alt:"logo"})}),(0,rk.jsxs)("div",{className:i?"relative flex items-center w-7/12 lg:w-7/12":"relative flex items-center w-7/12 lg:w-7/12 opacity-0",children:[(0,rk.jsx)("svg",{onClick:function(){n(c.current.value),l("/search/".concat(c.current.value)),c.current.value=""},className:"absolute right-2 w-7 h-7 text-gray-500 cursor-pointer",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,rk.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),(0,rk.jsx)("input",{ref:c,className:"w-full h-12 rounded-lg bg-search-bg placeholder:text-xl pl-6",type:"text",placeholder:"Search"})]}),(0,rk.jsx)(ik,{color:i,setQuery:n}),u?(0,rk.jsxs)("div",{className:i?"w-10 h-10 bg-green-400 rounded-full relative cursor-pointer group":"w-10 h-10 bg-white rounded-full relative cursor-pointer group",children:[(0,rk.jsx)("span",{className:"w-10 h-10 text-2xl text-main-gray-text font-medium flex justify-center items-center",children:u&&(null===u||void 0===u?void 0:u.displayName.slice(0,1))||""}),(0,rk.jsx)("div",{className:"hidden group-hover:block absolute py-4 rounded-xl top-9 z-50 w-36 -left-28  h-auto bg-white text-center",children:(0,rk.jsxs)("ul",{children:[(0,rk.jsx)(K,{to:"/user-profile",children:(0,rk.jsx)("li",{className:"py-4 cursor-pointer hover:bg-gray-100 text-main-gray-text font-medium",children:"Profile"})}),(0,rk.jsx)("li",{onClick:Yg,className:"py-4 cursor-pointer hover:bg-gray-100 text-main-gray-text font-medium",children:"Sign Out"})]})})]}):(0,rk.jsx)("button",{onClick:function(){return s(!0)},className:i?"w-24 h-12 lg:mr-0 lg:w-36 lg:h-12 text-slate-400 font-bold border hover:bg-gray-50":" w-36 h-12 text-white font-bold hover:text-black border hover:bg-white",children:"Sign Up"})]})},sk=function(e){var n=e.setQuery,r=C(),i=(0,t.useRef)(),a=(0,t.useContext)(G).setOpenLoginModal,o=Xg();return(0,rk.jsxs)("nav",{className:"w-full h-20 bg-white border-b flex justify-between items-center border-gray-50 fixed top-0 z-50 px-4 lg:px-24",children:[(0,rk.jsx)(K,{to:"/",children:(0,rk.jsx)("img",{className:"w-10 h-10 cursor-pointer",src:ak,alt:"logo"})}),(0,rk.jsxs)("div",{className:"relative flex items-center w-6/12 lg:w-7/12",children:[(0,rk.jsx)("svg",{onClick:function(){n(i.current.value),r("/search/".concat(i.current.value)),i.current.value=""},className:"absolute right-2 w-7 h-7 text-gray-500 cursor-pointer",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,rk.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),(0,rk.jsx)("input",{ref:i,className:"w-full h-12 rounded-lg bg-search-bg placeholder:text-xl pl-6",type:"text",placeholder:"Search"})]}),(0,rk.jsx)(ik,{setQuery:n}),o?(0,rk.jsxs)("div",{className:"w-10 h-10 bg-green-400 rounded-full relative cursor-pointer group",children:[(0,rk.jsx)("span",{className:"w-10 h-10 text-2xl text-main-gray-text font-medium flex justify-center items-center",children:o&&(null===o||void 0===o?void 0:o.displayName.slice(0,1))||""}),(0,rk.jsx)("div",{className:"hidden group-hover:block absolute py-4 rounded-xl top-9 z-50 w-36 -left-28  h-auto bg-white text-center",children:(0,rk.jsxs)("ul",{children:[(0,rk.jsx)(K,{to:"/user-profile",children:(0,rk.jsx)("li",{className:"py-4 cursor-pointer hover:bg-gray-100 text-main-gray-text font-medium",children:"Profile"})}),(0,rk.jsx)("li",{onClick:function(){Yg(),r("/")},className:"py-4 cursor-pointer hover:bg-gray-100 text-main-gray-text font-medium",children:"Sign Out"})]})})]}):(0,rk.jsx)("button",{onClick:function(){return a(!0)},className:"w-24 h-12 mr-4 lg:mr-0 lg:w-36 lg:h-12 text-slate-400 font-bold border hover:bg-gray-50",children:"Sign Up"})]})},uk=function(e){var t=e.setQuery;return"/"===_().pathname?(0,rk.jsx)(ok,{setQuery:t}):(0,rk.jsx)(sk,{setQuery:t})},lk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ck=t.createContext&&t.createContext(lk),fk=function(){return fk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},fk.apply(this,arguments)},hk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function dk(e){return e&&e.map((function(e,n){return t.createElement(e.tag,fk({key:n},e.attr),dk(e.child))}))}function pk(e){return function(n){return t.createElement(vk,fk({attr:fk({},e.attr)},n),dk(e.child))}}function vk(e){var n=function(n){var r,i=e.attr,a=e.size,o=e.title,s=hk(e,["attr","size","title"]),u=a||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",fk({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:fk(fk({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==ck?t.createElement(ck.Consumer,null,(function(e){return n(e)})):n(lk)}function mk(e){return pk({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M862 465.3h-81c-4.6 0-9 2-12.1 5.5L550 723.1V160c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v563.1L255.1 470.8c-3-3.5-7.4-5.5-12.1-5.5h-81c-6.8 0-10.5 8.1-6 13.2L487.9 861a31.96 31.96 0 0 0 48.3 0L868 478.5c4.5-5.2.8-13.2-6-13.2z"}}]})(e)}function yk(e){return pk({tag:"svg",attr:{t:"1551322312294",style:"",viewBox:"0 0 1024 1024",version:"1.1"},child:[{tag:"defs",attr:{},child:[]},{tag:"path",attr:{d:"M474 152m8 0l60 0q8 0 8 8l0 704q0 8-8 8l-60 0q-8 0-8-8l0-704q0-8 8-8Z"}},{tag:"path",attr:{d:"M168 474m8 0l672 0q8 0 8 8l0 60q0 8-8 8l-672 0q-8 0-8-8l0-60q0-8 8-8Z"}}]})(e)}var gk=function(e){return(0,rk.jsx)("span",{onClick:e.clickHandler,className:"border-2 ml-2 bg-icon-background w-10 h-7  rounded-lg text-icon-color cursor-pointer ",children:(0,rk.jsx)(yk,{className:"mx-auto mt-1 hover:fill-black "})})},kk=function(e){return(0,rk.jsx)("a",{className:"border-2 ml-2 bg-icon-background w-10 h-7  rounded-lg text-icon-color cursor-pointer",target:"_blank",rel:"noreferrer",href:e.href,download:e.download,children:(0,rk.jsx)(mk,{className:"mx-auto mt-1 hover:fill-black"})})},wk=function(e){var n,r,i,a,s=e.props,u=e.listId,l=o((0,t.useState)(!1),2),c=l[0],f=l[1],h=Xg(),d=(0,t.useContext)(G),p=d.setIsCarouselOpen,v=(d.pictureInformation,d.setPictureInformation),m=d.setCreateCollectionModal,y=function(e){v(e),null!==e&&void 0!==e&&e.liked_by_user?(e.liked_by_user=!1,f(!1),console.log(e.liked_by_user),$g(e)):(e.liked_by_user=!0,f(!0),console.log(e.liked_by_user),Jg(e,h))};return(0,rk.jsxs)(rk.Fragment,{children:[(0,rk.jsxs)("div",{className:"gallery-small-screen",children:[(0,rk.jsxs)("div",{className:"flex mb-2",children:[(0,rk.jsx)("img",{className:"rounded-full w-10 h-10",src:s.user.profile_image.medium,alt:"".concat(s.name," profile")}),(0,rk.jsx)("p",{className:" text-black pt-2.5 pl-2 ",children:s.user.name})]}),(0,rk.jsxs)("div",{className:"group relative overflow-hidden",children:[(0,rk.jsx)("img",{className:"cursor-pointer hover:opacity-80 mt-1",src:s.urls.regular,alt:s.user.name}),(0,rk.jsxs)("div",{className:"flex mt-2 justify-between md:hidden",children:[(0,rk.jsxs)("div",{className:"flex mb-8",children:[(0,rk.jsx)("span",{onClick:function(){return y(s)},className:c?" bg-heart-background w-10 h-7 pt-0.5 rounded-lg text-white cursor-pointer":"border-2 bg-icon-background w-10 h-7 rounded-lg text-icon-color cursor-pointer ",children:(0,rk.jsx)("svg",{className:"mx-auto mt-1 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,rk.jsx)("path",{className:"hover:fill-black",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z"})})}),(0,rk.jsx)(gk,{clickHandler:function(){return m(!0)}})]}),(0,rk.jsx)(kk,{href:null===s||void 0===s||null===(n=s.urls)||void 0===n?void 0:n.regular,download:null===s||void 0===s||null===(r=s.urls)||void 0===r?void 0:r.regular})]})]})]}),(0,rk.jsx)("div",{className:"gallery-large-screen",children:(0,rk.jsxs)("div",{className:"group relative overflow-hidden",children:[(0,rk.jsx)("img",{onMouseEnter:function(){return v(Se({},s))},onClick:function(){p(!0),v(Se(Se({},s),{},{listId:u}))},className:"cursor-pointer hover:opacity-80 mt-4",src:s.urls.regular,alt:s.user.name}),(0,rk.jsxs)("div",{className:"invisible group-hover:visible absolute top-6 right-2 flex justify-end",children:[(0,rk.jsx)("span",{onClick:function(){return y(s)},className:c?"bg-heart-background w-10 h-7 pt-0.5 rounded-lg text-white cursor-pointer":"border-2 bg-icon-background w-10 h-7 rounded-lg text-icon-color cursor-pointer ",children:(0,rk.jsx)("svg",{className:"mx-auto mt-1 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,rk.jsx)("path",{className:"hover:fill-black",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z"})})}),(0,rk.jsx)(gk,{clickHandler:function(){return m(!0)}})]}),(0,rk.jsxs)("div",{className:"invisible group-hover:visible flex w-11/12 justify-between  absolute bottom-2 left-2 ",children:[(0,rk.jsxs)("div",{className:"flex",children:[(0,rk.jsx)("img",{className:"rounded-full w-10 h-10 z-50",src:s.user.profile_image.medium,alt:"".concat(s.name," profile")}),(0,rk.jsx)("p",{className:" text-white pt-2 pl-2",children:s.user.name})]}),(0,rk.jsx)(kk,{href:null===s||void 0===s||null===(i=s.urls)||void 0===i?void 0:i.regular,download:null===s||void 0===s||null===(a=s.urls)||void 0===a?void 0:a.regular})]})]})})]})},bk=function(e){var n=e.pictures,r=e.setPictures,i=o((0,t.useState)(1),2),a=i[0],s=i[1],u=(0,t.useContext)(G).inputSearchQuery,l=o((0,t.useState)(!0),2),c=l[0],f=l[1];(0,t.useEffect)((function(){fetch("https://api.unsplash.com/search/photos?page=".concat(a,"&query=").concat(u,"&client_id=").concat("cI86sWJtLf-QfrOGRr71mwxCDxz0xY1Lr7sC4Ae66yw")).then((function(e){return e.json()})).then((function(e){var t,n=e.results,i=Q(new Set(n));r((function(e){return[].concat(Q(e),Q(i))})),(null===e||void 0===e||null===(t=e.results)||void 0===t?void 0:t.length)>1?f(!1):f(!0)}))}),[a,u]);return(0,rk.jsxs)(rk.Fragment,{children:[c&&(0,rk.jsx)("h1",{className:"text-3xl mt-40 mx-auto text-center font-bold leading-loose",children:"No results. Please try again with different keywords!"}),(0,rk.jsxs)(ne,{dataLength:n.length,next:function(){return s((function(e){return e+1}))},hasMore:!0,scrollThreshold:.8,children:[(0,rk.jsx)(uk,{}),(0,rk.jsx)(be,{breakpointCols:{default:3,1100:2,700:1},className:"my-masonry-grid lg:w-5/6 mx-auto mt-24 float-none h-full",columnClassName:"my-masonry-grid_column p-4",children:n.map((function(e,t){return(0,rk.jsx)(wk,{props:e,listId:t},t)}))})]})]})},xk=function(e){var n=e.query,r=o((0,t.useState)(1),2),i=r[0],a=r[1],s=function(e,n){var r=(0,t.useContext)(G).setImageArrayFetch,i=o((0,t.useState)([]),2),a=i[0],s=i[1],u=o((0,t.useState)(!1),2),l=u[0],c=u[1],f=o((0,t.useState)(null),2),h=f[0],d=f[1],p=o((0,t.useState)(""),2),v=p[0],m=p[1];return(0,t.useEffect)((function(){m(n),v!==n&&(s([]),r([]));var t=function(){var t=Ce(Te().mark((function t(){var n,i,a;return Te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c(!0),t.next=4,fetch(e);case 4:return n=t.sent,t.next=7,n.json();case 7:i=t.sent,a=i.results,c(!1),s((function(e){return[].concat(Q(e),Q(a))})),r((function(e){return[].concat(Q(e),Q(a))})),d(null),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(0),c(!1),d("Could not fetch the data.");case 19:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),{data:a,setData:s,loading:l,error:h}}("https://api.unsplash.com/search/photos?page=".concat(i,"&query=").concat(n,"&client_id=").concat("cI86sWJtLf-QfrOGRr71mwxCDxz0xY1Lr7sC4Ae66yw"),n),u=s.data,l=s.loading,c=s.error;return(0,rk.jsxs)(rk.Fragment,{children:["istanbul"===n?(0,rk.jsx)("h2",{className:"text-3xl font-semibold text-main-gray-text mt-36 my-6 text-center",children:"Free Stocks Photo"}):(0,rk.jsxs)("h2",{className:"text-3xl font-semibold text-main-gray-text mt-36 my-6 text-center",children:["Results for ",(null===n||void 0===n?void 0:n.charAt(0).toUpperCase())+(null===n||void 0===n?void 0:n.slice(1))]}),c&&(0,rk.jsx)("div",{children:"An error happened. Please try again."}),l&&(0,rk.jsx)("div",{children:"Loading..."}),u&&(0,rk.jsx)(ne,{next:function(){return a((function(e){return e+1}))},dataLength:null===u||void 0===u?void 0:u.length,hasMore:!0,scrollThreshold:.8,endMessage:"It looks like you came to the end. \ud83d\ude12",children:(0,rk.jsx)(be,{breakpointCols:{default:3,1100:2,700:1},className:"my-masonry-grid lg:w-5/6 mx-auto float-none h-full",columnClassName:"my-masonry-grid_column p-4",children:null===u||void 0===u?void 0:u.map((function(e,t){return(0,rk.jsx)(wk,{props:e,listId:t},e.id)}))})})]})},Ek=function(e){var n=e.setQuery,r=(0,t.useRef)(),i=C();return(0,rk.jsxs)("div",{children:[(0,rk.jsxs)("div",{className:"relative bg-[url('./components//home/assets/wallpaper.jpg')] flex flex-col justify-center items-center w-full h-[calc(24rem_+_7rem)] bg-cover bg-center",children:[(0,rk.jsx)("h1",{className:"text-white text-4xl max-w-screen-sm font-semibold",children:"The best free stock photos, images shared by creators."}),(0,rk.jsxs)("div",{className:"w-11/12 max-w-screen-sm relative mt-12",children:[(0,rk.jsx)("svg",{onClick:function(){n(r.current.value),i("/search/".concat(r.current.value)),r.current.value=""},className:"absolute top-2.5 right-8 transform w-7 h-7 text-gray-500 cursor-pointer",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,rk.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),(0,rk.jsx)("input",{ref:r,className:"w-full h-12 rounded-2xl border-none mx-auto block pl-6 ",type:"text",placeholder:"Search for free photos"})]})]}),(0,rk.jsx)(xk,{query:"istanbul"})]})},Sk=function(){var e=Xg();return(0,rk.jsxs)("div",{className:"text-center",children:[(0,rk.jsx)("div",{className:"w-24 h-24 bg-green-500 mx-auto rounded-full flex justify-center items-center",children:(0,rk.jsx)("span",{className:"text-white font-bold text-5xl",children:e&&(null===e||void 0===e?void 0:e.displayName.slice(0,1))||""})}),(0,rk.jsx)("h2",{className:"mt-4 font-bold text-4xl",children:e&&(null===e||void 0===e?void 0:e.displayName)||""})]})},_k=function(){var e=(0,t.useContext)(G),n=e.setIsLikeCarouselOpen,r=e.dataIndex,i=e.setGetSinglePic,a=e.setDataIndex,s=o((0,t.useState)([]),2),u=s[0],l=s[1],c=Xg();return(0,t.useEffect)((function(){var e=function(){var e=Ce(Te().mark((function e(t){var n,r;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=wp(Md(Wg,"users")),e.next=3,Np(n);case 3:r=e.sent,r.docs.map((function(e){return Se(Se({},e.data()),{},{id:e.id})})).map(Ce(Te().mark((function e(){var t,n;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=wp(Md(Wg,"users/".concat(c.uid,"/likes"))),n=Lp(t,(function(e){var t=[];e.docs.forEach((function(e){t.push(e.data())})),l(t)})),e.abrupt("return",(function(){return n()}));case 3:case"end":return e.stop()}}),e)}))));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();e()}),[c]),(0,t.useEffect)((function(){i(u[r]),(r>=u.length||r<=0)&&a(0),u&&0===u.length&&n(!1)}),[r]),(0,rk.jsxs)("div",{children:[(0,rk.jsxs)("h1",{className:"mt-36 my-12 font-bold text-center text-4xl",children:["Liked Images (",u&&u.length,")"]}),u&&0===u.length&&(0,rk.jsx)("h2",{className:"text-center font-bold text-xl w-full text-gray-400 mt-52",children:"No liked images has been found. \ud83d\ude22"}),(0,rk.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 max-w-screen-xl mx-auto gap-4",children:u&&u.map((function(e){var t;return(0,rk.jsx)("img",{onClick:function(){n(!0),i(e)},className:"w-11/12 lg:w-full h-96 mx-auto my-2 cursor-pointer hover:opacity-80",src:null===e||void 0===e||null===(t=e.urls)||void 0===t?void 0:t.regular,alt:null===e||void 0===e?void 0:e.alt_description},e.id)}))})]})},Ck=function(){var e=o((0,t.useState)([]),2),n=e[0],r=e[1],i=(0,t.useContext)(G),a=i.setDeleteCollectionModal,s=i.setUserCollectionName,u=Xg();return(0,t.useEffect)((function(){var e=function(){var e=Ce(Te().mark((function e(){var t,n;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=wp(Md(Wg,"users")),e.next=3,Np(t);case 3:n=e.sent,n.docs.map((function(e){return Se(Se({},e.data()),{},{id:e.id})})).map(Ce(Te().mark((function e(){var t,n;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=wp(Md(Wg,"users/".concat(u.uid,"/collections"))),n=Lp(t,(function(e){var t=[];e.docs.forEach((function(e){t.push(e.data())})),r(t)})),e.abrupt("return",(function(){return n()}));case 3:case"end":return e.stop()}}),e)}))));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[u]),(0,rk.jsxs)("section",{children:[(0,rk.jsx)("h1",{className:"mt-36 font-bold text-center text-4xl",children:"My Collections"}),n&&0===n.length&&(0,rk.jsx)("h2",{className:"mt-24 text-center text-2xl text-gray-400",children:"No collection yet.\ud83d\ude22"}),(0,rk.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 max-w-screen-xl justify-between gap-12 mx-auto my-24",children:n&&n.map((function(e){return(0,rk.jsxs)("div",{className:"relative w-64 h-64  border mx-auto rounded-xl cursor-pointer",children:[(0,rk.jsx)(K,{to:"/collections/".concat(e.id),children:(0,rk.jsx)("div",{className:"w-64 h-64 flex items-center justify-center",children:(0,rk.jsx)("h2",{className:"text-center text-3xl",children:null===e||void 0===e?void 0:e.id})})}),(0,rk.jsx)("svg",{onClick:function(){a(!0),s(null===e||void 0===e?void 0:e.id)},xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 absolute bottom-4 right-4 hover:stroke-black",fill:"none",e:!0,viewBox:"0 0 24 24",stroke:"gray",strokeWidth:2,children:(0,rk.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})]})}))})]})},Ik=function(){return(0,rk.jsxs)("div",{className:"mt-32",children:[(0,rk.jsx)(Sk,{}),(0,rk.jsxs)("section",{className:"flex m-6 w-full mx-auto justify-center gap-12",children:[(0,rk.jsx)(K,{to:"/liked-images",children:(0,rk.jsx)("button",{className:"border w-40 h-12 ml-4 font-bold hover:bg-gray-50",children:"Likes"})}),(0,rk.jsx)(K,{to:"/my-collections",children:(0,rk.jsx)("button",{className:"border w-40 h-12 ml-4 font-bold hover:bg-gray-50",children:"Collections"})})]})]})},Tk=function(e){var n,r,i=e.pictureInformation,a=e.isLikedByUser,o=e.setIsLikedByUser,s=e.imageArrayFetch,u=e.pictureIndex,l=e.setCreateCollectionModal,c=Xg(),f=(0,t.useContext)(G).setOpenLoginModal,h=function(){c||f(!0)};return(0,rk.jsxs)("div",{className:"mr-12 flex items-center",children:[(0,rk.jsxs)("button",{onClick:c?function(){l(!0)}:h,className:"flex w-24 h-12 mx-4 border text-center rounded-xl items-center justify-center hover:bg-gray-100",children:[(0,rk.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,rk.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}),(0,rk.jsx)("span",{className:"ml-1 text-main-gray-text font-semibold",children:"Save"})]}),(0,rk.jsxs)("button",{onClick:c?function(){var e;!0===(null===(e=s[u])||void 0===e?void 0:e.liked_by_user)?(s[u].liked_by_user=!1,o(!1),$g(s[u]),i.liked_by_user=!1):(s[u].liked_by_user=!0,i.liked_by_user=!0,o(!0),Jg(s[u],c))}:h,className:"flex w-24 h-12 mx-4 border text-center rounded-xl items-center justify-center hover:bg-gray-100",children:[(0,rk.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:a?"h-6 w-6 fill-main-heart-red":"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,rk.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),a?(0,rk.jsx)("span",{className:"ml-1 text-main-gray-text font-semibold",children:"Liked"}):(0,rk.jsx)("span",{className:"ml-1 text-main-gray-text font-semibold",children:"Like"})]}),(0,rk.jsx)("a",{target:"_blank",rel:"noreferrer",href:null===i||void 0===i||null===(n=i.urls)||void 0===n?void 0:n.full,download:null===i||void 0===i||null===(r=i.urls)||void 0===r?void 0:r.full,children:(0,rk.jsx)("button",{className:"w-36 h-12 mx-4 bg-green-500 hover:bg-green-400 text-center text-white font-bold tracking-wider",children:"Download"})})]})},Nk=function(e){var t=e.setPictureIndex;return(0,rk.jsxs)("div",{children:[(0,rk.jsx)("svg",{onClick:function(){return t((function(e){return e-1}))},xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 absolute top-1/2 transform translate-y-1/2 left-4 cursor-pointer",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,rk.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),(0,rk.jsx)("svg",{onClick:function(){return t((function(e){return e+1}))},xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 absolute top-1/2 transform translate-y-1/2 right-4 cursor-pointer",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,rk.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})]})},Ak=function(e){var n,r,i=e.setIsCarouselOpen,a=e.setCreateCollectionModal,s=(0,t.useContext)(G),u=s.pictureInformation,l=s.setPictureInformation,c=s.imageArrayFetch,f=o((0,t.useState)(null===u||void 0===u?void 0:u.listId),2),h=f[0],d=f[1],p=o((0,t.useState)(),2),v=p[0],m=p[1];return(0,t.useEffect)((function(){var e,t;l(c[h]),(h>=c.length||h<=0)&&d(0),!0===(null===(e=c[h])||void 0===e?void 0:e.liked_by_user)?m(!0):!1===(null===(t=c[h])||void 0===t?void 0:t.liked_by_user)&&m(!1)}),[h]),(0,rk.jsx)("div",{className:"w-full ml-auto fixed min-h-screen top-0 bg-black bg-opacity-75 z-50",children:(0,rk.jsxs)("div",{className:"absolute bg-white rounded-lg shadow top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-11/12 h-screen max-w-screen-2xl",children:[(0,rk.jsx)("button",{type:"button",className:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-800 dark:hover:text-white","data-modal-toggle":"authentication-modal",children:(0,rk.jsx)("svg",{onClick:function(){return i(!1)},className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,rk.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),(0,rk.jsx)(Nk,{setPictureIndex:d}),(0,rk.jsxs)("div",{className:"py-6 px-6 lg:px-8",children:[(0,rk.jsxs)("div",{className:"w-full h-24 flex flex-col lg:flex-row items-center justify-between",children:[(0,rk.jsxs)("div",{className:"flex items-center",children:[(0,rk.jsx)("img",{className:"rounded-full",src:null===u||void 0===u?void 0:u.user.profile_image.medium,alt:null===u||void 0===u||null===(n=u.user)||void 0===n?void 0:n.name}),(0,rk.jsx)("span",{className:"ml-4 text-main-gray-text font-medium text-lg tracking-wide",children:null===u||void 0===u||null===(r=u.user)||void 0===r?void 0:r.name})]}),(0,rk.jsx)(Tk,{setCreateCollectionModal:a,imageArrayFetch:c,pictureIndex:h,isLikedByUser:v,setIsLikedByUser:m,pictureInformation:u})]}),(0,rk.jsx)("img",{className:"mx-auto max-h-[calc(100vh_-_9rem)]",src:null===u||void 0===u?void 0:u.urls.regular,alt:null===u||void 0===u?void 0:u.alt_description})]})]})})},Ok=function(e){var n=e.setOpenLoginModal,r=o((0,t.useState)({email:"",password:""}),2),i=r[0],a=r[1],s=function(e){var t=xe({},e.target.name,e.target.value);a(Se(Se({},i),t))};return(0,rk.jsxs)("div",{className:"my-10 w-full",children:[(0,rk.jsx)("h1",{className:"text-center text-4xl text-main-gray-text font-bold",children:"Welcome back to Retina"}),(0,rk.jsxs)("button",{onClick:function(){return Qg(n)},className:"text-black border mx-auto flex mt-6 w-11/12 h-12 items-center rounded-lg pl-4 font-bold hover:bg-slate-100",children:[(0,rk.jsx)("svg",{className:"w-7 h-7 mr-7 ml-1",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,rk.jsxs)("g",{transform:"matrix(1, 0, 0, 1, 27.009001, -39.238998)",children:[(0,rk.jsx)("path",{fill:"#4285F4",d:"M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"}),(0,rk.jsx)("path",{fill:"#34A853",d:"M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"}),(0,rk.jsx)("path",{fill:"#FBBC05",d:"M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"}),(0,rk.jsx)("path",{fill:"#EA4335",d:"M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"})]})}),"Login with Google"]}),(0,rk.jsxs)("button",{onClick:function(){Gg("demoaccount@gmail.com","etemlaura"),n(!1)},className:"text-black border mx-auto flex mt-6 w-11/12 h-12 items-center rounded-lg pl-4 font-bold hover:bg-slate-100",children:[(0,rk.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-7 h-7 mr-7 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"blue",strokeWidth:2,children:(0,rk.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Login with Demo"]}),(0,rk.jsx)("h4",{className:"text-center mt-6 text-sm",children:"OR"}),(0,rk.jsxs)("form",{className:"flex flex-col",children:[(0,rk.jsx)("input",{onChange:function(e){return s(e)},className:"mx-auto border w-11/12 h-12 my-2 pl-4 tracking-wider",type:"email",name:"email",required:!0,placeholder:"Email"}),(0,rk.jsx)("input",{onChange:function(e){return s(e)},className:"mx-auto border w-11/12 h-12 my-2 pl-4 tracking-wider",type:"password",name:"password",required:!0,placeholder:"Password"}),(0,rk.jsx)("button",{onClick:function(e){return function(e){e.preventDefault(),Gg(i.email,i.password),n(!1)}(e)},className:"bg-green-800 text-white w-8/12 h-12 mx-auto mt-4 rounded hover:bg-green-600",children:"Login"})]}),(0,rk.jsx)("h4",{className:"text-sm text-center mt-4 cursor-pointer",children:"Forgot your password?"})]})};function Lk(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Dk=["onChange","errorMessage"],Rk=function(e){var n=e.onChange,r=e.errorMessage,i=Lk(e,Dk),a=o((0,t.useState)(!1),2),s=a[0],u=a[1];return(0,rk.jsxs)("div",{className:"flex flex-col sign-up-container",children:[(0,rk.jsx)("input",Se(Se({className:"mx-auto border w-11/12 h-12 my-2 pl-4 tracking-wider"},i),{},{onChange:n,onBlur:function(){return u(!0)},focused:s.toString()})),(0,rk.jsx)("span",{className:"sign-up-span",children:r})]})},Pk=[{id:1,name:"username",type:"text",placeholder:"Username",pattern:"^[A-Za-z0-9]{3,16}$",required:!0,errorMessage:"Username should be 3-16 characters and shouldn't include any special character."},{id:2,name:"email",type:"email",placeholder:"Email",required:!0,errorMessage:"It should be a valid email address."},{id:3,name:"password",type:"password",placeholder:"Password",pattern:"^.{6,}$",required:!0,errorMessage:"Password must be at least 6 characters. "}],Mk=function(){return(0,rk.jsx)("div",{className:"my-6",children:(0,rk.jsxs)("button",{onClick:Qg,className:"text-black border mx-auto flex mt-6 w-11/12 h-12 items-center rounded-lg pl-4 font-bold hover:bg-slate-100",children:[(0,rk.jsx)("svg",{className:"w-7 h-7 mr-8",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,rk.jsxs)("g",{transform:"matrix(1, 0, 0, 1, 27.009001, -39.238998)",children:[(0,rk.jsx)("path",{fill:"#4285F4",d:"M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"}),(0,rk.jsx)("path",{fill:"#34A853",d:"M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"}),(0,rk.jsx)("path",{fill:"#FBBC05",d:"M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"}),(0,rk.jsx)("path",{fill:"#EA4335",d:"M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"})]})}),"Continue with Google"]})})},jk=function(e){var n=e.setIsSignUpModalOpen,r=e.setIsSignInModalOpen,i=e.setOpenLoginModal,a=o((0,t.useState)({username:"",email:"",password:"",confirm_password:""}),2),s=a[0],u=a[1],l=function(e){var t=xe({},e.target.name,e.target.value);u(Se(Se({},s),t))},c=function(){var e=Ce(Te().mark((function e(t){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Kg(s.email,s.password,s.username,i(!1));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,rk.jsxs)("div",{className:"my-10 w-full lg:overflow-auto h-96",children:[(0,rk.jsx)("h1",{className:"text-center text-4xl text-main-gray-text font-bold mx-12",children:"Sign up now and discover millions of pictures!"}),(0,rk.jsx)(Mk,{}),(0,rk.jsx)("h4",{className:"text-center mt-6 text-sm",children:"OR"}),(0,rk.jsxs)("form",{className:"flex flex-col",children:[Pk.map((function(e){return(0,rk.jsx)(Rk,Se(Se({},e),{},{value:s[e.name],onChange:l}),e.id)})),(0,rk.jsx)("button",{onClick:c,className:"bg-green-800 text-white w-8/12 h-12 mx-auto mt-4 rounded hover:bg-green-600",children:"Sign up"})]}),(0,rk.jsxs)("h4",{onClick:function(){n(!1),r(!0)},className:"text-sm text-center mt-6 my-4 cursor-pointer",children:["Have an account?",(0,rk.jsx)("span",{className:"pl-1 underline text-blue-600 hover:text-blue-400",children:"Sign in here."})]})]})},Fk=function(e){var n=e.setOpenLoginModal,r=o((0,t.useState)(!1),2),i=r[0],a=r[1],s=o((0,t.useState)(!0),2),u=s[0],l=s[1];return(0,rk.jsx)("div",{className:"w-full ml-auto fixed min-h-screen top-0 bg-black bg-opacity-75 z-50",children:(0,rk.jsxs)("div",{className:"absolute bg-white rounded-lg shadow top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full lg:w-5/12 min-h-screen lg:min-h-fit",children:[(0,rk.jsx)("button",{onClick:function(){return n(!1)},type:"button",className:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-800 dark:hover:text-white","data-modal-toggle":"authentication-modal",children:(0,rk.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,rk.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),(0,rk.jsxs)("div",{className:"px-6 flex justify-between mx-12 my-4",children:[(0,rk.jsx)("button",{className:u?"w-6/12 mx-2 h-12 border bg-black text-white":"w-6/12 mx-2 h-12 border text-black hover:bg-slate-50",onClick:function(){l(!0),a(!1)},children:"Login"}),(0,rk.jsx)("button",{className:i?"w-6/12 mx-2 h-12 border bg-black text-white":"w-6/12 mx-2 h-12 border text-black hover:bg-slate-50",onClick:function(){l(!1),a(!0)},children:"Sign up"})]}),i&&(0,rk.jsx)(jk,{setIsSignUpModalOpen:a,setIsSignInModalOpen:l,setOpenLoginModal:n}),u&&(0,rk.jsx)(Ok,{setOpenLoginModal:n})]})})},Uk=function(e){return(0,rk.jsxs)("button",{onClick:e.clickHandler,className:"w-40 h-40 bg-search-bg rounded-lg relative hover:scale-105 mx-auto hover:bg-black hover:bg-opacity-90 group hover:text-white",children:[(0,rk.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 absolute top-1/2 left-1/2 transform -translate-y-1/2 -translate-x-1/2 fill-search-bg group-hover:stroke-white group-hover:fill-black",viewBox:"0 0 24 24",stroke:"gray",strokeWidth:2,children:(0,rk.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,rk.jsx)("p",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 font-bold",children:e.name})]})},Vk=function(e){var n=e.setCreateCollectionModal,r=e.setNewColectionPage,i=o((0,t.useState)(""),2),a=i[0],s=i[1],u=Xg();return(0,rk.jsxs)("div",{className:"absolute bg-white rounded-lg shadow top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-11/12  md:w-8/12 lg:w-4/12 max-w-screen-md",children:[(0,rk.jsx)("h3",{className:"mt-12 text-3xl font-bold text-center",children:"Create new collection"}),(0,rk.jsxs)("span",{className:"text-gray-700 ml-14 block mt-6",children:["Collection title ",(0,rk.jsx)("span",{className:"text-main-heart-red",children:"*"})]}),(0,rk.jsx)("input",{value:a,onChange:function(e){return s(e.target.value)},className:"border w-10/12 h-12 rounded-lg mx-12 block mt-2 pl-4 placeholder:text-lg",type:"text",placeholder:"Nature pictures..."}),(0,rk.jsxs)("div",{className:"flex justify-center py-7",children:[(0,rk.jsx)("button",{onClick:function(){n(!0),r(!1)},className:"border w-2/12 h-12 mx-4 rounded-lg font-bold tracking-wider hover:border-black",children:"Back"}),(0,rk.jsx)("button",{onClick:function(){Zg(a,r,u),s("")},className:a?"border w-5/12 h-12 mx-4 rounded-lg bg-green-400 hover:bg-green-600 text-white font-semibold tracking-wider":"border w-5/12 h-12 mx-4 rounded-lg cursor-not-allowed bg-search-bg text-gray-400 font-semibold tracking-wider",children:"Create"})]})]})},zk=function(){return(0,rk.jsxs)("div",{className:"flex justify-center mr-8 items-center text-center w-36 h-12 rounded-full absolute top-16 bg-zinc-100 animate-animationRightToLeft",children:[(0,rk.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 stroke-green-500 fill-transparent ",viewBox:"0 0 24 24",strokeWidth:2,children:(0,rk.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),(0,rk.jsx)("h2",{className:"text-green-500 font-bold text-lg ml-2",children:"SAVED"})]})},Bk=function(e){var n=e.setCreateCollectionModal,r=e.setIsCarouselOpen,i=o((0,t.useState)(!1),2),a=i[0],s=i[1],u=o((0,t.useState)([]),2),l=u[0],c=u[1],f=(0,t.useContext)(G).pictureInformation,h=o((0,t.useState)(!1),2),d=h[0],p=h[1];d&&setTimeout((function(){p(!1)}),5e3);var v=Xg();return(0,t.useEffect)((function(){var e=function(){var e=Ce(Te().mark((function e(){var t,n;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=wp(Md(Wg,"users")),e.next=3,Np(t);case 3:n=e.sent,n.docs.map((function(e){return Se(Se({},e.data()),{},{id:e.id})})).map(Ce(Te().mark((function e(){var t,n;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=wp(Md(Wg,"users/".concat(v.uid,"/collections"))),n=Lp(t,(function(e){var t=[];e.docs.forEach((function(e){t.push(e.data())})),c(t)})),e.abrupt("return",(function(){return n()}));case 3:case"end":return e.stop()}}),e)}))));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[v]),(0,rk.jsxs)("div",{className:"w-full ml-auto fixed min-h-screen top-0 bg-black bg-opacity-90 z-50",children:[(0,rk.jsx)(Vk,{setCreateCollectionModal:n,setNewColectionPage:s}),(0,rk.jsxs)("div",{className:a?"hidden":"absolute bg-white rounded-lg shadow top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full lg:w-7/12 min-h-screen lg:min-h-fit max-w-screen-lg",children:[(0,rk.jsx)("button",{type:"button",className:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-800 dark:hover:text-white","data-modal-toggle":"authentication-modal",children:(0,rk.jsx)("svg",{onClick:function(){return n(!1)},className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,rk.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),(0,rk.jsx)("h3",{className:"mt-12 mb-4 text-3xl font-bold text-center",children:"Save to Collection"}),(0,rk.jsxs)(K,{to:"/my-collections",children:[(0,rk.jsx)("span",{onClick:function(){r(!1),n(!1)},className:"flex justify-center text-gray-400 underline underline-offset-1 hover:text-gray-600",children:"All collections"}),d&&(0,rk.jsx)(zk,{})]}),(0,rk.jsxs)("div",{className:"px-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-12 w-full my-4 pt-1 lg:h-96 overflow-auto",children:[(0,rk.jsx)(Uk,{name:"Create",clickHandler:function(){return s(!0)}}),l&&l.map((function(e){return(0,rk.jsx)(Uk,{clickHandler:function(){return tk(v,e,f,p)},name:null===e||void 0===e?void 0:e.id})}))]})]})]})},qk=function(){var e=(0,t.useContext)(G).setDataIndex;return(0,rk.jsxs)("div",{children:[(0,rk.jsx)("svg",{onClick:function(){return e((function(e){return e+1}))},xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 absolute top-1/2 transform translate-y-1/2 left-4 cursor-pointer",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,rk.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),(0,rk.jsx)("svg",{onClick:function(){e((function(e){return e+1}))},xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 absolute top-1/2 transform translate-y-1/2 right-4 cursor-pointer",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,rk.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})]})},Hk=function(e){var n,r,i=e.getSinglePic,a=(0,t.useContext)(G).setDataIndex,o=Xg();return(0,rk.jsxs)("div",{className:"mr-12 flex items-center",children:[(0,rk.jsxs)("button",{onClick:function(){$g(i),nk(o,i),a((function(e){return e+1}))},className:"flex w-32 h-12 mx-4 border text-center rounded-xl items-center justify-center hover:bg-gray-100",children:[(0,rk.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,rk.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),(0,rk.jsx)("span",{className:"ml-1 text-main-gray-text font-semibold",children:"Remove"})]}),(0,rk.jsx)("a",{target:"_blank",rel:"noreferrer",href:null===i||void 0===i||null===(n=i.urls)||void 0===n?void 0:n.full,download:null===i||void 0===i||null===(r=i.urls)||void 0===r?void 0:r.full,children:(0,rk.jsx)("button",{className:"w-36 h-12 mx-4 bg-green-500 hover:bg-green-400 text-center text-white font-bold tracking-wider",children:"Download"})})]})},Wk=function(e){var n,r,i,a,o,s=e.setIsLikeCarouselOpen,u=(0,t.useContext)(G),l=u.getSinglePic,c=u.setGetSinglePic;return(0,rk.jsx)("div",{className:"w-full ml-auto fixed min-h-screen top-0 bg-black bg-opacity-75 z-50",children:(0,rk.jsxs)("div",{className:"absolute bg-white rounded-lg shadow top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-11/12 h-screen max-w-screen-2xl",children:[(0,rk.jsx)("button",{type:"button",className:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-800 dark:hover:text-white","data-modal-toggle":"authentication-modal",children:(0,rk.jsx)("svg",{onClick:function(){return s(!1)},className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,rk.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),(0,rk.jsxs)("div",{className:"py-6 px-6 lg:px-8",children:[(0,rk.jsxs)("div",{className:"w-full h-24 flex flex-col lg:flex-row items-center justify-between",children:[(0,rk.jsxs)("div",{className:"flex items-center",children:[(0,rk.jsx)("img",{className:"rounded-full",src:null===l||void 0===l||null===(n=l.user)||void 0===n||null===(r=n.profile_image)||void 0===r?void 0:r.medium,alt:null===l||void 0===l||null===(i=l.user)||void 0===i?void 0:i.name}),(0,rk.jsx)("span",{className:"ml-4 text-main-gray-text font-medium text-lg tracking-wide",children:null===l||void 0===l||null===(a=l.user)||void 0===a?void 0:a.name})]}),(0,rk.jsx)(Hk,{getSinglePic:l})]}),(0,rk.jsx)(qk,{setGetSinglePic:c}),(0,rk.jsx)("img",{className:"mx-auto max-h-[calc(100vh_-_9rem)]",src:null===l||void 0===l||null===(o=l.urls)||void 0===o?void 0:o.regular,alt:null===l||void 0===l?void 0:l.alt_description})]})]})})},Kk=function(e){var n=e.setDeleteCollectionModal,r=(0,t.useContext)(G).userCollectionName,i=Xg();return(0,rk.jsx)("div",{className:"w-full ml-auto fixed min-h-screen top-0 bg-black bg-opacity-90 z-50",children:(0,rk.jsxs)("div",{className:"absolute bg-white rounded-lg shadow top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-11/12  md:w-8/12 lg:w-4/12 max-w-screen-md",children:[(0,rk.jsx)("h3",{className:"mt-12 text-3xl font-bold text-center px-12",children:"Delete this collection?"}),(0,rk.jsx)("svg",{onClick:function(){return n(!1)},xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 absolute top-6 right-6 cursor-pointer hover:stroke-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,rk.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),(0,rk.jsxs)("div",{className:"flex justify-around my-10",children:[(0,rk.jsx)("button",{onClick:function(){return n(!1)},className:"border w-36 h-12 rounded-full font-medium hover:text-gray-600 hover:border-gray-600",children:"Cancel"}),(0,rk.jsx)("button",{onClick:function(){ek(r,i,n)},className:"w-36 h-12 bg-red-500 border rounded-full text-white font-medium tracking-widest hover:bg-white hover:text-red-500",children:"Delete"})]})]})})},Gk=function(){var e=Xg(),n=o((0,t.useState)(null),2),r=n[0],i=n[1],a=function(){var e=(0,t.useContext)(k).matches,n=e[e.length-1];return n?n.params:{}}().id,s=(0,t.useContext)(G),u=s.setIsLikeCarouselOpen,l=s.dataIndex,c=s.setGetSinglePic,f=s.setDataIndex;return(0,t.useEffect)((function(){var t=function(){var t=Ce(Te().mark((function t(){var n,r;return Te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=wp(Md(Wg,"users")),t.next=3,Np(n);case 3:r=t.sent,r.docs.map((function(e){return Se(Se({},e.data()),{},{id:e.id})})).map(Ce(Te().mark((function t(){var n,r,o;return Te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Md(Wg,"users/".concat(e.uid,"/collection-images")),r=wp(n,xp("fireCategory","==",a)),o=Lp(r,(function(e){var t=[];e.docs.forEach((function(e){t.push(e.data())})),i(t)})),t.abrupt("return",(function(){return o()}));case 4:case"end":return t.stop()}}),t)}))));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e,a]),(0,t.useEffect)((function(){c(r&&r[l]),(l>=(null===r||void 0===r?void 0:r.length)||l<=0)&&f(0),r&&0===r.length&&u(!1)}),[l]),(0,rk.jsxs)("div",{className:"mt-44",children:[(0,rk.jsx)("h2",{className:"text-center text-5xl mt-24 my-12 text-main-gray-text font-bold",children:a}),(0,rk.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 max-w-screen-xl mx-auto gap-4",children:r&&r.map((function(e){var t;return(0,rk.jsx)("img",{onClick:function(){u(!0),c(e)},className:"w-11/12 lg:w-full h-96 mx-auto my-2 cursor-pointer hover:opacity-80",src:null===e||void 0===e||null===(t=e.urls)||void 0===t?void 0:t.regular,alt:null===e||void 0===e?void 0:e.alt_description},e.id)}))}),r&&0===r.length&&(0,rk.jsx)("h2",{className:"text-center font-bold text-xl w-full text-gray-400 mt-24",children:"No images for this collection yet. \ud83d\ude22"})]})};var Qk=function(){var e=o((0,t.useState)(void 0),2),n=e[0],r=e[1],i=o((0,t.useState)(null),2),a=i[0],s=i[1],u=o((0,t.useState)(null),2),l=u[0],c=u[1],f=o((0,t.useState)(null),2),h=f[0],d=f[1],p=o((0,t.useState)(null),2),v=p[0],m=p[1],y=o((0,t.useState)(void 0),2),g=y[0],k=y[1],b=o((0,t.useState)([]),2),E=b[0],S=b[1],_=o((0,t.useState)(""),2),C=_[0],I=_[1],T=o((0,t.useState)(""),2),N=T[0],A=T[1],O=o((0,t.useState)("messi"),2),L=O[0],D=O[1],R=o((0,t.useState)("messi"),2),P=R[0],M=R[1],j=o((0,t.useState)([]),2),F=j[0],U=j[1],V=o((0,t.useState)(!1),2),z=V[0],B=V[1],q=o((0,t.useState)(!1),2),H=q[0],K=q[1],Q=o((0,t.useState)(!1),2),Y=Q[0],X=Q[1],J=o((0,t.useState)(!1),2),$=J[0],Z=J[1],ee=o((0,t.useState)(!1),2),te=ee[0],ne=ee[1],re=o((0,t.useState)(!1),2),ie=re[0],ae=re[1],oe=o((0,t.useState)(),2),se=oe[0],ue=oe[1],le=o((0,t.useState)([]),2),ce=le[0],fe=le[1],he=o((0,t.useState)({}),2),de=he[0],pe=he[1],ve=o((0,t.useState)(0),2),me=ve[0],ye=ve[1],ge=o((0,t.useState)(),2),ke=ge[0],we=ge[1];return(0,t.useEffect)((function(){setTimeout((function(){B(!1)}),200)}),[]),(0,rk.jsx)(G.Provider,{value:{largeImage:a,setLargeImage:s,galleryArrayIndex:g,setGalleryArrayIndex:k,pictures:E,setPictures:S,uploaderImageModal:l,setUploaderImageModal:c,uploaderNameModal:h,setUploaderNameModal:d,nextImage:v,setNextImage:m,loginName:C,setLoginName:I,userName:N,setUserName:A,searchQuery:L,setSearchQuery:D,inputSearchQuery:P,setInputSearchQuery:M,userLikeImage:F,setUserLikeImage:U,showModal:z,setShowModal:B,setOpenLoginModal:Z,setIsCarouselOpen:K,pictureInformation:se,setPictureInformation:ue,imageArrayFetch:ce,setImageArrayFetch:fe,isLikeCarouselOpen:Y,setIsLikeCarouselOpen:X,getSinglePic:de,setGetSinglePic:pe,dataIndex:me,setDataIndex:ye,deleteCollectionModal:ie,setDeleteCollectionModal:ae,userCollectionName:ke,setUserCollectionName:we,setCreateCollectionModal:ne},children:(0,rk.jsxs)(W,{children:[(0,rk.jsx)(uk,{query:n,setQuery:r}),H&&(0,rk.jsx)(Ak,{setCreateCollectionModal:ne,setIsCarouselOpen:K}),$&&(0,rk.jsx)(Fk,{setOpenLoginModal:Z}),Y&&(0,rk.jsx)(Wk,{isLikeCarouselOpen:Y,setIsLikeCarouselOpen:X}),te&&(0,rk.jsx)(Bk,{setIsCarouselOpen:K,setCreateCollectionModal:ne}),ie&&(0,rk.jsx)(Kk,{setDeleteCollectionModal:ae}),(0,rk.jsxs)(x,{children:[(0,rk.jsx)(w,{path:"/",element:(0,rk.jsx)(Ek,{query:n,setQuery:r})}),(0,rk.jsx)(w,{path:"/gallery",element:(0,rk.jsx)(bk,{pictures:E,setPictures:S})}),(0,rk.jsx)(w,{path:"/search/:query",element:(0,rk.jsx)(xk,{query:n})}),(0,rk.jsx)(w,{path:"/liked-images",element:(0,rk.jsx)(_k,{})}),(0,rk.jsx)(w,{path:"/my-collections",element:(0,rk.jsx)(Ck,{})}),(0,rk.jsx)(w,{path:"/collections/:id",element:(0,rk.jsx)(Gk,{})}),(0,rk.jsx)(w,{element:(0,rk.jsx)(wk,{})}),(0,rk.jsx)(w,{path:"/my-collections",element:(0,rk.jsx)(Ck,{})}),(0,rk.jsx)(w,{path:"/user-profile",element:(0,rk.jsx)(Ik,{})})]})]})})};r.render((0,rk.jsx)(t.StrictMode,{children:(0,rk.jsx)(Qk,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.5c61536e.js.map